"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@mysten";
exports.ids = ["vendor-chunks/@mysten"];
exports.modules = {

/***/ "(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs":
/*!*****************************************************!*\
  !*** ../../node_modules/@mysten/bcs/dist/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BCS: () => (/* binding */ BCS),\n/* harmony export */   BcsReader: () => (/* binding */ BcsReader),\n/* harmony export */   BcsType: () => (/* binding */ BcsType),\n/* harmony export */   BcsWriter: () => (/* binding */ BcsWriter),\n/* harmony export */   SerializedBcs: () => (/* binding */ SerializedBcs),\n/* harmony export */   bcs: () => (/* binding */ bcs),\n/* harmony export */   decodeStr: () => (/* binding */ decodeStr),\n/* harmony export */   encodeStr: () => (/* binding */ encodeStr),\n/* harmony export */   fromB58: () => (/* binding */ fromB58),\n/* harmony export */   fromB64: () => (/* binding */ fromB64),\n/* harmony export */   fromHEX: () => (/* binding */ fromHEX),\n/* harmony export */   getRustConfig: () => (/* binding */ getRustConfig),\n/* harmony export */   getSuiMoveConfig: () => (/* binding */ getSuiMoveConfig),\n/* harmony export */   isSerializedBcs: () => (/* binding */ isSerializedBcs),\n/* harmony export */   registerPrimitives: () => (/* binding */ registerPrimitives),\n/* harmony export */   splitGenericParameters: () => (/* binding */ splitGenericParameters),\n/* harmony export */   toB58: () => (/* binding */ toB58),\n/* harmony export */   toB64: () => (/* binding */ toB64),\n/* harmony export */   toHEX: () => (/* binding */ toHEX)\n/* harmony export */ });\n/* harmony import */ var bs58__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bs58 */ \"(ssr)/../../node_modules/bs58/index.js\");\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/b58.ts\n\nvar toB58 = (buffer) => bs58__WEBPACK_IMPORTED_MODULE_0__.encode(buffer);\nvar fromB58 = (str) => bs58__WEBPACK_IMPORTED_MODULE_0__.decode(str);\n\n// src/b64.ts\nfunction b64ToUint6(nChr) {\n  return nChr > 64 && nChr < 91 ? nChr - 65 : nChr > 96 && nChr < 123 ? nChr - 71 : nChr > 47 && nChr < 58 ? nChr + 4 : nChr === 43 ? 62 : nChr === 47 ? 63 : 0;\n}\nfunction fromB64(sBase64, nBlocksSize) {\n  var sB64Enc = sBase64.replace(/[^A-Za-z0-9+/]/g, \"\"), nInLen = sB64Enc.length, nOutLen = nBlocksSize ? Math.ceil((nInLen * 3 + 1 >> 2) / nBlocksSize) * nBlocksSize : nInLen * 3 + 1 >> 2, taBytes = new Uint8Array(nOutLen);\n  for (var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0; nInIdx < nInLen; nInIdx++) {\n    nMod4 = nInIdx & 3;\n    nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << 6 * (3 - nMod4);\n    if (nMod4 === 3 || nInLen - nInIdx === 1) {\n      for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {\n        taBytes[nOutIdx] = nUint24 >>> (16 >>> nMod3 & 24) & 255;\n      }\n      nUint24 = 0;\n    }\n  }\n  return taBytes;\n}\nfunction uint6ToB64(nUint6) {\n  return nUint6 < 26 ? nUint6 + 65 : nUint6 < 52 ? nUint6 + 71 : nUint6 < 62 ? nUint6 - 4 : nUint6 === 62 ? 43 : nUint6 === 63 ? 47 : 65;\n}\nfunction toB64(aBytes) {\n  var nMod3 = 2, sB64Enc = \"\";\n  for (var nLen = aBytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {\n    nMod3 = nIdx % 3;\n    nUint24 |= aBytes[nIdx] << (16 >>> nMod3 & 24);\n    if (nMod3 === 2 || aBytes.length - nIdx === 1) {\n      sB64Enc += String.fromCodePoint(\n        uint6ToB64(nUint24 >>> 18 & 63),\n        uint6ToB64(nUint24 >>> 12 & 63),\n        uint6ToB64(nUint24 >>> 6 & 63),\n        uint6ToB64(nUint24 & 63)\n      );\n      nUint24 = 0;\n    }\n  }\n  return sB64Enc.slice(0, sB64Enc.length - 2 + nMod3) + (nMod3 === 2 ? \"\" : nMod3 === 1 ? \"=\" : \"==\");\n}\n\n// src/hex.ts\nfunction fromHEX(hexStr) {\n  const normalized = hexStr.startsWith(\"0x\") ? hexStr.slice(2) : hexStr;\n  const padded = normalized.length % 2 === 0 ? normalized : `0${normalized}}`;\n  const intArr = padded.match(/.{2}/g)?.map((byte) => parseInt(byte, 16)) ?? [];\n  return Uint8Array.from(intArr);\n}\nfunction toHEX(bytes) {\n  return bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, \"0\"), \"\");\n}\n\n// src/uleb.ts\nfunction ulebEncode(num) {\n  let arr = [];\n  let len = 0;\n  if (num === 0) {\n    return [0];\n  }\n  while (num > 0) {\n    arr[len] = num & 127;\n    if (num >>= 7) {\n      arr[len] |= 128;\n    }\n    len += 1;\n  }\n  return arr;\n}\nfunction ulebDecode(arr) {\n  let total = 0;\n  let shift = 0;\n  let len = 0;\n  while (true) {\n    let byte = arr[len];\n    len += 1;\n    total |= (byte & 127) << shift;\n    if ((byte & 128) === 0) {\n      break;\n    }\n    shift += 7;\n  }\n  return {\n    value: total,\n    length: len\n  };\n}\n\n// src/reader.ts\nvar BcsReader = class {\n  /**\n   * @param {Uint8Array} data Data to use as a buffer.\n   */\n  constructor(data) {\n    this.bytePosition = 0;\n    this.dataView = new DataView(data.buffer);\n  }\n  /**\n   * Shift current cursor position by `bytes`.\n   *\n   * @param {Number} bytes Number of bytes to\n   * @returns {this} Self for possible chaining.\n   */\n  shift(bytes) {\n    this.bytePosition += bytes;\n    return this;\n  }\n  /**\n   * Read U8 value from the buffer and shift cursor by 1.\n   * @returns\n   */\n  read8() {\n    let value = this.dataView.getUint8(this.bytePosition);\n    this.shift(1);\n    return value;\n  }\n  /**\n   * Read U16 value from the buffer and shift cursor by 2.\n   * @returns\n   */\n  read16() {\n    let value = this.dataView.getUint16(this.bytePosition, true);\n    this.shift(2);\n    return value;\n  }\n  /**\n   * Read U32 value from the buffer and shift cursor by 4.\n   * @returns\n   */\n  read32() {\n    let value = this.dataView.getUint32(this.bytePosition, true);\n    this.shift(4);\n    return value;\n  }\n  /**\n   * Read U64 value from the buffer and shift cursor by 8.\n   * @returns\n   */\n  read64() {\n    let value1 = this.read32();\n    let value2 = this.read32();\n    let result = value2.toString(16) + value1.toString(16).padStart(8, \"0\");\n    return BigInt(\"0x\" + result).toString(10);\n  }\n  /**\n   * Read U128 value from the buffer and shift cursor by 16.\n   */\n  read128() {\n    let value1 = BigInt(this.read64());\n    let value2 = BigInt(this.read64());\n    let result = value2.toString(16) + value1.toString(16).padStart(16, \"0\");\n    return BigInt(\"0x\" + result).toString(10);\n  }\n  /**\n   * Read U128 value from the buffer and shift cursor by 32.\n   * @returns\n   */\n  read256() {\n    let value1 = BigInt(this.read128());\n    let value2 = BigInt(this.read128());\n    let result = value2.toString(16) + value1.toString(16).padStart(32, \"0\");\n    return BigInt(\"0x\" + result).toString(10);\n  }\n  /**\n   * Read `num` number of bytes from the buffer and shift cursor by `num`.\n   * @param num Number of bytes to read.\n   */\n  readBytes(num) {\n    let start = this.bytePosition + this.dataView.byteOffset;\n    let value = new Uint8Array(this.dataView.buffer, start, num);\n    this.shift(num);\n    return value;\n  }\n  /**\n   * Read ULEB value - an integer of varying size. Used for enum indexes and\n   * vector lengths.\n   * @returns {Number} The ULEB value.\n   */\n  readULEB() {\n    let start = this.bytePosition + this.dataView.byteOffset;\n    let buffer = new Uint8Array(this.dataView.buffer, start);\n    let { value, length } = ulebDecode(buffer);\n    this.shift(length);\n    return value;\n  }\n  /**\n   * Read a BCS vector: read a length and then apply function `cb` X times\n   * where X is the length of the vector, defined as ULEB in BCS bytes.\n   * @param cb Callback to process elements of vector.\n   * @returns {Array<Any>} Array of the resulting values, returned by callback.\n   */\n  readVec(cb) {\n    let length = this.readULEB();\n    let result = [];\n    for (let i = 0; i < length; i++) {\n      result.push(cb(this, i, length));\n    }\n    return result;\n  }\n};\n\n// src/utils.ts\nfunction encodeStr(data, encoding) {\n  switch (encoding) {\n    case \"base58\":\n      return toB58(data);\n    case \"base64\":\n      return toB64(data);\n    case \"hex\":\n      return toHEX(data);\n    default:\n      throw new Error(\"Unsupported encoding, supported values are: base64, hex\");\n  }\n}\nfunction decodeStr(data, encoding) {\n  switch (encoding) {\n    case \"base58\":\n      return fromB58(data);\n    case \"base64\":\n      return fromB64(data);\n    case \"hex\":\n      return fromHEX(data);\n    default:\n      throw new Error(\"Unsupported encoding, supported values are: base64, hex\");\n  }\n}\nfunction splitGenericParameters(str, genericSeparators = [\"<\", \">\"]) {\n  const [left, right] = genericSeparators;\n  const tok = [];\n  let word = \"\";\n  let nestedAngleBrackets = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str[i];\n    if (char === left) {\n      nestedAngleBrackets++;\n    }\n    if (char === right) {\n      nestedAngleBrackets--;\n    }\n    if (nestedAngleBrackets === 0 && char === \",\") {\n      tok.push(word.trim());\n      word = \"\";\n      continue;\n    }\n    word += char;\n  }\n  tok.push(word.trim());\n  return tok;\n}\n\n// src/writer.ts\nvar BcsWriter = class {\n  constructor({ size = 1024, maxSize, allocateSize = 1024 } = {}) {\n    this.bytePosition = 0;\n    this.size = size;\n    this.maxSize = maxSize || size;\n    this.allocateSize = allocateSize;\n    this.dataView = new DataView(new ArrayBuffer(size));\n  }\n  ensureSizeOrGrow(bytes) {\n    const requiredSize = this.bytePosition + bytes;\n    if (requiredSize > this.size) {\n      const nextSize = Math.min(this.maxSize, this.size + this.allocateSize);\n      if (requiredSize > nextSize) {\n        throw new Error(\n          `Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${requiredSize}`\n        );\n      }\n      this.size = nextSize;\n      const nextBuffer = new ArrayBuffer(this.size);\n      new Uint8Array(nextBuffer).set(new Uint8Array(this.dataView.buffer));\n      this.dataView = new DataView(nextBuffer);\n    }\n  }\n  /**\n   * Shift current cursor position by `bytes`.\n   *\n   * @param {Number} bytes Number of bytes to\n   * @returns {this} Self for possible chaining.\n   */\n  shift(bytes) {\n    this.bytePosition += bytes;\n    return this;\n  }\n  /**\n   * Write a U8 value into a buffer and shift cursor position by 1.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  write8(value) {\n    this.ensureSizeOrGrow(1);\n    this.dataView.setUint8(this.bytePosition, Number(value));\n    return this.shift(1);\n  }\n  /**\n   * Write a U16 value into a buffer and shift cursor position by 2.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  write16(value) {\n    this.ensureSizeOrGrow(2);\n    this.dataView.setUint16(this.bytePosition, Number(value), true);\n    return this.shift(2);\n  }\n  /**\n   * Write a U32 value into a buffer and shift cursor position by 4.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  write32(value) {\n    this.ensureSizeOrGrow(4);\n    this.dataView.setUint32(this.bytePosition, Number(value), true);\n    return this.shift(4);\n  }\n  /**\n   * Write a U64 value into a buffer and shift cursor position by 8.\n   * @param {bigint} value Value to write.\n   * @returns {this}\n   */\n  write64(value) {\n    toLittleEndian(BigInt(value), 8).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a U128 value into a buffer and shift cursor position by 16.\n   *\n   * @param {bigint} value Value to write.\n   * @returns {this}\n   */\n  write128(value) {\n    toLittleEndian(BigInt(value), 16).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a U256 value into a buffer and shift cursor position by 16.\n   *\n   * @param {bigint} value Value to write.\n   * @returns {this}\n   */\n  write256(value) {\n    toLittleEndian(BigInt(value), 32).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a ULEB value into a buffer and shift cursor position by number of bytes\n   * written.\n   * @param {Number} value Value to write.\n   * @returns {this}\n   */\n  writeULEB(value) {\n    ulebEncode(value).forEach((el) => this.write8(el));\n    return this;\n  }\n  /**\n   * Write a vector into a buffer by first writing the vector length and then calling\n   * a callback on each passed value.\n   *\n   * @param {Array<Any>} vector Array of elements to write.\n   * @param {WriteVecCb} cb Callback to call on each element of the vector.\n   * @returns {this}\n   */\n  writeVec(vector, cb) {\n    this.writeULEB(vector.length);\n    Array.from(vector).forEach((el, i) => cb(this, el, i, vector.length));\n    return this;\n  }\n  /**\n   * Adds support for iterations over the object.\n   * @returns {Uint8Array}\n   */\n  *[Symbol.iterator]() {\n    for (let i = 0; i < this.bytePosition; i++) {\n      yield this.dataView.getUint8(i);\n    }\n    return this.toBytes();\n  }\n  /**\n   * Get underlying buffer taking only value bytes (in case initial buffer size was bigger).\n   * @returns {Uint8Array} Resulting bcs.\n   */\n  toBytes() {\n    return new Uint8Array(this.dataView.buffer.slice(0, this.bytePosition));\n  }\n  /**\n   * Represent data as 'hex' or 'base64'\n   * @param encoding Encoding to use: 'base64' or 'hex'\n   */\n  toString(encoding) {\n    return encodeStr(this.toBytes(), encoding);\n  }\n};\nfunction toLittleEndian(bigint, size) {\n  let result = new Uint8Array(size);\n  let i = 0;\n  while (bigint > 0) {\n    result[i] = Number(bigint % BigInt(256));\n    bigint = bigint / BigInt(256);\n    i += 1;\n  }\n  return result;\n}\n\n// src/bcs-type.ts\nvar _write, _serialize;\nvar _BcsType = class _BcsType {\n  constructor(options) {\n    __privateAdd(this, _write, void 0);\n    __privateAdd(this, _serialize, void 0);\n    this.name = options.name;\n    this.read = options.read;\n    this.serializedSize = options.serializedSize ?? (() => null);\n    __privateSet(this, _write, options.write);\n    __privateSet(this, _serialize, options.serialize ?? ((value, options2) => {\n      const writer = new BcsWriter({ size: this.serializedSize(value) ?? void 0, ...options2 });\n      __privateGet(this, _write).call(this, value, writer);\n      return writer.toBytes();\n    }));\n    this.validate = options.validate ?? (() => {\n    });\n  }\n  write(value, writer) {\n    this.validate(value);\n    __privateGet(this, _write).call(this, value, writer);\n  }\n  serialize(value, options) {\n    this.validate(value);\n    return new SerializedBcs(this, __privateGet(this, _serialize).call(this, value, options));\n  }\n  parse(bytes) {\n    const reader = new BcsReader(bytes);\n    return this.read(reader);\n  }\n  transform({\n    name,\n    input,\n    output\n  }) {\n    return new _BcsType({\n      name: name ?? this.name,\n      read: (reader) => output(this.read(reader)),\n      write: (value, writer) => __privateGet(this, _write).call(this, input(value), writer),\n      serializedSize: (value) => this.serializedSize(input(value)),\n      serialize: (value, options) => __privateGet(this, _serialize).call(this, input(value), options),\n      validate: (value) => this.validate(input(value))\n    });\n  }\n};\n_write = new WeakMap();\n_serialize = new WeakMap();\nvar BcsType = _BcsType;\nvar SERIALIZED_BCS_BRAND = Symbol.for(\"@mysten/serialized-bcs\");\nfunction isSerializedBcs(obj) {\n  return !!obj && typeof obj === \"object\" && obj[SERIALIZED_BCS_BRAND] === true;\n}\nvar _schema, _bytes;\nvar SerializedBcs = class {\n  constructor(type, schema) {\n    __privateAdd(this, _schema, void 0);\n    __privateAdd(this, _bytes, void 0);\n    __privateSet(this, _schema, type);\n    __privateSet(this, _bytes, schema);\n  }\n  // Used to brand SerializedBcs so that they can be identified, even between multiple copies\n  // of the @mysten/bcs package are installed\n  get [SERIALIZED_BCS_BRAND]() {\n    return true;\n  }\n  toBytes() {\n    return __privateGet(this, _bytes);\n  }\n  toHex() {\n    return toHEX(__privateGet(this, _bytes));\n  }\n  toBase64() {\n    return toB64(__privateGet(this, _bytes));\n  }\n  toBase58() {\n    return toB58(__privateGet(this, _bytes));\n  }\n  parse() {\n    return __privateGet(this, _schema).parse(__privateGet(this, _bytes));\n  }\n};\n_schema = new WeakMap();\n_bytes = new WeakMap();\nfunction fixedSizeBcsType({\n  size,\n  ...options\n}) {\n  return new BcsType({\n    ...options,\n    serializedSize: () => size\n  });\n}\nfunction uIntBcsType({\n  readMethod,\n  writeMethod,\n  ...options\n}) {\n  return fixedSizeBcsType({\n    ...options,\n    read: (reader) => reader[readMethod](),\n    write: (value, writer) => writer[writeMethod](value),\n    validate: (value) => {\n      if (value < 0 || value > options.maxValue) {\n        throw new TypeError(\n          `Invalid ${options.name} value: ${value}. Expected value in range 0-${options.maxValue}`\n        );\n      }\n      options.validate?.(value);\n    }\n  });\n}\nfunction bigUIntBcsType({\n  readMethod,\n  writeMethod,\n  ...options\n}) {\n  return fixedSizeBcsType({\n    ...options,\n    read: (reader) => reader[readMethod](),\n    write: (value, writer) => writer[writeMethod](BigInt(value)),\n    validate: (val) => {\n      const value = BigInt(val);\n      if (value < 0 || value > options.maxValue) {\n        throw new TypeError(\n          `Invalid ${options.name} value: ${value}. Expected value in range 0-${options.maxValue}`\n        );\n      }\n      options.validate?.(value);\n    }\n  });\n}\nfunction dynamicSizeBcsType({\n  serialize,\n  ...options\n}) {\n  const type = new BcsType({\n    ...options,\n    serialize,\n    write: (value, writer) => {\n      for (const byte of type.serialize(value).toBytes()) {\n        writer.write8(byte);\n      }\n    }\n  });\n  return type;\n}\nfunction stringLikeBcsType({\n  toBytes,\n  fromBytes,\n  ...options\n}) {\n  return new BcsType({\n    ...options,\n    read: (reader) => {\n      const length = reader.readULEB();\n      const bytes = reader.readBytes(length);\n      return fromBytes(bytes);\n    },\n    write: (hex, writer) => {\n      const bytes = toBytes(hex);\n      writer.writeULEB(bytes.length);\n      for (let i = 0; i < bytes.length; i++) {\n        writer.write8(bytes[i]);\n      }\n    },\n    serialize: (value) => {\n      const bytes = toBytes(value);\n      const size = ulebEncode(bytes.length);\n      const result = new Uint8Array(size.length + bytes.length);\n      result.set(size, 0);\n      result.set(bytes, size.length);\n      return result;\n    },\n    validate: (value) => {\n      if (typeof value !== \"string\") {\n        throw new TypeError(`Invalid ${options.name} value: ${value}. Expected string`);\n      }\n      options.validate?.(value);\n    }\n  });\n}\nfunction lazyBcsType(cb) {\n  let lazyType = null;\n  function getType() {\n    if (!lazyType) {\n      lazyType = cb();\n    }\n    return lazyType;\n  }\n  return new BcsType({\n    name: \"lazy\",\n    read: (data) => getType().read(data),\n    serializedSize: (value) => getType().serializedSize(value),\n    write: (value, writer) => getType().write(value, writer),\n    serialize: (value, options) => getType().serialize(value, options).toBytes()\n  });\n}\n\n// src/bcs.ts\nvar bcs = {\n  /**\n   * Creates a BcsType that can be used to read and write an 8-bit unsigned integer.\n   * @example\n   * bcs.u8().serialize(255).toBytes() // Uint8Array [ 255 ]\n   */\n  u8(options) {\n    return uIntBcsType({\n      name: \"u8\",\n      readMethod: \"read8\",\n      writeMethod: \"write8\",\n      size: 1,\n      maxValue: 2 ** 8 - 1,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 16-bit unsigned integer.\n   * @example\n   * bcs.u16().serialize(65535).toBytes() // Uint8Array [ 255, 255 ]\n   */\n  u16(options) {\n    return uIntBcsType({\n      name: \"u16\",\n      readMethod: \"read16\",\n      writeMethod: \"write16\",\n      size: 2,\n      maxValue: 2 ** 16 - 1,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 32-bit unsigned integer.\n   * @example\n   * bcs.u32().serialize(4294967295).toBytes() // Uint8Array [ 255, 255, 255, 255 ]\n   */\n  u32(options) {\n    return uIntBcsType({\n      name: \"u32\",\n      readMethod: \"read32\",\n      writeMethod: \"write32\",\n      size: 4,\n      maxValue: 2 ** 32 - 1,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 64-bit unsigned integer.\n   * @example\n   * bcs.u64().serialize(1).toBytes() // Uint8Array [ 1, 0, 0, 0, 0, 0, 0, 0 ]\n   */\n  u64(options) {\n    return bigUIntBcsType({\n      name: \"u64\",\n      readMethod: \"read64\",\n      writeMethod: \"write64\",\n      size: 8,\n      maxValue: 2n ** 64n - 1n,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 128-bit unsigned integer.\n   * @example\n   * bcs.u128().serialize(1).toBytes() // Uint8Array [ 1, ..., 0 ]\n   */\n  u128(options) {\n    return bigUIntBcsType({\n      name: \"u128\",\n      readMethod: \"read128\",\n      writeMethod: \"write128\",\n      size: 16,\n      maxValue: 2n ** 128n - 1n,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write a 256-bit unsigned integer.\n   * @example\n   * bcs.u256().serialize(1).toBytes() // Uint8Array [ 1, ..., 0 ]\n   */\n  u256(options) {\n    return bigUIntBcsType({\n      name: \"u256\",\n      readMethod: \"read256\",\n      writeMethod: \"write256\",\n      size: 32,\n      maxValue: 2n ** 256n - 1n,\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write boolean values.\n   * @example\n   * bcs.bool().serialize(true).toBytes() // Uint8Array [ 1 ]\n   */\n  bool(options) {\n    return fixedSizeBcsType({\n      name: \"bool\",\n      size: 1,\n      read: (reader) => reader.read8() === 1,\n      write: (value, writer) => writer.write8(value ? 1 : 0),\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (typeof value !== \"boolean\") {\n          throw new TypeError(`Expected boolean, found ${typeof value}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType that can be used to read and write unsigned LEB encoded integers\n   * @example\n   *\n   */\n  uleb128(options) {\n    return dynamicSizeBcsType({\n      name: \"uleb128\",\n      read: (reader) => reader.readULEB(),\n      serialize: (value) => {\n        return Uint8Array.from(ulebEncode(value));\n      },\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType representing a fixed length byte array\n   * @param size The number of bytes this types represents\n   * @example\n   * bcs.bytes(3).serialize(new Uint8Array([1, 2, 3])).toBytes() // Uint8Array [1, 2, 3]\n   */\n  bytes(size, options) {\n    return fixedSizeBcsType({\n      name: `bytes[${size}]`,\n      size,\n      read: (reader) => reader.readBytes(size),\n      write: (value, writer) => {\n        for (let i = 0; i < size; i++) {\n          writer.write8(value[i] ?? 0);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!(\"length\" in value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n        if (value.length !== size) {\n          throw new TypeError(`Expected array of length ${size}, found ${value.length}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType that can ser/de string values.  Strings will be UTF-8 encoded\n   * @example\n   * bcs.string().serialize('a').toBytes() // Uint8Array [ 1, 97 ]\n   */\n  string(options) {\n    return stringLikeBcsType({\n      name: \"string\",\n      toBytes: (value) => new TextEncoder().encode(value),\n      fromBytes: (bytes) => new TextDecoder().decode(bytes),\n      ...options\n    });\n  },\n  /**\n   * Creates a BcsType that represents a fixed length array of a given type\n   * @param size The number of elements in the array\n   * @param type The BcsType of each element in the array\n   * @example\n   * bcs.fixedArray(3, bcs.u8()).serialize([1, 2, 3]).toBytes() // Uint8Array [ 1, 2, 3 ]\n   */\n  fixedArray(size, type, options) {\n    return new BcsType({\n      name: `${type.name}[${size}]`,\n      read: (reader) => {\n        const result = new Array(size);\n        for (let i = 0; i < size; i++) {\n          result[i] = type.read(reader);\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        for (const item of value) {\n          type.write(item, writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!(\"length\" in value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n        if (value.length !== size) {\n          throw new TypeError(`Expected array of length ${size}, found ${value.length}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing an optional value\n   * @param type The BcsType of the optional value\n   * @example\n   * bcs.option(bcs.u8()).serialize(null).toBytes() // Uint8Array [ 0 ]\n   * bcs.option(bcs.u8()).serialize(1).toBytes() // Uint8Array [ 1, 1 ]\n   */\n  option(type) {\n    return bcs.enum(`Option<${type.name}>`, {\n      None: null,\n      Some: type\n    }).transform({\n      input: (value) => {\n        if (value == null) {\n          return { None: true };\n        }\n        return { Some: value };\n      },\n      output: (value) => {\n        if (\"Some\" in value) {\n          return value.Some;\n        }\n        return null;\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a variable length vector of a given type\n   * @param type The BcsType of each element in the vector\n   *\n   * @example\n   * bcs.vector(bcs.u8()).toBytes([1, 2, 3]) // Uint8Array [ 3, 1, 2, 3 ]\n   */\n  vector(type, options) {\n    return new BcsType({\n      name: `vector<${type.name}>`,\n      read: (reader) => {\n        const length = reader.readULEB();\n        const result = new Array(length);\n        for (let i = 0; i < length; i++) {\n          result[i] = type.read(reader);\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        writer.writeULEB(value.length);\n        for (const item of value) {\n          type.write(item, writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!(\"length\" in value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a tuple of a given set of types\n   * @param types The BcsTypes for each element in the tuple\n   *\n   * @example\n   * const tuple = bcs.tuple([bcs.u8(), bcs.string(), bcs.bool()])\n   * tuple.serialize([1, 'a', true]).toBytes() // Uint8Array [ 1, 1, 97, 1 ]\n   */\n  tuple(types, options) {\n    return new BcsType({\n      name: `(${types.map((t) => t.name).join(\", \")})`,\n      serializedSize: (values) => {\n        let total = 0;\n        for (let i = 0; i < types.length; i++) {\n          const size = types[i].serializedSize(values[i]);\n          if (size == null) {\n            return null;\n          }\n          total += size;\n        }\n        return total;\n      },\n      read: (reader) => {\n        const result = [];\n        for (const type of types) {\n          result.push(type.read(reader));\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        for (let i = 0; i < types.length; i++) {\n          types[i].write(value[i], writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (!Array.isArray(value)) {\n          throw new TypeError(`Expected array, found ${typeof value}`);\n        }\n        if (value.length !== types.length) {\n          throw new TypeError(`Expected array of length ${types.length}, found ${value.length}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a struct of a given set of fields\n   * @param name The name of the struct\n   * @param fields The fields of the struct. The order of the fields affects how data is serialized and deserialized\n   *\n   * @example\n   * const struct = bcs.struct('MyStruct', {\n   *  a: bcs.u8(),\n   *  b: bcs.string(),\n   * })\n   * struct.serialize({ a: 1, b: 'a' }).toBytes() // Uint8Array [ 1, 1, 97 ]\n   */\n  struct(name, fields, options) {\n    const canonicalOrder = Object.entries(fields);\n    return new BcsType({\n      name,\n      serializedSize: (values) => {\n        let total = 0;\n        for (const [field, type] of canonicalOrder) {\n          const size = type.serializedSize(values[field]);\n          if (size == null) {\n            return null;\n          }\n          total += size;\n        }\n        return total;\n      },\n      read: (reader) => {\n        const result = {};\n        for (const [field, type] of canonicalOrder) {\n          result[field] = type.read(reader);\n        }\n        return result;\n      },\n      write: (value, writer) => {\n        for (const [field, type] of canonicalOrder) {\n          type.write(value[field], writer);\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (typeof value !== \"object\" || value == null) {\n          throw new TypeError(`Expected object, found ${typeof value}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing an enum of a given set of options\n   * @param name The name of the enum\n   * @param values The values of the enum. The order of the values affects how data is serialized and deserialized.\n   * null can be used to represent a variant with no data.\n   *\n   * @example\n   * const enum = bcs.enum('MyEnum', {\n   *   A: bcs.u8(),\n   *   B: bcs.string(),\n   *   C: null,\n   * })\n   * enum.serialize({ A: 1 }).toBytes() // Uint8Array [ 0, 1 ]\n   * enum.serialize({ B: 'a' }).toBytes() // Uint8Array [ 1, 1, 97 ]\n   * enum.serialize({ C: true }).toBytes() // Uint8Array [ 2 ]\n   */\n  enum(name, values, options) {\n    const canonicalOrder = Object.entries(values);\n    return new BcsType({\n      name,\n      read: (reader) => {\n        const index = reader.readULEB();\n        const [name2, type] = canonicalOrder[index];\n        return {\n          [name2]: type?.read(reader) ?? true\n        };\n      },\n      write: (value, writer) => {\n        const [name2, val] = Object.entries(value)[0];\n        for (let i = 0; i < canonicalOrder.length; i++) {\n          const [optionName, optionType] = canonicalOrder[i];\n          if (optionName === name2) {\n            writer.writeULEB(i);\n            optionType?.write(val, writer);\n            return;\n          }\n        }\n      },\n      ...options,\n      validate: (value) => {\n        options?.validate?.(value);\n        if (typeof value !== \"object\" || value == null) {\n          throw new TypeError(`Expected object, found ${typeof value}`);\n        }\n        const keys = Object.keys(value);\n        if (keys.length !== 1) {\n          throw new TypeError(`Expected object with one key, found ${keys.length}`);\n        }\n        const [name2] = keys;\n        if (!Object.hasOwn(values, name2)) {\n          throw new TypeError(`Invalid enum variant ${name2}`);\n        }\n      }\n    });\n  },\n  /**\n   * Creates a BcsType representing a map of a given key and value type\n   * @param keyType The BcsType of the key\n   * @param valueType The BcsType of the value\n   * @example\n   * const map = bcs.map(bcs.u8(), bcs.string())\n   * map.serialize(new Map([[2, 'a']])).toBytes() // Uint8Array [ 1, 2, 1, 97 ]\n   */\n  map(keyType, valueType) {\n    return bcs.vector(bcs.tuple([keyType, valueType])).transform({\n      name: `Map<${keyType.name}, ${valueType.name}>`,\n      input: (value) => {\n        return [...value.entries()];\n      },\n      output: (value) => {\n        const result = /* @__PURE__ */ new Map();\n        for (const [key, val] of value) {\n          result.set(key, val);\n        }\n        return result;\n      }\n    });\n  },\n  /**\n   * @deprecated\n   *\n   * Generics should be implemented as generic typescript functions instead:\n   *\n   * ```ts\n   * function VecMap<K, V>, (K: BcsType<K>, V: BcsType<V>) {\n   *   return bcs.struct('VecMap<K, V>', {\n   *     keys: bcs.vector(K),\n   *     values: bcs.vector(V),\n   *   })\n   * }\n   * ```\n   */\n  generic(names, cb) {\n    return (...types) => {\n      return cb(...types).transform({\n        name: `${cb.name}<${types.map((t) => t.name).join(\", \")}>`,\n        input: (value) => value,\n        output: (value) => value\n      });\n    };\n  },\n  /**\n   * Creates a BcsType that wraps another BcsType which is lazily evaluated. This is useful for creating recursive types.\n   * @param cb A callback that returns the BcsType\n   */\n  lazy(cb) {\n    return lazyBcsType(cb);\n  }\n};\n\n// src/legacy-registry.ts\nvar SUI_ADDRESS_LENGTH = 32;\nvar _BCS = class _BCS {\n  /**\n   * Construct a BCS instance with a prepared schema.\n   *\n   * @param schema A prepared schema with type definitions\n   * @param withPrimitives Whether to register primitive types by default\n   */\n  constructor(schema) {\n    /**\n     * Map of kind `TypeName => TypeInterface`. Holds all\n     * callbacks for (de)serialization of every registered type.\n     *\n     * If the value stored is a string, it is treated as an alias.\n     */\n    this.types = /* @__PURE__ */ new Map();\n    /**\n     * Count temp keys to generate a new one when requested.\n     */\n    this.counter = 0;\n    if (schema instanceof _BCS) {\n      this.schema = schema.schema;\n      this.types = new Map(schema.types);\n      return;\n    }\n    this.schema = schema;\n    this.registerAddressType(_BCS.ADDRESS, schema.addressLength, schema.addressEncoding);\n    this.registerVectorType(schema.vectorType);\n    if (schema.types && schema.types.structs) {\n      for (let name of Object.keys(schema.types.structs)) {\n        this.registerStructType(name, schema.types.structs[name]);\n      }\n    }\n    if (schema.types && schema.types.enums) {\n      for (let name of Object.keys(schema.types.enums)) {\n        this.registerEnumType(name, schema.types.enums[name]);\n      }\n    }\n    if (schema.types && schema.types.aliases) {\n      for (let name of Object.keys(schema.types.aliases)) {\n        this.registerAlias(name, schema.types.aliases[name]);\n      }\n    }\n    if (schema.withPrimitives !== false) {\n      registerPrimitives(this);\n    }\n  }\n  /**\n   * Name of the key to use for temporary struct definitions.\n   * Returns a temp key + index (for a case when multiple temp\n   * structs are processed).\n   */\n  tempKey() {\n    return `bcs-struct-${++this.counter}`;\n  }\n  /**\n   * Serialize data into bcs.\n   *\n   * @example\n   * bcs.registerVectorType('vector<u8>', 'u8');\n   *\n   * let serialized = BCS\n   *   .set('vector<u8>', [1,2,3,4,5,6])\n   *   .toBytes();\n   *\n   * console.assert(toHex(serialized) === '06010203040506');\n   *\n   * @param type Name of the type to serialize (must be registered) or a struct type.\n   * @param data Data to serialize.\n   * @param size Serialization buffer size. Default 1024 = 1KB.\n   * @return A BCS reader instance. Usually you'd want to call `.toBytes()`\n   */\n  ser(type, data, options) {\n    if (typeof type === \"string\" || Array.isArray(type)) {\n      const { name, params } = this.parseTypeName(type);\n      return this.getTypeInterface(name).encode(this, data, options, params);\n    }\n    if (typeof type === \"object\") {\n      const key = this.tempKey();\n      const temp = new _BCS(this);\n      return temp.registerStructType(key, type).ser(key, data, options);\n    }\n    throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(type)}`);\n  }\n  /**\n   * Deserialize BCS into a JS type.\n   *\n   * @example\n   * let num = bcs.ser('u64', '4294967295').toString('hex');\n   * let deNum = bcs.de('u64', num, 'hex');\n   * console.assert(deNum.toString(10) === '4294967295');\n   *\n   * @param type Name of the type to deserialize (must be registered) or a struct type definition.\n   * @param data Data to deserialize.\n   * @param encoding Optional - encoding to use if data is of type String\n   * @return Deserialized data.\n   */\n  de(type, data, encoding) {\n    if (typeof data === \"string\") {\n      if (encoding) {\n        data = decodeStr(data, encoding);\n      } else {\n        throw new Error(\"To pass a string to `bcs.de`, specify encoding\");\n      }\n    }\n    if (typeof type === \"string\" || Array.isArray(type)) {\n      const { name, params } = this.parseTypeName(type);\n      return this.getTypeInterface(name).decode(this, data, params);\n    }\n    if (typeof type === \"object\") {\n      const temp = new _BCS(this);\n      const key = this.tempKey();\n      return temp.registerStructType(key, type).de(key, data, encoding);\n    }\n    throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(type)}`);\n  }\n  /**\n   * Check whether a `TypeInterface` has been loaded for a `type`.\n   * @param type Name of the type to check.\n   * @returns\n   */\n  hasType(type) {\n    return this.types.has(type);\n  }\n  /**\n   * Create an alias for a type.\n   * WARNING: this can potentially lead to recursion\n   * @param name Alias to use\n   * @param forType Type to reference\n   * @returns\n   *\n   * @example\n   * ```\n   * let bcs = new BCS(getSuiMoveConfig());\n   * bcs.registerAlias('ObjectDigest', BCS.BASE58);\n   * let b58_digest = bcs.de('ObjectDigest', '<digest_bytes>', 'base64');\n   * ```\n   */\n  registerAlias(name, forType) {\n    this.types.set(name, forType);\n    return this;\n  }\n  /**\n   * Method to register new types for BCS internal representation.\n   * For each registered type 2 callbacks must be specified and one is optional:\n   *\n   * - encodeCb(writer, data) - write a way to serialize data with BcsWriter;\n   * - decodeCb(reader) - write a way to deserialize data with BcsReader;\n   * - validateCb(data) - validate data - either return bool or throw an error\n   *\n   * @example\n   * // our type would be a string that consists only of numbers\n   * bcs.registerType('number_string',\n   *    (writer, data) => writer.writeVec(data, (w, el) => w.write8(el)),\n   *    (reader) => reader.readVec((r) => r.read8()).join(''), // read each value as u8\n   *    (value) => /[0-9]+/.test(value) // test that it has at least one digit\n   * );\n   * console.log(Array.from(bcs.ser('number_string', '12345').toBytes()) == [5,1,2,3,4,5]);\n   *\n   * @param name\n   * @param encodeCb Callback to encode a value.\n   * @param decodeCb Callback to decode a value.\n   * @param validateCb Optional validator Callback to check type before serialization.\n   */\n  registerType(typeName, encodeCb, decodeCb, validateCb = () => true) {\n    const { name, params: generics } = this.parseTypeName(typeName);\n    this.types.set(name, {\n      encode(self, data, options, typeParams) {\n        const typeMap = generics.reduce((acc, value, index) => {\n          return Object.assign(acc, { [value]: typeParams[index] });\n        }, {});\n        return this._encodeRaw.call(self, new BcsWriter(options), data, typeParams, typeMap);\n      },\n      decode(self, data, typeParams) {\n        const typeMap = generics.reduce((acc, value, index) => {\n          return Object.assign(acc, { [value]: typeParams[index] });\n        }, {});\n        return this._decodeRaw.call(self, new BcsReader(data), typeParams, typeMap);\n      },\n      // these methods should always be used with caution as they require pre-defined\n      // reader and writer and mainly exist to allow multi-field (de)serialization;\n      _encodeRaw(writer, data, typeParams, typeMap) {\n        if (validateCb(data)) {\n          return encodeCb.call(this, writer, data, typeParams, typeMap);\n        } else {\n          throw new Error(`Validation failed for type ${name}, data: ${data}`);\n        }\n      },\n      _decodeRaw(reader, typeParams, typeMap) {\n        return decodeCb.call(this, reader, typeParams, typeMap);\n      }\n    });\n    return this;\n  }\n  /**\n  \t * Method to register BcsType instances to the registry\n  \t * Types are registered with a callback that provides BcsType instances for each generic\n  \t * passed to the type.\n  \t *\n  \t * - createType(...generics) - Return a BcsType instance\n  \t *\n  \t * @example\n  \t * // our type would be a string that consists only of numbers\n  \t * bcs.registerType('Box<T>', (T) => {\n  \t * \t\treturn bcs.struct({\n  \t * \t\t\tvalue: T\n  \t * \t\t});\n  \t * });\n  \n  \t * console.log(Array.from(bcs.ser('Box<string>', '12345').toBytes()) == [5,1,2,3,4,5]);\n  \t *\n  \t * @param name\n  \t * @param createType a Callback to create the BcsType with any passed in generics\n  \t */\n  registerBcsType(typeName, createType) {\n    this.registerType(\n      typeName,\n      (writer, data, typeParams) => {\n        const generics = typeParams.map(\n          (param) => new BcsType({\n            name: String(param),\n            write: (data2, writer2) => {\n              const { name, params } = this.parseTypeName(param);\n              const typeInterface = this.getTypeInterface(name);\n              const typeMap = params.reduce((acc, value, index) => {\n                return Object.assign(acc, { [value]: typeParams[index] });\n              }, {});\n              return typeInterface._encodeRaw.call(this, writer2, data2, params, typeMap);\n            },\n            read: () => {\n              throw new Error(\"Not implemented\");\n            }\n          })\n        );\n        createType(...generics).write(data, writer);\n        return writer;\n      },\n      (reader, typeParams) => {\n        const generics = typeParams.map(\n          (param) => new BcsType({\n            name: String(param),\n            write: (data, writer) => {\n              throw new Error(\"Not implemented\");\n            },\n            read: (reader2) => {\n              const { name, params } = this.parseTypeName(param);\n              const typeInterface = this.getTypeInterface(name);\n              const typeMap = params.reduce((acc, value, index) => {\n                return Object.assign(acc, { [value]: typeParams[index] });\n              }, {});\n              return typeInterface._decodeRaw.call(this, reader2, params, typeMap);\n            }\n          })\n        );\n        return createType(...generics).read(reader);\n      }\n    );\n    return this;\n  }\n  /**\n   * Register an address type which is a sequence of U8s of specified length.\n   * @example\n   * bcs.registerAddressType('address', SUI_ADDRESS_LENGTH);\n   * let addr = bcs.de('address', 'c3aca510c785c7094ac99aeaa1e69d493122444df50bb8a99dfa790c654a79af');\n   *\n   * @param name Name of the address type.\n   * @param length Byte length of the address.\n   * @param encoding Encoding to use for the address type\n   * @returns\n   */\n  registerAddressType(name, length, encoding = \"hex\") {\n    switch (encoding) {\n      case \"base64\":\n        return this.registerType(\n          name,\n          function encodeAddress(writer, data) {\n            return fromB64(data).reduce((writer2, el) => writer2.write8(el), writer);\n          },\n          function decodeAddress(reader) {\n            return toB64(reader.readBytes(length));\n          }\n        );\n      case \"hex\":\n        return this.registerType(\n          name,\n          function encodeAddress(writer, data) {\n            return fromHEX(data).reduce((writer2, el) => writer2.write8(el), writer);\n          },\n          function decodeAddress(reader) {\n            return toHEX(reader.readBytes(length));\n          }\n        );\n      default:\n        throw new Error(\"Unsupported encoding! Use either hex or base64\");\n    }\n  }\n  /**\n   * Register custom vector type inside the bcs.\n   *\n   * @example\n   * bcs.registerVectorType('vector<T>'); // generic registration\n   * let array = bcs.de('vector<u8>', '06010203040506', 'hex'); // [1,2,3,4,5,6];\n   * let again = bcs.ser('vector<u8>', [1,2,3,4,5,6]).toString('hex');\n   *\n   * @param name Name of the type to register\n   * @param elementType Optional name of the inner type of the vector\n   * @return Returns self for chaining.\n   */\n  registerVectorType(typeName) {\n    let { name, params } = this.parseTypeName(typeName);\n    if (params.length > 1) {\n      throw new Error(\"Vector can have only one type parameter; got \" + name);\n    }\n    return this.registerType(\n      typeName,\n      function encodeVector(writer, data, typeParams, typeMap) {\n        return writer.writeVec(data, (writer2, el) => {\n          let elementType = typeParams[0];\n          if (!elementType) {\n            throw new Error(`Incorrect number of type parameters passed a to vector '${typeName}'`);\n          }\n          let { name: name2, params: params2 } = this.parseTypeName(elementType);\n          if (this.hasType(name2)) {\n            return this.getTypeInterface(name2)._encodeRaw.call(this, writer2, el, params2, typeMap);\n          }\n          if (!(name2 in typeMap)) {\n            throw new Error(\n              `Unable to find a matching type definition for ${name2} in vector; make sure you passed a generic`\n            );\n          }\n          let { name: innerName, params: innerParams } = this.parseTypeName(typeMap[name2]);\n          return this.getTypeInterface(innerName)._encodeRaw.call(\n            this,\n            writer2,\n            el,\n            innerParams,\n            typeMap\n          );\n        });\n      },\n      function decodeVector(reader, typeParams, typeMap) {\n        return reader.readVec((reader2) => {\n          let elementType = typeParams[0];\n          if (!elementType) {\n            throw new Error(`Incorrect number of type parameters passed to a vector '${typeName}'`);\n          }\n          let { name: name2, params: params2 } = this.parseTypeName(elementType);\n          if (this.hasType(name2)) {\n            return this.getTypeInterface(name2)._decodeRaw.call(this, reader2, params2, typeMap);\n          }\n          if (!(name2 in typeMap)) {\n            throw new Error(\n              `Unable to find a matching type definition for ${name2} in vector; make sure you passed a generic`\n            );\n          }\n          let { name: innerName, params: innerParams } = this.parseTypeName(typeMap[name2]);\n          return this.getTypeInterface(innerName)._decodeRaw.call(\n            this,\n            reader2,\n            innerParams,\n            typeMap\n          );\n        });\n      }\n    );\n  }\n  /**\n   * Safe method to register a custom Move struct. The first argument is a name of the\n   * struct which is only used on the FrontEnd and has no affect on serialization results,\n   * and the second is a struct description passed as an Object.\n   *\n   * The description object MUST have the same order on all of the platforms (ie in Move\n   * or in Rust).\n   *\n   * @example\n   * // Move / Rust struct\n   * // struct Coin {\n   * //   value: u64,\n   * //   owner: vector<u8>, // name // Vec<u8> in Rust\n   * //   is_locked: bool,\n   * // }\n   *\n   * bcs.registerStructType('Coin', {\n   *   value: bcs.U64,\n   *   owner: bcs.STRING,\n   *   is_locked: bcs.BOOL\n   * });\n   *\n   * // Created in Rust with diem/bcs\n   * // let rust_bcs_str = '80d1b105600000000e4269672057616c6c65742047757900';\n   * let rust_bcs_str = [ // using an Array here as BCS works with Uint8Array\n   *  128, 209, 177,   5,  96,  0,  0,\n   *    0,  14,  66, 105, 103, 32, 87,\n   *   97, 108, 108, 101, 116, 32, 71,\n   *  117, 121,   0\n   * ];\n   *\n   * // Let's encode the value as well\n   * let test_set = bcs.ser('Coin', {\n   *   owner: 'Big Wallet Guy',\n   *   value: '412412400000',\n   *   is_locked: false,\n   * });\n   *\n   * console.assert(Array.from(test_set.toBytes()) === rust_bcs_str, 'Whoopsie, result mismatch');\n   *\n   * @param name Name of the type to register.\n   * @param fields Fields of the struct. Must be in the correct order.\n   * @return Returns BCS for chaining.\n   */\n  registerStructType(typeName, fields) {\n    for (let key in fields) {\n      let internalName = this.tempKey();\n      let value = fields[key];\n      if (!Array.isArray(value) && typeof value !== \"string\") {\n        fields[key] = internalName;\n        this.registerStructType(internalName, value);\n      }\n    }\n    let struct = Object.freeze(fields);\n    let canonicalOrder = Object.keys(struct);\n    let { name: structName, params: generics } = this.parseTypeName(typeName);\n    return this.registerType(\n      typeName,\n      function encodeStruct(writer, data, typeParams, typeMap) {\n        if (!data || data.constructor !== Object) {\n          throw new Error(`Expected ${structName} to be an Object, got: ${data}`);\n        }\n        if (typeParams.length !== generics.length) {\n          throw new Error(\n            `Incorrect number of generic parameters passed; expected: ${generics.length}, got: ${typeParams.length}`\n          );\n        }\n        for (let key of canonicalOrder) {\n          if (!(key in data)) {\n            throw new Error(`Struct ${structName} requires field ${key}:${struct[key]}`);\n          }\n          const { name: fieldType, params: fieldParams } = this.parseTypeName(\n            struct[key]\n          );\n          if (!generics.includes(fieldType)) {\n            this.getTypeInterface(fieldType)._encodeRaw.call(\n              this,\n              writer,\n              data[key],\n              fieldParams,\n              typeMap\n            );\n          } else {\n            const paramIdx = generics.indexOf(fieldType);\n            let { name, params } = this.parseTypeName(typeParams[paramIdx]);\n            if (this.hasType(name)) {\n              this.getTypeInterface(name)._encodeRaw.call(\n                this,\n                writer,\n                data[key],\n                params,\n                typeMap\n              );\n              continue;\n            }\n            if (!(name in typeMap)) {\n              throw new Error(\n                `Unable to find a matching type definition for ${name} in ${structName}; make sure you passed a generic`\n              );\n            }\n            let { name: innerName, params: innerParams } = this.parseTypeName(typeMap[name]);\n            this.getTypeInterface(innerName)._encodeRaw.call(\n              this,\n              writer,\n              data[key],\n              innerParams,\n              typeMap\n            );\n          }\n        }\n        return writer;\n      },\n      function decodeStruct(reader, typeParams, typeMap) {\n        if (typeParams.length !== generics.length) {\n          throw new Error(\n            `Incorrect number of generic parameters passed; expected: ${generics.length}, got: ${typeParams.length}`\n          );\n        }\n        let result = {};\n        for (let key of canonicalOrder) {\n          const { name: fieldName, params: fieldParams } = this.parseTypeName(\n            struct[key]\n          );\n          if (!generics.includes(fieldName)) {\n            result[key] = this.getTypeInterface(fieldName)._decodeRaw.call(\n              this,\n              reader,\n              fieldParams,\n              typeMap\n            );\n          } else {\n            const paramIdx = generics.indexOf(fieldName);\n            let { name, params } = this.parseTypeName(typeParams[paramIdx]);\n            if (this.hasType(name)) {\n              result[key] = this.getTypeInterface(name)._decodeRaw.call(\n                this,\n                reader,\n                params,\n                typeMap\n              );\n              continue;\n            }\n            if (!(name in typeMap)) {\n              throw new Error(\n                `Unable to find a matching type definition for ${name} in ${structName}; make sure you passed a generic`\n              );\n            }\n            let { name: innerName, params: innerParams } = this.parseTypeName(typeMap[name]);\n            result[key] = this.getTypeInterface(innerName)._decodeRaw.call(\n              this,\n              reader,\n              innerParams,\n              typeMap\n            );\n          }\n        }\n        return result;\n      }\n    );\n  }\n  /**\n   * Safe method to register custom enum type where each invariant holds the value of another type.\n   * @example\n   * bcs.registerStructType('Coin', { value: 'u64' });\n   * bcs.registerEnumType('MyEnum', {\n   *  single: 'Coin',\n   *  multi: 'vector<Coin>',\n   *  empty: null\n   * });\n   *\n   * console.log(\n   *  bcs.de('MyEnum', 'AICWmAAAAAAA', 'base64'), // { single: { value: 10000000 } }\n   *  bcs.de('MyEnum', 'AQIBAAAAAAAAAAIAAAAAAAAA', 'base64')  // { multi: [ { value: 1 }, { value: 2 } ] }\n   * )\n   *\n   * // and serialization\n   * bcs.ser('MyEnum', { single: { value: 10000000 } }).toBytes();\n   * bcs.ser('MyEnum', { multi: [ { value: 1 }, { value: 2 } ] });\n   *\n   * @param name\n   * @param variants\n   */\n  registerEnumType(typeName, variants) {\n    for (let key in variants) {\n      let internalName = this.tempKey();\n      let value = variants[key];\n      if (value !== null && !Array.isArray(value) && typeof value !== \"string\") {\n        variants[key] = internalName;\n        this.registerStructType(internalName, value);\n      }\n    }\n    let struct = Object.freeze(variants);\n    let canonicalOrder = Object.keys(struct);\n    let { name, params: canonicalTypeParams } = this.parseTypeName(typeName);\n    return this.registerType(\n      typeName,\n      function encodeEnum(writer, data, typeParams, typeMap) {\n        if (!data) {\n          throw new Error(`Unable to write enum \"${name}\", missing data.\nReceived: \"${data}\"`);\n        }\n        if (typeof data !== \"object\") {\n          throw new Error(\n            `Incorrect data passed into enum \"${name}\", expected object with properties: \"${canonicalOrder.join(\n              \" | \"\n            )}\".\nReceived: \"${JSON.stringify(data)}\"`\n          );\n        }\n        let key = Object.keys(data)[0];\n        if (key === void 0) {\n          throw new Error(`Empty object passed as invariant of the enum \"${name}\"`);\n        }\n        let orderByte = canonicalOrder.indexOf(key);\n        if (orderByte === -1) {\n          throw new Error(\n            `Unknown invariant of the enum \"${name}\", allowed values: \"${canonicalOrder.join(\n              \" | \"\n            )}\"; received \"${key}\"`\n          );\n        }\n        let invariant = canonicalOrder[orderByte];\n        let invariantType = struct[invariant];\n        writer.write8(orderByte);\n        if (invariantType === null) {\n          return writer;\n        }\n        let paramIndex = canonicalTypeParams.indexOf(invariantType);\n        let typeOrParam = paramIndex === -1 ? invariantType : typeParams[paramIndex];\n        {\n          let { name: name2, params } = this.parseTypeName(typeOrParam);\n          return this.getTypeInterface(name2)._encodeRaw.call(\n            this,\n            writer,\n            data[key],\n            params,\n            typeMap\n          );\n        }\n      },\n      function decodeEnum(reader, typeParams, typeMap) {\n        let orderByte = reader.readULEB();\n        let invariant = canonicalOrder[orderByte];\n        let invariantType = struct[invariant];\n        if (orderByte === -1) {\n          throw new Error(\n            `Decoding type mismatch, expected enum \"${name}\" invariant index, received \"${orderByte}\"`\n          );\n        }\n        if (invariantType === null) {\n          return { [invariant]: true };\n        }\n        let paramIndex = canonicalTypeParams.indexOf(invariantType);\n        let typeOrParam = paramIndex === -1 ? invariantType : typeParams[paramIndex];\n        {\n          let { name: name2, params } = this.parseTypeName(typeOrParam);\n          return {\n            [invariant]: this.getTypeInterface(name2)._decodeRaw.call(this, reader, params, typeMap)\n          };\n        }\n      }\n    );\n  }\n  /**\n   * Get a set of encoders/decoders for specific type.\n   * Mainly used to define custom type de/serialization logic.\n   *\n   * @param type\n   * @returns {TypeInterface}\n   */\n  getTypeInterface(type) {\n    let typeInterface = this.types.get(type);\n    if (typeof typeInterface === \"string\") {\n      let chain = [];\n      while (typeof typeInterface === \"string\") {\n        if (chain.includes(typeInterface)) {\n          throw new Error(`Recursive definition found: ${chain.join(\" -> \")} -> ${typeInterface}`);\n        }\n        chain.push(typeInterface);\n        typeInterface = this.types.get(typeInterface);\n      }\n    }\n    if (typeInterface === void 0) {\n      throw new Error(`Type ${type} is not registered`);\n    }\n    return typeInterface;\n  }\n  /**\n   * Parse a type name and get the type's generics.\n   * @example\n   * let { typeName, typeParams } = parseTypeName('Option<Coin<SUI>>');\n   * // typeName: Option\n   * // typeParams: [ 'Coin<SUI>' ]\n   *\n   * @param name Name of the type to process\n   * @returns Object with typeName and typeParams listed as Array\n   */\n  parseTypeName(name) {\n    if (Array.isArray(name)) {\n      let [typeName2, ...params2] = name;\n      return { name: typeName2, params: params2 };\n    }\n    if (typeof name !== \"string\") {\n      throw new Error(`Illegal type passed as a name of the type: ${name}`);\n    }\n    let [left, right] = this.schema.genericSeparators || [\"<\", \">\"];\n    let l_bound = name.indexOf(left);\n    let r_bound = Array.from(name).reverse().indexOf(right);\n    if (l_bound === -1 && r_bound === -1) {\n      return { name, params: [] };\n    }\n    if (l_bound === -1 || r_bound === -1) {\n      throw new Error(`Unclosed generic in name '${name}'`);\n    }\n    let typeName = name.slice(0, l_bound);\n    let params = splitGenericParameters(\n      name.slice(l_bound + 1, name.length - r_bound - 1),\n      this.schema.genericSeparators\n    );\n    return { name: typeName, params };\n  }\n};\n// Predefined types constants\n_BCS.U8 = \"u8\";\n_BCS.U16 = \"u16\";\n_BCS.U32 = \"u32\";\n_BCS.U64 = \"u64\";\n_BCS.U128 = \"u128\";\n_BCS.U256 = \"u256\";\n_BCS.BOOL = \"bool\";\n_BCS.VECTOR = \"vector\";\n_BCS.ADDRESS = \"address\";\n_BCS.STRING = \"string\";\n_BCS.HEX = \"hex-string\";\n_BCS.BASE58 = \"base58-string\";\n_BCS.BASE64 = \"base64-string\";\nvar BCS = _BCS;\nfunction registerPrimitives(bcs2) {\n  bcs2.registerType(\n    BCS.U8,\n    function(writer, data) {\n      return writer.write8(data);\n    },\n    function(reader) {\n      return reader.read8();\n    },\n    (u8) => u8 < 256\n  );\n  bcs2.registerType(\n    BCS.U16,\n    function(writer, data) {\n      return writer.write16(data);\n    },\n    function(reader) {\n      return reader.read16();\n    },\n    (u16) => u16 < 65536\n  );\n  bcs2.registerType(\n    BCS.U32,\n    function(writer, data) {\n      return writer.write32(data);\n    },\n    function(reader) {\n      return reader.read32();\n    },\n    (u32) => u32 <= 4294967296n\n  );\n  bcs2.registerType(\n    BCS.U64,\n    function(writer, data) {\n      return writer.write64(data);\n    },\n    function(reader) {\n      return reader.read64();\n    }\n  );\n  bcs2.registerType(\n    BCS.U128,\n    function(writer, data) {\n      return writer.write128(data);\n    },\n    function(reader) {\n      return reader.read128();\n    }\n  );\n  bcs2.registerType(\n    BCS.U256,\n    function(writer, data) {\n      return writer.write256(data);\n    },\n    function(reader) {\n      return reader.read256();\n    }\n  );\n  bcs2.registerType(\n    BCS.BOOL,\n    function(writer, data) {\n      return writer.write8(data);\n    },\n    function(reader) {\n      return reader.read8().toString(10) === \"1\";\n    }\n  );\n  bcs2.registerType(\n    BCS.STRING,\n    function(writer, data) {\n      return writer.writeVec(Array.from(data), (writer2, el) => writer2.write8(el.charCodeAt(0)));\n    },\n    function(reader) {\n      return reader.readVec((reader2) => reader2.read8()).map((el) => String.fromCharCode(Number(el))).join(\"\");\n    },\n    (_str) => true\n  );\n  bcs2.registerType(\n    BCS.HEX,\n    function(writer, data) {\n      return writer.writeVec(Array.from(fromHEX(data)), (writer2, el) => writer2.write8(el));\n    },\n    function(reader) {\n      let bytes = reader.readVec((reader2) => reader2.read8());\n      return toHEX(new Uint8Array(bytes));\n    }\n  );\n  bcs2.registerType(\n    BCS.BASE58,\n    function(writer, data) {\n      return writer.writeVec(Array.from(fromB58(data)), (writer2, el) => writer2.write8(el));\n    },\n    function(reader) {\n      let bytes = reader.readVec((reader2) => reader2.read8());\n      return toB58(new Uint8Array(bytes));\n    }\n  );\n  bcs2.registerType(\n    BCS.BASE64,\n    function(writer, data) {\n      return writer.writeVec(Array.from(fromB64(data)), (writer2, el) => writer2.write8(el));\n    },\n    function(reader) {\n      let bytes = reader.readVec((reader2) => reader2.read8());\n      return toB64(new Uint8Array(bytes));\n    }\n  );\n}\nfunction getRustConfig() {\n  return {\n    genericSeparators: [\"<\", \">\"],\n    vectorType: \"Vec\",\n    addressLength: SUI_ADDRESS_LENGTH,\n    addressEncoding: \"hex\"\n  };\n}\nfunction getSuiMoveConfig() {\n  return {\n    genericSeparators: [\"<\", \">\"],\n    vectorType: \"vector\",\n    addressLength: SUI_ADDRESS_LENGTH,\n    addressEncoding: \"hex\"\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vYmNzL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dCO0FBQ3hCLHdCQUF3Qix3Q0FBVztBQUNuQyx1QkFBdUIsd0NBQVc7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxpQkFBaUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGdDQUFnQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsYUFBYTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxZQUFZO0FBQzVFLGlDQUFpQyxFQUFFO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LHlEQUF5RDtBQUM5RjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsY0FBYyxTQUFTLE1BQU0sOEJBQThCLGlCQUFpQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsY0FBYyxTQUFTLE1BQU0sOEJBQThCLGlCQUFpQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtCQUFrQjtBQUN4QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1Q0FBdUMsY0FBYyxTQUFTLE1BQU07QUFDcEU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEU7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFCRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vYmNzL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBzcmMvYjU4LnRzXG5pbXBvcnQgYnM1OCBmcm9tIFwiYnM1OFwiO1xudmFyIHRvQjU4ID0gKGJ1ZmZlcikgPT4gYnM1OC5lbmNvZGUoYnVmZmVyKTtcbnZhciBmcm9tQjU4ID0gKHN0cikgPT4gYnM1OC5kZWNvZGUoc3RyKTtcblxuLy8gc3JjL2I2NC50c1xuZnVuY3Rpb24gYjY0VG9VaW50NihuQ2hyKSB7XG4gIHJldHVybiBuQ2hyID4gNjQgJiYgbkNociA8IDkxID8gbkNociAtIDY1IDogbkNociA+IDk2ICYmIG5DaHIgPCAxMjMgPyBuQ2hyIC0gNzEgOiBuQ2hyID4gNDcgJiYgbkNociA8IDU4ID8gbkNociArIDQgOiBuQ2hyID09PSA0MyA/IDYyIDogbkNociA9PT0gNDcgPyA2MyA6IDA7XG59XG5mdW5jdGlvbiBmcm9tQjY0KHNCYXNlNjQsIG5CbG9ja3NTaXplKSB7XG4gIHZhciBzQjY0RW5jID0gc0Jhc2U2NC5yZXBsYWNlKC9bXkEtWmEtejAtOSsvXS9nLCBcIlwiKSwgbkluTGVuID0gc0I2NEVuYy5sZW5ndGgsIG5PdXRMZW4gPSBuQmxvY2tzU2l6ZSA/IE1hdGguY2VpbCgobkluTGVuICogMyArIDEgPj4gMikgLyBuQmxvY2tzU2l6ZSkgKiBuQmxvY2tzU2l6ZSA6IG5JbkxlbiAqIDMgKyAxID4+IDIsIHRhQnl0ZXMgPSBuZXcgVWludDhBcnJheShuT3V0TGVuKTtcbiAgZm9yICh2YXIgbk1vZDMsIG5Nb2Q0LCBuVWludDI0ID0gMCwgbk91dElkeCA9IDAsIG5JbklkeCA9IDA7IG5JbklkeCA8IG5JbkxlbjsgbkluSWR4KyspIHtcbiAgICBuTW9kNCA9IG5JbklkeCAmIDM7XG4gICAgblVpbnQyNCB8PSBiNjRUb1VpbnQ2KHNCNjRFbmMuY2hhckNvZGVBdChuSW5JZHgpKSA8PCA2ICogKDMgLSBuTW9kNCk7XG4gICAgaWYgKG5Nb2Q0ID09PSAzIHx8IG5JbkxlbiAtIG5JbklkeCA9PT0gMSkge1xuICAgICAgZm9yIChuTW9kMyA9IDA7IG5Nb2QzIDwgMyAmJiBuT3V0SWR4IDwgbk91dExlbjsgbk1vZDMrKywgbk91dElkeCsrKSB7XG4gICAgICAgIHRhQnl0ZXNbbk91dElkeF0gPSBuVWludDI0ID4+PiAoMTYgPj4+IG5Nb2QzICYgMjQpICYgMjU1O1xuICAgICAgfVxuICAgICAgblVpbnQyNCA9IDA7XG4gICAgfVxuICB9XG4gIHJldHVybiB0YUJ5dGVzO1xufVxuZnVuY3Rpb24gdWludDZUb0I2NChuVWludDYpIHtcbiAgcmV0dXJuIG5VaW50NiA8IDI2ID8gblVpbnQ2ICsgNjUgOiBuVWludDYgPCA1MiA/IG5VaW50NiArIDcxIDogblVpbnQ2IDwgNjIgPyBuVWludDYgLSA0IDogblVpbnQ2ID09PSA2MiA/IDQzIDogblVpbnQ2ID09PSA2MyA/IDQ3IDogNjU7XG59XG5mdW5jdGlvbiB0b0I2NChhQnl0ZXMpIHtcbiAgdmFyIG5Nb2QzID0gMiwgc0I2NEVuYyA9IFwiXCI7XG4gIGZvciAodmFyIG5MZW4gPSBhQnl0ZXMubGVuZ3RoLCBuVWludDI0ID0gMCwgbklkeCA9IDA7IG5JZHggPCBuTGVuOyBuSWR4KyspIHtcbiAgICBuTW9kMyA9IG5JZHggJSAzO1xuICAgIG5VaW50MjQgfD0gYUJ5dGVzW25JZHhdIDw8ICgxNiA+Pj4gbk1vZDMgJiAyNCk7XG4gICAgaWYgKG5Nb2QzID09PSAyIHx8IGFCeXRlcy5sZW5ndGggLSBuSWR4ID09PSAxKSB7XG4gICAgICBzQjY0RW5jICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KFxuICAgICAgICB1aW50NlRvQjY0KG5VaW50MjQgPj4+IDE4ICYgNjMpLFxuICAgICAgICB1aW50NlRvQjY0KG5VaW50MjQgPj4+IDEyICYgNjMpLFxuICAgICAgICB1aW50NlRvQjY0KG5VaW50MjQgPj4+IDYgJiA2MyksXG4gICAgICAgIHVpbnQ2VG9CNjQoblVpbnQyNCAmIDYzKVxuICAgICAgKTtcbiAgICAgIG5VaW50MjQgPSAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc0I2NEVuYy5zbGljZSgwLCBzQjY0RW5jLmxlbmd0aCAtIDIgKyBuTW9kMykgKyAobk1vZDMgPT09IDIgPyBcIlwiIDogbk1vZDMgPT09IDEgPyBcIj1cIiA6IFwiPT1cIik7XG59XG5cbi8vIHNyYy9oZXgudHNcbmZ1bmN0aW9uIGZyb21IRVgoaGV4U3RyKSB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBoZXhTdHIuc3RhcnRzV2l0aChcIjB4XCIpID8gaGV4U3RyLnNsaWNlKDIpIDogaGV4U3RyO1xuICBjb25zdCBwYWRkZWQgPSBub3JtYWxpemVkLmxlbmd0aCAlIDIgPT09IDAgPyBub3JtYWxpemVkIDogYDAke25vcm1hbGl6ZWR9fWA7XG4gIGNvbnN0IGludEFyciA9IHBhZGRlZC5tYXRjaCgvLnsyfS9nKT8ubWFwKChieXRlKSA9PiBwYXJzZUludChieXRlLCAxNikpID8/IFtdO1xuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGludEFycik7XG59XG5mdW5jdGlvbiB0b0hFWChieXRlcykge1xuICByZXR1cm4gYnl0ZXMucmVkdWNlKChzdHIsIGJ5dGUpID0+IHN0ciArIGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSwgXCJcIik7XG59XG5cbi8vIHNyYy91bGViLnRzXG5mdW5jdGlvbiB1bGViRW5jb2RlKG51bSkge1xuICBsZXQgYXJyID0gW107XG4gIGxldCBsZW4gPSAwO1xuICBpZiAobnVtID09PSAwKSB7XG4gICAgcmV0dXJuIFswXTtcbiAgfVxuICB3aGlsZSAobnVtID4gMCkge1xuICAgIGFycltsZW5dID0gbnVtICYgMTI3O1xuICAgIGlmIChudW0gPj49IDcpIHtcbiAgICAgIGFycltsZW5dIHw9IDEyODtcbiAgICB9XG4gICAgbGVuICs9IDE7XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cbmZ1bmN0aW9uIHVsZWJEZWNvZGUoYXJyKSB7XG4gIGxldCB0b3RhbCA9IDA7XG4gIGxldCBzaGlmdCA9IDA7XG4gIGxldCBsZW4gPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGxldCBieXRlID0gYXJyW2xlbl07XG4gICAgbGVuICs9IDE7XG4gICAgdG90YWwgfD0gKGJ5dGUgJiAxMjcpIDw8IHNoaWZ0O1xuICAgIGlmICgoYnl0ZSAmIDEyOCkgPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzaGlmdCArPSA3O1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsdWU6IHRvdGFsLFxuICAgIGxlbmd0aDogbGVuXG4gIH07XG59XG5cbi8vIHNyYy9yZWFkZXIudHNcbnZhciBCY3NSZWFkZXIgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgRGF0YSB0byB1c2UgYXMgYSBidWZmZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5ieXRlUG9zaXRpb24gPSAwO1xuICAgIHRoaXMuZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoZGF0YS5idWZmZXIpO1xuICB9XG4gIC8qKlxuICAgKiBTaGlmdCBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBieSBgYnl0ZXNgLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gYnl0ZXMgTnVtYmVyIG9mIGJ5dGVzIHRvXG4gICAqIEByZXR1cm5zIHt0aGlzfSBTZWxmIGZvciBwb3NzaWJsZSBjaGFpbmluZy5cbiAgICovXG4gIHNoaWZ0KGJ5dGVzKSB7XG4gICAgdGhpcy5ieXRlUG9zaXRpb24gKz0gYnl0ZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJlYWQgVTggdmFsdWUgZnJvbSB0aGUgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgYnkgMS5cbiAgICogQHJldHVybnNcbiAgICovXG4gIHJlYWQ4KCkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuZGF0YVZpZXcuZ2V0VWludDgodGhpcy5ieXRlUG9zaXRpb24pO1xuICAgIHRoaXMuc2hpZnQoMSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBSZWFkIFUxNiB2YWx1ZSBmcm9tIHRoZSBidWZmZXIgYW5kIHNoaWZ0IGN1cnNvciBieSAyLlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgcmVhZDE2KCkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuZGF0YVZpZXcuZ2V0VWludDE2KHRoaXMuYnl0ZVBvc2l0aW9uLCB0cnVlKTtcbiAgICB0aGlzLnNoaWZ0KDIpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogUmVhZCBVMzIgdmFsdWUgZnJvbSB0aGUgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgYnkgNC5cbiAgICogQHJldHVybnNcbiAgICovXG4gIHJlYWQzMigpIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLmRhdGFWaWV3LmdldFVpbnQzMih0aGlzLmJ5dGVQb3NpdGlvbiwgdHJ1ZSk7XG4gICAgdGhpcy5zaGlmdCg0KTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFJlYWQgVTY0IHZhbHVlIGZyb20gdGhlIGJ1ZmZlciBhbmQgc2hpZnQgY3Vyc29yIGJ5IDguXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICByZWFkNjQoKSB7XG4gICAgbGV0IHZhbHVlMSA9IHRoaXMucmVhZDMyKCk7XG4gICAgbGV0IHZhbHVlMiA9IHRoaXMucmVhZDMyKCk7XG4gICAgbGV0IHJlc3VsdCA9IHZhbHVlMi50b1N0cmluZygxNikgKyB2YWx1ZTEudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsIFwiMFwiKTtcbiAgICByZXR1cm4gQmlnSW50KFwiMHhcIiArIHJlc3VsdCkudG9TdHJpbmcoMTApO1xuICB9XG4gIC8qKlxuICAgKiBSZWFkIFUxMjggdmFsdWUgZnJvbSB0aGUgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgYnkgMTYuXG4gICAqL1xuICByZWFkMTI4KCkge1xuICAgIGxldCB2YWx1ZTEgPSBCaWdJbnQodGhpcy5yZWFkNjQoKSk7XG4gICAgbGV0IHZhbHVlMiA9IEJpZ0ludCh0aGlzLnJlYWQ2NCgpKTtcbiAgICBsZXQgcmVzdWx0ID0gdmFsdWUyLnRvU3RyaW5nKDE2KSArIHZhbHVlMS50b1N0cmluZygxNikucGFkU3RhcnQoMTYsIFwiMFwiKTtcbiAgICByZXR1cm4gQmlnSW50KFwiMHhcIiArIHJlc3VsdCkudG9TdHJpbmcoMTApO1xuICB9XG4gIC8qKlxuICAgKiBSZWFkIFUxMjggdmFsdWUgZnJvbSB0aGUgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgYnkgMzIuXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICByZWFkMjU2KCkge1xuICAgIGxldCB2YWx1ZTEgPSBCaWdJbnQodGhpcy5yZWFkMTI4KCkpO1xuICAgIGxldCB2YWx1ZTIgPSBCaWdJbnQodGhpcy5yZWFkMTI4KCkpO1xuICAgIGxldCByZXN1bHQgPSB2YWx1ZTIudG9TdHJpbmcoMTYpICsgdmFsdWUxLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgzMiwgXCIwXCIpO1xuICAgIHJldHVybiBCaWdJbnQoXCIweFwiICsgcmVzdWx0KS50b1N0cmluZygxMCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlYWQgYG51bWAgbnVtYmVyIG9mIGJ5dGVzIGZyb20gdGhlIGJ1ZmZlciBhbmQgc2hpZnQgY3Vyc29yIGJ5IGBudW1gLlxuICAgKiBAcGFyYW0gbnVtIE51bWJlciBvZiBieXRlcyB0byByZWFkLlxuICAgKi9cbiAgcmVhZEJ5dGVzKG51bSkge1xuICAgIGxldCBzdGFydCA9IHRoaXMuYnl0ZVBvc2l0aW9uICsgdGhpcy5kYXRhVmlldy5ieXRlT2Zmc2V0O1xuICAgIGxldCB2YWx1ZSA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YVZpZXcuYnVmZmVyLCBzdGFydCwgbnVtKTtcbiAgICB0aGlzLnNoaWZ0KG51bSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBSZWFkIFVMRUIgdmFsdWUgLSBhbiBpbnRlZ2VyIG9mIHZhcnlpbmcgc2l6ZS4gVXNlZCBmb3IgZW51bSBpbmRleGVzIGFuZFxuICAgKiB2ZWN0b3IgbGVuZ3Rocy5cbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIFVMRUIgdmFsdWUuXG4gICAqL1xuICByZWFkVUxFQigpIHtcbiAgICBsZXQgc3RhcnQgPSB0aGlzLmJ5dGVQb3NpdGlvbiArIHRoaXMuZGF0YVZpZXcuYnl0ZU9mZnNldDtcbiAgICBsZXQgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhVmlldy5idWZmZXIsIHN0YXJ0KTtcbiAgICBsZXQgeyB2YWx1ZSwgbGVuZ3RoIH0gPSB1bGViRGVjb2RlKGJ1ZmZlcik7XG4gICAgdGhpcy5zaGlmdChsZW5ndGgpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogUmVhZCBhIEJDUyB2ZWN0b3I6IHJlYWQgYSBsZW5ndGggYW5kIHRoZW4gYXBwbHkgZnVuY3Rpb24gYGNiYCBYIHRpbWVzXG4gICAqIHdoZXJlIFggaXMgdGhlIGxlbmd0aCBvZiB0aGUgdmVjdG9yLCBkZWZpbmVkIGFzIFVMRUIgaW4gQkNTIGJ5dGVzLlxuICAgKiBAcGFyYW0gY2IgQ2FsbGJhY2sgdG8gcHJvY2VzcyBlbGVtZW50cyBvZiB2ZWN0b3IuXG4gICAqIEByZXR1cm5zIHtBcnJheTxBbnk+fSBBcnJheSBvZiB0aGUgcmVzdWx0aW5nIHZhbHVlcywgcmV0dXJuZWQgYnkgY2FsbGJhY2suXG4gICAqL1xuICByZWFkVmVjKGNiKSB7XG4gICAgbGV0IGxlbmd0aCA9IHRoaXMucmVhZFVMRUIoKTtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0LnB1c2goY2IodGhpcywgaSwgbGVuZ3RoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5cbi8vIHNyYy91dGlscy50c1xuZnVuY3Rpb24gZW5jb2RlU3RyKGRhdGEsIGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlIFwiYmFzZTU4XCI6XG4gICAgICByZXR1cm4gdG9CNTgoZGF0YSk7XG4gICAgY2FzZSBcImJhc2U2NFwiOlxuICAgICAgcmV0dXJuIHRvQjY0KGRhdGEpO1xuICAgIGNhc2UgXCJoZXhcIjpcbiAgICAgIHJldHVybiB0b0hFWChkYXRhKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2RpbmcsIHN1cHBvcnRlZCB2YWx1ZXMgYXJlOiBiYXNlNjQsIGhleFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVjb2RlU3RyKGRhdGEsIGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlIFwiYmFzZTU4XCI6XG4gICAgICByZXR1cm4gZnJvbUI1OChkYXRhKTtcbiAgICBjYXNlIFwiYmFzZTY0XCI6XG4gICAgICByZXR1cm4gZnJvbUI2NChkYXRhKTtcbiAgICBjYXNlIFwiaGV4XCI6XG4gICAgICByZXR1cm4gZnJvbUhFWChkYXRhKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2RpbmcsIHN1cHBvcnRlZCB2YWx1ZXMgYXJlOiBiYXNlNjQsIGhleFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gc3BsaXRHZW5lcmljUGFyYW1ldGVycyhzdHIsIGdlbmVyaWNTZXBhcmF0b3JzID0gW1wiPFwiLCBcIj5cIl0pIHtcbiAgY29uc3QgW2xlZnQsIHJpZ2h0XSA9IGdlbmVyaWNTZXBhcmF0b3JzO1xuICBjb25zdCB0b2sgPSBbXTtcbiAgbGV0IHdvcmQgPSBcIlwiO1xuICBsZXQgbmVzdGVkQW5nbGVCcmFja2V0cyA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhciA9IHN0cltpXTtcbiAgICBpZiAoY2hhciA9PT0gbGVmdCkge1xuICAgICAgbmVzdGVkQW5nbGVCcmFja2V0cysrO1xuICAgIH1cbiAgICBpZiAoY2hhciA9PT0gcmlnaHQpIHtcbiAgICAgIG5lc3RlZEFuZ2xlQnJhY2tldHMtLTtcbiAgICB9XG4gICAgaWYgKG5lc3RlZEFuZ2xlQnJhY2tldHMgPT09IDAgJiYgY2hhciA9PT0gXCIsXCIpIHtcbiAgICAgIHRvay5wdXNoKHdvcmQudHJpbSgpKTtcbiAgICAgIHdvcmQgPSBcIlwiO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHdvcmQgKz0gY2hhcjtcbiAgfVxuICB0b2sucHVzaCh3b3JkLnRyaW0oKSk7XG4gIHJldHVybiB0b2s7XG59XG5cbi8vIHNyYy93cml0ZXIudHNcbnZhciBCY3NXcml0ZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHsgc2l6ZSA9IDEwMjQsIG1heFNpemUsIGFsbG9jYXRlU2l6ZSA9IDEwMjQgfSA9IHt9KSB7XG4gICAgdGhpcy5ieXRlUG9zaXRpb24gPSAwO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy5tYXhTaXplID0gbWF4U2l6ZSB8fCBzaXplO1xuICAgIHRoaXMuYWxsb2NhdGVTaXplID0gYWxsb2NhdGVTaXplO1xuICAgIHRoaXMuZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKHNpemUpKTtcbiAgfVxuICBlbnN1cmVTaXplT3JHcm93KGJ5dGVzKSB7XG4gICAgY29uc3QgcmVxdWlyZWRTaXplID0gdGhpcy5ieXRlUG9zaXRpb24gKyBieXRlcztcbiAgICBpZiAocmVxdWlyZWRTaXplID4gdGhpcy5zaXplKSB7XG4gICAgICBjb25zdCBuZXh0U2l6ZSA9IE1hdGgubWluKHRoaXMubWF4U2l6ZSwgdGhpcy5zaXplICsgdGhpcy5hbGxvY2F0ZVNpemUpO1xuICAgICAgaWYgKHJlcXVpcmVkU2l6ZSA+IG5leHRTaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQXR0ZW1wdGluZyB0byBzZXJpYWxpemUgdG8gQkNTLCBidXQgYnVmZmVyIGRvZXMgbm90IGhhdmUgZW5vdWdoIHNpemUuIEFsbG9jYXRlZCBzaXplOiAke3RoaXMuc2l6ZX0sIE1heCBzaXplOiAke3RoaXMubWF4U2l6ZX0sIFJlcXVpcmVkIHNpemU6ICR7cmVxdWlyZWRTaXplfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2l6ZSA9IG5leHRTaXplO1xuICAgICAgY29uc3QgbmV4dEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkobmV4dEJ1ZmZlcikuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YVZpZXcuYnVmZmVyKSk7XG4gICAgICB0aGlzLmRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KG5leHRCdWZmZXIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2hpZnQgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYnkgYGJ5dGVzYC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGJ5dGVzIE51bWJlciBvZiBieXRlcyB0b1xuICAgKiBAcmV0dXJucyB7dGhpc30gU2VsZiBmb3IgcG9zc2libGUgY2hhaW5pbmcuXG4gICAqL1xuICBzaGlmdChieXRlcykge1xuICAgIHRoaXMuYnl0ZVBvc2l0aW9uICs9IGJ5dGVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBhIFU4IHZhbHVlIGludG8gYSBidWZmZXIgYW5kIHNoaWZ0IGN1cnNvciBwb3NpdGlvbiBieSAxLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGUuXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cbiAgd3JpdGU4KHZhbHVlKSB7XG4gICAgdGhpcy5lbnN1cmVTaXplT3JHcm93KDEpO1xuICAgIHRoaXMuZGF0YVZpZXcuc2V0VWludDgodGhpcy5ieXRlUG9zaXRpb24sIE51bWJlcih2YWx1ZSkpO1xuICAgIHJldHVybiB0aGlzLnNoaWZ0KDEpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBhIFUxNiB2YWx1ZSBpbnRvIGEgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgcG9zaXRpb24gYnkgMi5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlLlxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHdyaXRlMTYodmFsdWUpIHtcbiAgICB0aGlzLmVuc3VyZVNpemVPckdyb3coMik7XG4gICAgdGhpcy5kYXRhVmlldy5zZXRVaW50MTYodGhpcy5ieXRlUG9zaXRpb24sIE51bWJlcih2YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiB0aGlzLnNoaWZ0KDIpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBhIFUzMiB2YWx1ZSBpbnRvIGEgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgcG9zaXRpb24gYnkgNC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlLlxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHdyaXRlMzIodmFsdWUpIHtcbiAgICB0aGlzLmVuc3VyZVNpemVPckdyb3coNCk7XG4gICAgdGhpcy5kYXRhVmlldy5zZXRVaW50MzIodGhpcy5ieXRlUG9zaXRpb24sIE51bWJlcih2YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiB0aGlzLnNoaWZ0KDQpO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBhIFU2NCB2YWx1ZSBpbnRvIGEgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgcG9zaXRpb24gYnkgOC5cbiAgICogQHBhcmFtIHtiaWdpbnR9IHZhbHVlIFZhbHVlIHRvIHdyaXRlLlxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHdyaXRlNjQodmFsdWUpIHtcbiAgICB0b0xpdHRsZUVuZGlhbihCaWdJbnQodmFsdWUpLCA4KS5mb3JFYWNoKChlbCkgPT4gdGhpcy53cml0ZTgoZWwpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogV3JpdGUgYSBVMTI4IHZhbHVlIGludG8gYSBidWZmZXIgYW5kIHNoaWZ0IGN1cnNvciBwb3NpdGlvbiBieSAxNi5cbiAgICpcbiAgICogQHBhcmFtIHtiaWdpbnR9IHZhbHVlIFZhbHVlIHRvIHdyaXRlLlxuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG4gIHdyaXRlMTI4KHZhbHVlKSB7XG4gICAgdG9MaXR0bGVFbmRpYW4oQmlnSW50KHZhbHVlKSwgMTYpLmZvckVhY2goKGVsKSA9PiB0aGlzLndyaXRlOChlbCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBXcml0ZSBhIFUyNTYgdmFsdWUgaW50byBhIGJ1ZmZlciBhbmQgc2hpZnQgY3Vyc29yIHBvc2l0aW9uIGJ5IDE2LlxuICAgKlxuICAgKiBAcGFyYW0ge2JpZ2ludH0gdmFsdWUgVmFsdWUgdG8gd3JpdGUuXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cbiAgd3JpdGUyNTYodmFsdWUpIHtcbiAgICB0b0xpdHRsZUVuZGlhbihCaWdJbnQodmFsdWUpLCAzMikuZm9yRWFjaCgoZWwpID0+IHRoaXMud3JpdGU4KGVsKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFdyaXRlIGEgVUxFQiB2YWx1ZSBpbnRvIGEgYnVmZmVyIGFuZCBzaGlmdCBjdXJzb3IgcG9zaXRpb24gYnkgbnVtYmVyIG9mIGJ5dGVzXG4gICAqIHdyaXR0ZW4uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZS5cbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICB3cml0ZVVMRUIodmFsdWUpIHtcbiAgICB1bGViRW5jb2RlKHZhbHVlKS5mb3JFYWNoKChlbCkgPT4gdGhpcy53cml0ZTgoZWwpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogV3JpdGUgYSB2ZWN0b3IgaW50byBhIGJ1ZmZlciBieSBmaXJzdCB3cml0aW5nIHRoZSB2ZWN0b3IgbGVuZ3RoIGFuZCB0aGVuIGNhbGxpbmdcbiAgICogYSBjYWxsYmFjayBvbiBlYWNoIHBhc3NlZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheTxBbnk+fSB2ZWN0b3IgQXJyYXkgb2YgZWxlbWVudHMgdG8gd3JpdGUuXG4gICAqIEBwYXJhbSB7V3JpdGVWZWNDYn0gY2IgQ2FsbGJhY2sgdG8gY2FsbCBvbiBlYWNoIGVsZW1lbnQgb2YgdGhlIHZlY3Rvci5cbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuICB3cml0ZVZlYyh2ZWN0b3IsIGNiKSB7XG4gICAgdGhpcy53cml0ZVVMRUIodmVjdG9yLmxlbmd0aCk7XG4gICAgQXJyYXkuZnJvbSh2ZWN0b3IpLmZvckVhY2goKGVsLCBpKSA9PiBjYih0aGlzLCBlbCwgaSwgdmVjdG9yLmxlbmd0aCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIHN1cHBvcnQgZm9yIGl0ZXJhdGlvbnMgb3ZlciB0aGUgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7VWludDhBcnJheX1cbiAgICovXG4gICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYnl0ZVBvc2l0aW9uOyBpKyspIHtcbiAgICAgIHlpZWxkIHRoaXMuZGF0YVZpZXcuZ2V0VWludDgoaSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvQnl0ZXMoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHVuZGVybHlpbmcgYnVmZmVyIHRha2luZyBvbmx5IHZhbHVlIGJ5dGVzIChpbiBjYXNlIGluaXRpYWwgYnVmZmVyIHNpemUgd2FzIGJpZ2dlcikuXG4gICAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBSZXN1bHRpbmcgYmNzLlxuICAgKi9cbiAgdG9CeXRlcygpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhVmlldy5idWZmZXIuc2xpY2UoMCwgdGhpcy5ieXRlUG9zaXRpb24pKTtcbiAgfVxuICAvKipcbiAgICogUmVwcmVzZW50IGRhdGEgYXMgJ2hleCcgb3IgJ2Jhc2U2NCdcbiAgICogQHBhcmFtIGVuY29kaW5nIEVuY29kaW5nIHRvIHVzZTogJ2Jhc2U2NCcgb3IgJ2hleCdcbiAgICovXG4gIHRvU3RyaW5nKGVuY29kaW5nKSB7XG4gICAgcmV0dXJuIGVuY29kZVN0cih0aGlzLnRvQnl0ZXMoKSwgZW5jb2RpbmcpO1xuICB9XG59O1xuZnVuY3Rpb24gdG9MaXR0bGVFbmRpYW4oYmlnaW50LCBzaXplKSB7XG4gIGxldCByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoYmlnaW50ID4gMCkge1xuICAgIHJlc3VsdFtpXSA9IE51bWJlcihiaWdpbnQgJSBCaWdJbnQoMjU2KSk7XG4gICAgYmlnaW50ID0gYmlnaW50IC8gQmlnSW50KDI1Nik7XG4gICAgaSArPSAxO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIHNyYy9iY3MtdHlwZS50c1xudmFyIF93cml0ZSwgX3NlcmlhbGl6ZTtcbnZhciBfQmNzVHlwZSA9IGNsYXNzIF9CY3NUeXBlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfd3JpdGUsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9zZXJpYWxpemUsIHZvaWQgMCk7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgIHRoaXMucmVhZCA9IG9wdGlvbnMucmVhZDtcbiAgICB0aGlzLnNlcmlhbGl6ZWRTaXplID0gb3B0aW9ucy5zZXJpYWxpemVkU2l6ZSA/PyAoKCkgPT4gbnVsbCk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF93cml0ZSwgb3B0aW9ucy53cml0ZSk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9zZXJpYWxpemUsIG9wdGlvbnMuc2VyaWFsaXplID8/ICgodmFsdWUsIG9wdGlvbnMyKSA9PiB7XG4gICAgICBjb25zdCB3cml0ZXIgPSBuZXcgQmNzV3JpdGVyKHsgc2l6ZTogdGhpcy5zZXJpYWxpemVkU2l6ZSh2YWx1ZSkgPz8gdm9pZCAwLCAuLi5vcHRpb25zMiB9KTtcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfd3JpdGUpLmNhbGwodGhpcywgdmFsdWUsIHdyaXRlcik7XG4gICAgICByZXR1cm4gd3JpdGVyLnRvQnl0ZXMoKTtcbiAgICB9KSk7XG4gICAgdGhpcy52YWxpZGF0ZSA9IG9wdGlvbnMudmFsaWRhdGUgPz8gKCgpID0+IHtcbiAgICB9KTtcbiAgfVxuICB3cml0ZSh2YWx1ZSwgd3JpdGVyKSB7XG4gICAgdGhpcy52YWxpZGF0ZSh2YWx1ZSk7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF93cml0ZSkuY2FsbCh0aGlzLCB2YWx1ZSwgd3JpdGVyKTtcbiAgfVxuICBzZXJpYWxpemUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnZhbGlkYXRlKHZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFNlcmlhbGl6ZWRCY3ModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9zZXJpYWxpemUpLmNhbGwodGhpcywgdmFsdWUsIG9wdGlvbnMpKTtcbiAgfVxuICBwYXJzZShieXRlcykge1xuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBCY3NSZWFkZXIoYnl0ZXMpO1xuICAgIHJldHVybiB0aGlzLnJlYWQocmVhZGVyKTtcbiAgfVxuICB0cmFuc2Zvcm0oe1xuICAgIG5hbWUsXG4gICAgaW5wdXQsXG4gICAgb3V0cHV0XG4gIH0pIHtcbiAgICByZXR1cm4gbmV3IF9CY3NUeXBlKHtcbiAgICAgIG5hbWU6IG5hbWUgPz8gdGhpcy5uYW1lLFxuICAgICAgcmVhZDogKHJlYWRlcikgPT4gb3V0cHV0KHRoaXMucmVhZChyZWFkZXIpKSxcbiAgICAgIHdyaXRlOiAodmFsdWUsIHdyaXRlcikgPT4gX19wcml2YXRlR2V0KHRoaXMsIF93cml0ZSkuY2FsbCh0aGlzLCBpbnB1dCh2YWx1ZSksIHdyaXRlciksXG4gICAgICBzZXJpYWxpemVkU2l6ZTogKHZhbHVlKSA9PiB0aGlzLnNlcmlhbGl6ZWRTaXplKGlucHV0KHZhbHVlKSksXG4gICAgICBzZXJpYWxpemU6ICh2YWx1ZSwgb3B0aW9ucykgPT4gX19wcml2YXRlR2V0KHRoaXMsIF9zZXJpYWxpemUpLmNhbGwodGhpcywgaW5wdXQodmFsdWUpLCBvcHRpb25zKSxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHRoaXMudmFsaWRhdGUoaW5wdXQodmFsdWUpKVxuICAgIH0pO1xuICB9XG59O1xuX3dyaXRlID0gbmV3IFdlYWtNYXAoKTtcbl9zZXJpYWxpemUgPSBuZXcgV2Vha01hcCgpO1xudmFyIEJjc1R5cGUgPSBfQmNzVHlwZTtcbnZhciBTRVJJQUxJWkVEX0JDU19CUkFORCA9IFN5bWJvbC5mb3IoXCJAbXlzdGVuL3NlcmlhbGl6ZWQtYmNzXCIpO1xuZnVuY3Rpb24gaXNTZXJpYWxpemVkQmNzKG9iaikge1xuICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmpbU0VSSUFMSVpFRF9CQ1NfQlJBTkRdID09PSB0cnVlO1xufVxudmFyIF9zY2hlbWEsIF9ieXRlcztcbnZhciBTZXJpYWxpemVkQmNzID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBzY2hlbWEpIHtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3NjaGVtYSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2J5dGVzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfc2NoZW1hLCB0eXBlKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2J5dGVzLCBzY2hlbWEpO1xuICB9XG4gIC8vIFVzZWQgdG8gYnJhbmQgU2VyaWFsaXplZEJjcyBzbyB0aGF0IHRoZXkgY2FuIGJlIGlkZW50aWZpZWQsIGV2ZW4gYmV0d2VlbiBtdWx0aXBsZSBjb3BpZXNcbiAgLy8gb2YgdGhlIEBteXN0ZW4vYmNzIHBhY2thZ2UgYXJlIGluc3RhbGxlZFxuICBnZXQgW1NFUklBTElaRURfQkNTX0JSQU5EXSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB0b0J5dGVzKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX2J5dGVzKTtcbiAgfVxuICB0b0hleCgpIHtcbiAgICByZXR1cm4gdG9IRVgoX19wcml2YXRlR2V0KHRoaXMsIF9ieXRlcykpO1xuICB9XG4gIHRvQmFzZTY0KCkge1xuICAgIHJldHVybiB0b0I2NChfX3ByaXZhdGVHZXQodGhpcywgX2J5dGVzKSk7XG4gIH1cbiAgdG9CYXNlNTgoKSB7XG4gICAgcmV0dXJuIHRvQjU4KF9fcHJpdmF0ZUdldCh0aGlzLCBfYnl0ZXMpKTtcbiAgfVxuICBwYXJzZSgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9zY2hlbWEpLnBhcnNlKF9fcHJpdmF0ZUdldCh0aGlzLCBfYnl0ZXMpKTtcbiAgfVxufTtcbl9zY2hlbWEgPSBuZXcgV2Vha01hcCgpO1xuX2J5dGVzID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGZpeGVkU2l6ZUJjc1R5cGUoe1xuICBzaXplLFxuICAuLi5vcHRpb25zXG59KSB7XG4gIHJldHVybiBuZXcgQmNzVHlwZSh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBzZXJpYWxpemVkU2l6ZTogKCkgPT4gc2l6ZVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVJbnRCY3NUeXBlKHtcbiAgcmVhZE1ldGhvZCxcbiAgd3JpdGVNZXRob2QsXG4gIC4uLm9wdGlvbnNcbn0pIHtcbiAgcmV0dXJuIGZpeGVkU2l6ZUJjc1R5cGUoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcmVhZDogKHJlYWRlcikgPT4gcmVhZGVyW3JlYWRNZXRob2RdKCksXG4gICAgd3JpdGU6ICh2YWx1ZSwgd3JpdGVyKSA9PiB3cml0ZXJbd3JpdGVNZXRob2RdKHZhbHVlKSxcbiAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gb3B0aW9ucy5tYXhWYWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIGBJbnZhbGlkICR7b3B0aW9ucy5uYW1lfSB2YWx1ZTogJHt2YWx1ZX0uIEV4cGVjdGVkIHZhbHVlIGluIHJhbmdlIDAtJHtvcHRpb25zLm1heFZhbHVlfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGJpZ1VJbnRCY3NUeXBlKHtcbiAgcmVhZE1ldGhvZCxcbiAgd3JpdGVNZXRob2QsXG4gIC4uLm9wdGlvbnNcbn0pIHtcbiAgcmV0dXJuIGZpeGVkU2l6ZUJjc1R5cGUoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcmVhZDogKHJlYWRlcikgPT4gcmVhZGVyW3JlYWRNZXRob2RdKCksXG4gICAgd3JpdGU6ICh2YWx1ZSwgd3JpdGVyKSA9PiB3cml0ZXJbd3JpdGVNZXRob2RdKEJpZ0ludCh2YWx1ZSkpLFxuICAgIHZhbGlkYXRlOiAodmFsKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IEJpZ0ludCh2YWwpO1xuICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IG9wdGlvbnMubWF4VmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBgSW52YWxpZCAke29wdGlvbnMubmFtZX0gdmFsdWU6ICR7dmFsdWV9LiBFeHBlY3RlZCB2YWx1ZSBpbiByYW5nZSAwLSR7b3B0aW9ucy5tYXhWYWx1ZX1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnZhbGlkYXRlPy4odmFsdWUpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBkeW5hbWljU2l6ZUJjc1R5cGUoe1xuICBzZXJpYWxpemUsXG4gIC4uLm9wdGlvbnNcbn0pIHtcbiAgY29uc3QgdHlwZSA9IG5ldyBCY3NUeXBlKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHNlcmlhbGl6ZSxcbiAgICB3cml0ZTogKHZhbHVlLCB3cml0ZXIpID0+IHtcbiAgICAgIGZvciAoY29uc3QgYnl0ZSBvZiB0eXBlLnNlcmlhbGl6ZSh2YWx1ZSkudG9CeXRlcygpKSB7XG4gICAgICAgIHdyaXRlci53cml0ZTgoYnl0ZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5mdW5jdGlvbiBzdHJpbmdMaWtlQmNzVHlwZSh7XG4gIHRvQnl0ZXMsXG4gIGZyb21CeXRlcyxcbiAgLi4ub3B0aW9uc1xufSkge1xuICByZXR1cm4gbmV3IEJjc1R5cGUoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgcmVhZDogKHJlYWRlcikgPT4ge1xuICAgICAgY29uc3QgbGVuZ3RoID0gcmVhZGVyLnJlYWRVTEVCKCk7XG4gICAgICBjb25zdCBieXRlcyA9IHJlYWRlci5yZWFkQnl0ZXMobGVuZ3RoKTtcbiAgICAgIHJldHVybiBmcm9tQnl0ZXMoYnl0ZXMpO1xuICAgIH0sXG4gICAgd3JpdGU6IChoZXgsIHdyaXRlcikgPT4ge1xuICAgICAgY29uc3QgYnl0ZXMgPSB0b0J5dGVzKGhleCk7XG4gICAgICB3cml0ZXIud3JpdGVVTEVCKGJ5dGVzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdyaXRlci53cml0ZTgoYnl0ZXNbaV0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWFsaXplOiAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IGJ5dGVzID0gdG9CeXRlcyh2YWx1ZSk7XG4gICAgICBjb25zdCBzaXplID0gdWxlYkVuY29kZShieXRlcy5sZW5ndGgpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZS5sZW5ndGggKyBieXRlcy5sZW5ndGgpO1xuICAgICAgcmVzdWx0LnNldChzaXplLCAwKTtcbiAgICAgIHJlc3VsdC5zZXQoYnl0ZXMsIHNpemUubGVuZ3RoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgJHtvcHRpb25zLm5hbWV9IHZhbHVlOiAke3ZhbHVlfS4gRXhwZWN0ZWQgc3RyaW5nYCk7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnZhbGlkYXRlPy4odmFsdWUpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBsYXp5QmNzVHlwZShjYikge1xuICBsZXQgbGF6eVR5cGUgPSBudWxsO1xuICBmdW5jdGlvbiBnZXRUeXBlKCkge1xuICAgIGlmICghbGF6eVR5cGUpIHtcbiAgICAgIGxhenlUeXBlID0gY2IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGxhenlUeXBlO1xuICB9XG4gIHJldHVybiBuZXcgQmNzVHlwZSh7XG4gICAgbmFtZTogXCJsYXp5XCIsXG4gICAgcmVhZDogKGRhdGEpID0+IGdldFR5cGUoKS5yZWFkKGRhdGEpLFxuICAgIHNlcmlhbGl6ZWRTaXplOiAodmFsdWUpID0+IGdldFR5cGUoKS5zZXJpYWxpemVkU2l6ZSh2YWx1ZSksXG4gICAgd3JpdGU6ICh2YWx1ZSwgd3JpdGVyKSA9PiBnZXRUeXBlKCkud3JpdGUodmFsdWUsIHdyaXRlciksXG4gICAgc2VyaWFsaXplOiAodmFsdWUsIG9wdGlvbnMpID0+IGdldFR5cGUoKS5zZXJpYWxpemUodmFsdWUsIG9wdGlvbnMpLnRvQnl0ZXMoKVxuICB9KTtcbn1cblxuLy8gc3JjL2Jjcy50c1xudmFyIGJjcyA9IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCY3NUeXBlIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVhZCBhbmQgd3JpdGUgYW4gOC1iaXQgdW5zaWduZWQgaW50ZWdlci5cbiAgICogQGV4YW1wbGVcbiAgICogYmNzLnU4KCkuc2VyaWFsaXplKDI1NSkudG9CeXRlcygpIC8vIFVpbnQ4QXJyYXkgWyAyNTUgXVxuICAgKi9cbiAgdTgob3B0aW9ucykge1xuICAgIHJldHVybiB1SW50QmNzVHlwZSh7XG4gICAgICBuYW1lOiBcInU4XCIsXG4gICAgICByZWFkTWV0aG9kOiBcInJlYWQ4XCIsXG4gICAgICB3cml0ZU1ldGhvZDogXCJ3cml0ZThcIixcbiAgICAgIHNpemU6IDEsXG4gICAgICBtYXhWYWx1ZTogMiAqKiA4IC0gMSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCY3NUeXBlIHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVhZCBhbmQgd3JpdGUgYSAxNi1iaXQgdW5zaWduZWQgaW50ZWdlci5cbiAgICogQGV4YW1wbGVcbiAgICogYmNzLnUxNigpLnNlcmlhbGl6ZSg2NTUzNSkudG9CeXRlcygpIC8vIFVpbnQ4QXJyYXkgWyAyNTUsIDI1NSBdXG4gICAqL1xuICB1MTYob3B0aW9ucykge1xuICAgIHJldHVybiB1SW50QmNzVHlwZSh7XG4gICAgICBuYW1lOiBcInUxNlwiLFxuICAgICAgcmVhZE1ldGhvZDogXCJyZWFkMTZcIixcbiAgICAgIHdyaXRlTWV0aG9kOiBcIndyaXRlMTZcIixcbiAgICAgIHNpemU6IDIsXG4gICAgICBtYXhWYWx1ZTogMiAqKiAxNiAtIDEsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmNzVHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlYWQgYW5kIHdyaXRlIGEgMzItYml0IHVuc2lnbmVkIGludGVnZXIuXG4gICAqIEBleGFtcGxlXG4gICAqIGJjcy51MzIoKS5zZXJpYWxpemUoNDI5NDk2NzI5NSkudG9CeXRlcygpIC8vIFVpbnQ4QXJyYXkgWyAyNTUsIDI1NSwgMjU1LCAyNTUgXVxuICAgKi9cbiAgdTMyKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdUludEJjc1R5cGUoe1xuICAgICAgbmFtZTogXCJ1MzJcIixcbiAgICAgIHJlYWRNZXRob2Q6IFwicmVhZDMyXCIsXG4gICAgICB3cml0ZU1ldGhvZDogXCJ3cml0ZTMyXCIsXG4gICAgICBzaXplOiA0LFxuICAgICAgbWF4VmFsdWU6IDIgKiogMzIgLSAxLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQ3JlYXRlcyBhIEJjc1R5cGUgdGhhdCBjYW4gYmUgdXNlZCB0byByZWFkIGFuZCB3cml0ZSBhIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MudTY0KCkuc2VyaWFsaXplKDEpLnRvQnl0ZXMoKSAvLyBVaW50OEFycmF5IFsgMSwgMCwgMCwgMCwgMCwgMCwgMCwgMCBdXG4gICAqL1xuICB1NjQob3B0aW9ucykge1xuICAgIHJldHVybiBiaWdVSW50QmNzVHlwZSh7XG4gICAgICBuYW1lOiBcInU2NFwiLFxuICAgICAgcmVhZE1ldGhvZDogXCJyZWFkNjRcIixcbiAgICAgIHdyaXRlTWV0aG9kOiBcIndyaXRlNjRcIixcbiAgICAgIHNpemU6IDgsXG4gICAgICBtYXhWYWx1ZTogMm4gKiogNjRuIC0gMW4sXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmNzVHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlYWQgYW5kIHdyaXRlIGEgMTI4LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MudTEyOCgpLnNlcmlhbGl6ZSgxKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIC4uLiwgMCBdXG4gICAqL1xuICB1MTI4KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYmlnVUludEJjc1R5cGUoe1xuICAgICAgbmFtZTogXCJ1MTI4XCIsXG4gICAgICByZWFkTWV0aG9kOiBcInJlYWQxMjhcIixcbiAgICAgIHdyaXRlTWV0aG9kOiBcIndyaXRlMTI4XCIsXG4gICAgICBzaXplOiAxNixcbiAgICAgIG1heFZhbHVlOiAybiAqKiAxMjhuIC0gMW4sXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmNzVHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlYWQgYW5kIHdyaXRlIGEgMjU2LWJpdCB1bnNpZ25lZCBpbnRlZ2VyLlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MudTI1NigpLnNlcmlhbGl6ZSgxKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIC4uLiwgMCBdXG4gICAqL1xuICB1MjU2KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYmlnVUludEJjc1R5cGUoe1xuICAgICAgbmFtZTogXCJ1MjU2XCIsXG4gICAgICByZWFkTWV0aG9kOiBcInJlYWQyNTZcIixcbiAgICAgIHdyaXRlTWV0aG9kOiBcIndyaXRlMjU2XCIsXG4gICAgICBzaXplOiAzMixcbiAgICAgIG1heFZhbHVlOiAybiAqKiAyNTZuIC0gMW4sXG4gICAgICAuLi5vcHRpb25zXG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmNzVHlwZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlYWQgYW5kIHdyaXRlIGJvb2xlYW4gdmFsdWVzLlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MuYm9vbCgpLnNlcmlhbGl6ZSh0cnVlKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEgXVxuICAgKi9cbiAgYm9vbChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZpeGVkU2l6ZUJjc1R5cGUoe1xuICAgICAgbmFtZTogXCJib29sXCIsXG4gICAgICBzaXplOiAxLFxuICAgICAgcmVhZDogKHJlYWRlcikgPT4gcmVhZGVyLnJlYWQ4KCkgPT09IDEsXG4gICAgICB3cml0ZTogKHZhbHVlLCB3cml0ZXIpID0+IHdyaXRlci53cml0ZTgodmFsdWUgPyAxIDogMCksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBvcHRpb25zPy52YWxpZGF0ZT8uKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBib29sZWFuLCBmb3VuZCAke3R5cGVvZiB2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQ3JlYXRlcyBhIEJjc1R5cGUgdGhhdCBjYW4gYmUgdXNlZCB0byByZWFkIGFuZCB3cml0ZSB1bnNpZ25lZCBMRUIgZW5jb2RlZCBpbnRlZ2Vyc1xuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKi9cbiAgdWxlYjEyOChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGR5bmFtaWNTaXplQmNzVHlwZSh7XG4gICAgICBuYW1lOiBcInVsZWIxMjhcIixcbiAgICAgIHJlYWQ6IChyZWFkZXIpID0+IHJlYWRlci5yZWFkVUxFQigpLFxuICAgICAgc2VyaWFsaXplOiAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh1bGViRW5jb2RlKHZhbHVlKSk7XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQ3JlYXRlcyBhIEJjc1R5cGUgcmVwcmVzZW50aW5nIGEgZml4ZWQgbGVuZ3RoIGJ5dGUgYXJyYXlcbiAgICogQHBhcmFtIHNpemUgVGhlIG51bWJlciBvZiBieXRlcyB0aGlzIHR5cGVzIHJlcHJlc2VudHNcbiAgICogQGV4YW1wbGVcbiAgICogYmNzLmJ5dGVzKDMpLnNlcmlhbGl6ZShuZXcgVWludDhBcnJheShbMSwgMiwgM10pKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbMSwgMiwgM11cbiAgICovXG4gIGJ5dGVzKHNpemUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZml4ZWRTaXplQmNzVHlwZSh7XG4gICAgICBuYW1lOiBgYnl0ZXNbJHtzaXplfV1gLFxuICAgICAgc2l6ZSxcbiAgICAgIHJlYWQ6IChyZWFkZXIpID0+IHJlYWRlci5yZWFkQnl0ZXMoc2l6ZSksXG4gICAgICB3cml0ZTogKHZhbHVlLCB3cml0ZXIpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICB3cml0ZXIud3JpdGU4KHZhbHVlW2ldID8/IDApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgb3B0aW9ucz8udmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgICAgIGlmICghKFwibGVuZ3RoXCIgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYXJyYXksIGZvdW5kICR7dHlwZW9mIHZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IHNpemUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBhcnJheSBvZiBsZW5ndGggJHtzaXplfSwgZm91bmQgJHt2YWx1ZS5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCY3NUeXBlIHRoYXQgY2FuIHNlci9kZSBzdHJpbmcgdmFsdWVzLiAgU3RyaW5ncyB3aWxsIGJlIFVURi04IGVuY29kZWRcbiAgICogQGV4YW1wbGVcbiAgICogYmNzLnN0cmluZygpLnNlcmlhbGl6ZSgnYScpLnRvQnl0ZXMoKSAvLyBVaW50OEFycmF5IFsgMSwgOTcgXVxuICAgKi9cbiAgc3RyaW5nKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3RyaW5nTGlrZUJjc1R5cGUoe1xuICAgICAgbmFtZTogXCJzdHJpbmdcIixcbiAgICAgIHRvQnl0ZXM6ICh2YWx1ZSkgPT4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHZhbHVlKSxcbiAgICAgIGZyb21CeXRlczogKGJ5dGVzKSA9PiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYnl0ZXMpLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQ3JlYXRlcyBhIEJjc1R5cGUgdGhhdCByZXByZXNlbnRzIGEgZml4ZWQgbGVuZ3RoIGFycmF5IG9mIGEgZ2l2ZW4gdHlwZVxuICAgKiBAcGFyYW0gc2l6ZSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheVxuICAgKiBAcGFyYW0gdHlwZSBUaGUgQmNzVHlwZSBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5XG4gICAqIEBleGFtcGxlXG4gICAqIGJjcy5maXhlZEFycmF5KDMsIGJjcy51OCgpKS5zZXJpYWxpemUoWzEsIDIsIDNdKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIDIsIDMgXVxuICAgKi9cbiAgZml4ZWRBcnJheShzaXplLCB0eXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBCY3NUeXBlKHtcbiAgICAgIG5hbWU6IGAke3R5cGUubmFtZX1bJHtzaXplfV1gLFxuICAgICAgcmVhZDogKHJlYWRlcikgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0W2ldID0gdHlwZS5yZWFkKHJlYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogKHZhbHVlLCB3cml0ZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgdHlwZS53cml0ZShpdGVtLCB3cml0ZXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgb3B0aW9ucz8udmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgICAgIGlmICghKFwibGVuZ3RoXCIgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYXJyYXksIGZvdW5kICR7dHlwZW9mIHZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IHNpemUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBhcnJheSBvZiBsZW5ndGggJHtzaXplfSwgZm91bmQgJHt2YWx1ZS5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCY3NUeXBlIHJlcHJlc2VudGluZyBhbiBvcHRpb25hbCB2YWx1ZVxuICAgKiBAcGFyYW0gdHlwZSBUaGUgQmNzVHlwZSBvZiB0aGUgb3B0aW9uYWwgdmFsdWVcbiAgICogQGV4YW1wbGVcbiAgICogYmNzLm9wdGlvbihiY3MudTgoKSkuc2VyaWFsaXplKG51bGwpLnRvQnl0ZXMoKSAvLyBVaW50OEFycmF5IFsgMCBdXG4gICAqIGJjcy5vcHRpb24oYmNzLnU4KCkpLnNlcmlhbGl6ZSgxKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIDEgXVxuICAgKi9cbiAgb3B0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gYmNzLmVudW0oYE9wdGlvbjwke3R5cGUubmFtZX0+YCwge1xuICAgICAgTm9uZTogbnVsbCxcbiAgICAgIFNvbWU6IHR5cGVcbiAgICB9KS50cmFuc2Zvcm0oe1xuICAgICAgaW5wdXQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB7IE5vbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBTb21lOiB2YWx1ZSB9O1xuICAgICAgfSxcbiAgICAgIG91dHB1dDogKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChcIlNvbWVcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5Tb21lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQ3JlYXRlcyBhIEJjc1R5cGUgcmVwcmVzZW50aW5nIGEgdmFyaWFibGUgbGVuZ3RoIHZlY3RvciBvZiBhIGdpdmVuIHR5cGVcbiAgICogQHBhcmFtIHR5cGUgVGhlIEJjc1R5cGUgb2YgZWFjaCBlbGVtZW50IGluIHRoZSB2ZWN0b3JcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYmNzLnZlY3RvcihiY3MudTgoKSkudG9CeXRlcyhbMSwgMiwgM10pIC8vIFVpbnQ4QXJyYXkgWyAzLCAxLCAyLCAzIF1cbiAgICovXG4gIHZlY3Rvcih0eXBlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBCY3NUeXBlKHtcbiAgICAgIG5hbWU6IGB2ZWN0b3I8JHt0eXBlLm5hbWV9PmAsXG4gICAgICByZWFkOiAocmVhZGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHJlYWRlci5yZWFkVUxFQigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJlc3VsdFtpXSA9IHR5cGUucmVhZChyZWFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgd3JpdGU6ICh2YWx1ZSwgd3JpdGVyKSA9PiB7XG4gICAgICAgIHdyaXRlci53cml0ZVVMRUIodmFsdWUubGVuZ3RoKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgdHlwZS53cml0ZShpdGVtLCB3cml0ZXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgb3B0aW9ucz8udmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgICAgIGlmICghKFwibGVuZ3RoXCIgaW4gdmFsdWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYXJyYXksIGZvdW5kICR7dHlwZW9mIHZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmNzVHlwZSByZXByZXNlbnRpbmcgYSB0dXBsZSBvZiBhIGdpdmVuIHNldCBvZiB0eXBlc1xuICAgKiBAcGFyYW0gdHlwZXMgVGhlIEJjc1R5cGVzIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHR1cGxlXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHR1cGxlID0gYmNzLnR1cGxlKFtiY3MudTgoKSwgYmNzLnN0cmluZygpLCBiY3MuYm9vbCgpXSlcbiAgICogdHVwbGUuc2VyaWFsaXplKFsxLCAnYScsIHRydWVdKS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIDEsIDk3LCAxIF1cbiAgICovXG4gIHR1cGxlKHR5cGVzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBCY3NUeXBlKHtcbiAgICAgIG5hbWU6IGAoJHt0eXBlcy5tYXAoKHQpID0+IHQubmFtZSkuam9pbihcIiwgXCIpfSlgLFxuICAgICAgc2VyaWFsaXplZFNpemU6ICh2YWx1ZXMpID0+IHtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHNpemUgPSB0eXBlc1tpXS5zZXJpYWxpemVkU2l6ZSh2YWx1ZXNbaV0pO1xuICAgICAgICAgIGlmIChzaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b3RhbCArPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3RhbDtcbiAgICAgIH0sXG4gICAgICByZWFkOiAocmVhZGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2YgdHlwZXMpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh0eXBlLnJlYWQocmVhZGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICB3cml0ZTogKHZhbHVlLCB3cml0ZXIpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHR5cGVzW2ldLndyaXRlKHZhbHVlW2ldLCB3cml0ZXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgb3B0aW9ucz8udmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBhcnJheSwgZm91bmQgJHt0eXBlb2YgdmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gdHlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgYXJyYXkgb2YgbGVuZ3RoICR7dHlwZXMubGVuZ3RofSwgZm91bmQgJHt2YWx1ZS5sZW5ndGh9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCY3NUeXBlIHJlcHJlc2VudGluZyBhIHN0cnVjdCBvZiBhIGdpdmVuIHNldCBvZiBmaWVsZHNcbiAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0cnVjdFxuICAgKiBAcGFyYW0gZmllbGRzIFRoZSBmaWVsZHMgb2YgdGhlIHN0cnVjdC4gVGhlIG9yZGVyIG9mIHRoZSBmaWVsZHMgYWZmZWN0cyBob3cgZGF0YSBpcyBzZXJpYWxpemVkIGFuZCBkZXNlcmlhbGl6ZWRcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3Qgc3RydWN0ID0gYmNzLnN0cnVjdCgnTXlTdHJ1Y3QnLCB7XG4gICAqICBhOiBiY3MudTgoKSxcbiAgICogIGI6IGJjcy5zdHJpbmcoKSxcbiAgICogfSlcbiAgICogc3RydWN0LnNlcmlhbGl6ZSh7IGE6IDEsIGI6ICdhJyB9KS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIDEsIDk3IF1cbiAgICovXG4gIHN0cnVjdChuYW1lLCBmaWVsZHMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYW5vbmljYWxPcmRlciA9IE9iamVjdC5lbnRyaWVzKGZpZWxkcyk7XG4gICAgcmV0dXJuIG5ldyBCY3NUeXBlKHtcbiAgICAgIG5hbWUsXG4gICAgICBzZXJpYWxpemVkU2l6ZTogKHZhbHVlcykgPT4ge1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IFtmaWVsZCwgdHlwZV0gb2YgY2Fub25pY2FsT3JkZXIpIHtcbiAgICAgICAgICBjb25zdCBzaXplID0gdHlwZS5zZXJpYWxpemVkU2l6ZSh2YWx1ZXNbZmllbGRdKTtcbiAgICAgICAgICBpZiAoc2l6ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG90YWwgKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgICB9LFxuICAgICAgcmVhZDogKHJlYWRlcikgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBbZmllbGQsIHR5cGVdIG9mIGNhbm9uaWNhbE9yZGVyKSB7XG4gICAgICAgICAgcmVzdWx0W2ZpZWxkXSA9IHR5cGUucmVhZChyZWFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgd3JpdGU6ICh2YWx1ZSwgd3JpdGVyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgW2ZpZWxkLCB0eXBlXSBvZiBjYW5vbmljYWxPcmRlcikge1xuICAgICAgICAgIHR5cGUud3JpdGUodmFsdWVbZmllbGRdLCB3cml0ZXIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgb3B0aW9ucz8udmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG9iamVjdCwgZm91bmQgJHt0eXBlb2YgdmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBCY3NUeXBlIHJlcHJlc2VudGluZyBhbiBlbnVtIG9mIGEgZ2l2ZW4gc2V0IG9mIG9wdGlvbnNcbiAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGVudW1cbiAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIG9mIHRoZSBlbnVtLiBUaGUgb3JkZXIgb2YgdGhlIHZhbHVlcyBhZmZlY3RzIGhvdyBkYXRhIGlzIHNlcmlhbGl6ZWQgYW5kIGRlc2VyaWFsaXplZC5cbiAgICogbnVsbCBjYW4gYmUgdXNlZCB0byByZXByZXNlbnQgYSB2YXJpYW50IHdpdGggbm8gZGF0YS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgZW51bSA9IGJjcy5lbnVtKCdNeUVudW0nLCB7XG4gICAqICAgQTogYmNzLnU4KCksXG4gICAqICAgQjogYmNzLnN0cmluZygpLFxuICAgKiAgIEM6IG51bGwsXG4gICAqIH0pXG4gICAqIGVudW0uc2VyaWFsaXplKHsgQTogMSB9KS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDAsIDEgXVxuICAgKiBlbnVtLnNlcmlhbGl6ZSh7IEI6ICdhJyB9KS50b0J5dGVzKCkgLy8gVWludDhBcnJheSBbIDEsIDEsIDk3IF1cbiAgICogZW51bS5zZXJpYWxpemUoeyBDOiB0cnVlIH0pLnRvQnl0ZXMoKSAvLyBVaW50OEFycmF5IFsgMiBdXG4gICAqL1xuICBlbnVtKG5hbWUsIHZhbHVlcywgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhbm9uaWNhbE9yZGVyID0gT2JqZWN0LmVudHJpZXModmFsdWVzKTtcbiAgICByZXR1cm4gbmV3IEJjc1R5cGUoe1xuICAgICAgbmFtZSxcbiAgICAgIHJlYWQ6IChyZWFkZXIpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSByZWFkZXIucmVhZFVMRUIoKTtcbiAgICAgICAgY29uc3QgW25hbWUyLCB0eXBlXSA9IGNhbm9uaWNhbE9yZGVyW2luZGV4XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBbbmFtZTJdOiB0eXBlPy5yZWFkKHJlYWRlcikgPz8gdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHdyaXRlOiAodmFsdWUsIHdyaXRlcikgPT4ge1xuICAgICAgICBjb25zdCBbbmFtZTIsIHZhbF0gPSBPYmplY3QuZW50cmllcyh2YWx1ZSlbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2Fub25pY2FsT3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBbb3B0aW9uTmFtZSwgb3B0aW9uVHlwZV0gPSBjYW5vbmljYWxPcmRlcltpXTtcbiAgICAgICAgICBpZiAob3B0aW9uTmFtZSA9PT0gbmFtZTIpIHtcbiAgICAgICAgICAgIHdyaXRlci53cml0ZVVMRUIoaSk7XG4gICAgICAgICAgICBvcHRpb25UeXBlPy53cml0ZSh2YWwsIHdyaXRlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+IHtcbiAgICAgICAgb3B0aW9ucz8udmFsaWRhdGU/Lih2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIG9iamVjdCwgZm91bmQgJHt0eXBlb2YgdmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgb2JqZWN0IHdpdGggb25lIGtleSwgZm91bmQgJHtrZXlzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbbmFtZTJdID0ga2V5cztcbiAgICAgICAgaWYgKCFPYmplY3QuaGFzT3duKHZhbHVlcywgbmFtZTIpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBlbnVtIHZhcmlhbnQgJHtuYW1lMn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogQ3JlYXRlcyBhIEJjc1R5cGUgcmVwcmVzZW50aW5nIGEgbWFwIG9mIGEgZ2l2ZW4ga2V5IGFuZCB2YWx1ZSB0eXBlXG4gICAqIEBwYXJhbSBrZXlUeXBlIFRoZSBCY3NUeXBlIG9mIHRoZSBrZXlcbiAgICogQHBhcmFtIHZhbHVlVHlwZSBUaGUgQmNzVHlwZSBvZiB0aGUgdmFsdWVcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgbWFwID0gYmNzLm1hcChiY3MudTgoKSwgYmNzLnN0cmluZygpKVxuICAgKiBtYXAuc2VyaWFsaXplKG5ldyBNYXAoW1syLCAnYSddXSkpLnRvQnl0ZXMoKSAvLyBVaW50OEFycmF5IFsgMSwgMiwgMSwgOTcgXVxuICAgKi9cbiAgbWFwKGtleVR5cGUsIHZhbHVlVHlwZSkge1xuICAgIHJldHVybiBiY3MudmVjdG9yKGJjcy50dXBsZShba2V5VHlwZSwgdmFsdWVUeXBlXSkpLnRyYW5zZm9ybSh7XG4gICAgICBuYW1lOiBgTWFwPCR7a2V5VHlwZS5uYW1lfSwgJHt2YWx1ZVR5cGUubmFtZX0+YCxcbiAgICAgIGlucHV0OiAodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuIFsuLi52YWx1ZS5lbnRyaWVzKCldO1xuICAgICAgfSxcbiAgICAgIG91dHB1dDogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiB2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKlxuICAgKiBHZW5lcmljcyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXMgZ2VuZXJpYyB0eXBlc2NyaXB0IGZ1bmN0aW9ucyBpbnN0ZWFkOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBmdW5jdGlvbiBWZWNNYXA8SywgVj4sIChLOiBCY3NUeXBlPEs+LCBWOiBCY3NUeXBlPFY+KSB7XG4gICAqICAgcmV0dXJuIGJjcy5zdHJ1Y3QoJ1ZlY01hcDxLLCBWPicsIHtcbiAgICogICAgIGtleXM6IGJjcy52ZWN0b3IoSyksXG4gICAqICAgICB2YWx1ZXM6IGJjcy52ZWN0b3IoViksXG4gICAqICAgfSlcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIGdlbmVyaWMobmFtZXMsIGNiKSB7XG4gICAgcmV0dXJuICguLi50eXBlcykgPT4ge1xuICAgICAgcmV0dXJuIGNiKC4uLnR5cGVzKS50cmFuc2Zvcm0oe1xuICAgICAgICBuYW1lOiBgJHtjYi5uYW1lfTwke3R5cGVzLm1hcCgodCkgPT4gdC5uYW1lKS5qb2luKFwiLCBcIil9PmAsXG4gICAgICAgIGlucHV0OiAodmFsdWUpID0+IHZhbHVlLFxuICAgICAgICBvdXRwdXQ6ICh2YWx1ZSkgPT4gdmFsdWVcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgQmNzVHlwZSB0aGF0IHdyYXBzIGFub3RoZXIgQmNzVHlwZSB3aGljaCBpcyBsYXppbHkgZXZhbHVhdGVkLiBUaGlzIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgcmVjdXJzaXZlIHR5cGVzLlxuICAgKiBAcGFyYW0gY2IgQSBjYWxsYmFjayB0aGF0IHJldHVybnMgdGhlIEJjc1R5cGVcbiAgICovXG4gIGxhenkoY2IpIHtcbiAgICByZXR1cm4gbGF6eUJjc1R5cGUoY2IpO1xuICB9XG59O1xuXG4vLyBzcmMvbGVnYWN5LXJlZ2lzdHJ5LnRzXG52YXIgU1VJX0FERFJFU1NfTEVOR1RIID0gMzI7XG52YXIgX0JDUyA9IGNsYXNzIF9CQ1Mge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgQkNTIGluc3RhbmNlIHdpdGggYSBwcmVwYXJlZCBzY2hlbWEuXG4gICAqXG4gICAqIEBwYXJhbSBzY2hlbWEgQSBwcmVwYXJlZCBzY2hlbWEgd2l0aCB0eXBlIGRlZmluaXRpb25zXG4gICAqIEBwYXJhbSB3aXRoUHJpbWl0aXZlcyBXaGV0aGVyIHRvIHJlZ2lzdGVyIHByaW1pdGl2ZSB0eXBlcyBieSBkZWZhdWx0XG4gICAqL1xuICBjb25zdHJ1Y3RvcihzY2hlbWEpIHtcbiAgICAvKipcbiAgICAgKiBNYXAgb2Yga2luZCBgVHlwZU5hbWUgPT4gVHlwZUludGVyZmFjZWAuIEhvbGRzIGFsbFxuICAgICAqIGNhbGxiYWNrcyBmb3IgKGRlKXNlcmlhbGl6YXRpb24gb2YgZXZlcnkgcmVnaXN0ZXJlZCB0eXBlLlxuICAgICAqXG4gICAgICogSWYgdGhlIHZhbHVlIHN0b3JlZCBpcyBhIHN0cmluZywgaXQgaXMgdHJlYXRlZCBhcyBhbiBhbGlhcy5cbiAgICAgKi9cbiAgICB0aGlzLnR5cGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiBDb3VudCB0ZW1wIGtleXMgdG8gZ2VuZXJhdGUgYSBuZXcgb25lIHdoZW4gcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIF9CQ1MpIHtcbiAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hLnNjaGVtYTtcbiAgICAgIHRoaXMudHlwZXMgPSBuZXcgTWFwKHNjaGVtYS50eXBlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIHRoaXMucmVnaXN0ZXJBZGRyZXNzVHlwZShfQkNTLkFERFJFU1MsIHNjaGVtYS5hZGRyZXNzTGVuZ3RoLCBzY2hlbWEuYWRkcmVzc0VuY29kaW5nKTtcbiAgICB0aGlzLnJlZ2lzdGVyVmVjdG9yVHlwZShzY2hlbWEudmVjdG9yVHlwZSk7XG4gICAgaWYgKHNjaGVtYS50eXBlcyAmJiBzY2hlbWEudHlwZXMuc3RydWN0cykge1xuICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3Qua2V5cyhzY2hlbWEudHlwZXMuc3RydWN0cykpIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlclN0cnVjdFR5cGUobmFtZSwgc2NoZW1hLnR5cGVzLnN0cnVjdHNbbmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NoZW1hLnR5cGVzICYmIHNjaGVtYS50eXBlcy5lbnVtcykge1xuICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3Qua2V5cyhzY2hlbWEudHlwZXMuZW51bXMpKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFbnVtVHlwZShuYW1lLCBzY2hlbWEudHlwZXMuZW51bXNbbmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NoZW1hLnR5cGVzICYmIHNjaGVtYS50eXBlcy5hbGlhc2VzKSB7XG4gICAgICBmb3IgKGxldCBuYW1lIG9mIE9iamVjdC5rZXlzKHNjaGVtYS50eXBlcy5hbGlhc2VzKSkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQWxpYXMobmFtZSwgc2NoZW1hLnR5cGVzLmFsaWFzZXNbbmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NoZW1hLndpdGhQcmltaXRpdmVzICE9PSBmYWxzZSkge1xuICAgICAgcmVnaXN0ZXJQcmltaXRpdmVzKHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTmFtZSBvZiB0aGUga2V5IHRvIHVzZSBmb3IgdGVtcG9yYXJ5IHN0cnVjdCBkZWZpbml0aW9ucy5cbiAgICogUmV0dXJucyBhIHRlbXAga2V5ICsgaW5kZXggKGZvciBhIGNhc2Ugd2hlbiBtdWx0aXBsZSB0ZW1wXG4gICAqIHN0cnVjdHMgYXJlIHByb2Nlc3NlZCkuXG4gICAqL1xuICB0ZW1wS2V5KCkge1xuICAgIHJldHVybiBgYmNzLXN0cnVjdC0keysrdGhpcy5jb3VudGVyfWA7XG4gIH1cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZSBkYXRhIGludG8gYmNzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MucmVnaXN0ZXJWZWN0b3JUeXBlKCd2ZWN0b3I8dTg+JywgJ3U4Jyk7XG4gICAqXG4gICAqIGxldCBzZXJpYWxpemVkID0gQkNTXG4gICAqICAgLnNldCgndmVjdG9yPHU4PicsIFsxLDIsMyw0LDUsNl0pXG4gICAqICAgLnRvQnl0ZXMoKTtcbiAgICpcbiAgICogY29uc29sZS5hc3NlcnQodG9IZXgoc2VyaWFsaXplZCkgPT09ICcwNjAxMDIwMzA0MDUwNicpO1xuICAgKlxuICAgKiBAcGFyYW0gdHlwZSBOYW1lIG9mIHRoZSB0eXBlIHRvIHNlcmlhbGl6ZSAobXVzdCBiZSByZWdpc3RlcmVkKSBvciBhIHN0cnVjdCB0eXBlLlxuICAgKiBAcGFyYW0gZGF0YSBEYXRhIHRvIHNlcmlhbGl6ZS5cbiAgICogQHBhcmFtIHNpemUgU2VyaWFsaXphdGlvbiBidWZmZXIgc2l6ZS4gRGVmYXVsdCAxMDI0ID0gMUtCLlxuICAgKiBAcmV0dXJuIEEgQkNTIHJlYWRlciBpbnN0YW5jZS4gVXN1YWxseSB5b3UnZCB3YW50IHRvIGNhbGwgYC50b0J5dGVzKClgXG4gICAqL1xuICBzZXIodHlwZSwgZGF0YSwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICBjb25zdCB7IG5hbWUsIHBhcmFtcyB9ID0gdGhpcy5wYXJzZVR5cGVOYW1lKHR5cGUpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZUludGVyZmFjZShuYW1lKS5lbmNvZGUodGhpcywgZGF0YSwgb3B0aW9ucywgcGFyYW1zKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBrZXkgPSB0aGlzLnRlbXBLZXkoKTtcbiAgICAgIGNvbnN0IHRlbXAgPSBuZXcgX0JDUyh0aGlzKTtcbiAgICAgIHJldHVybiB0ZW1wLnJlZ2lzdGVyU3RydWN0VHlwZShrZXksIHR5cGUpLnNlcihrZXksIGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCB0eXBlIHBhc3NlZCBpbnRvIHRoZSAnLnNlcigpJyBmdW5jdGlvbi4gXG4ke0pTT04uc3RyaW5naWZ5KHR5cGUpfWApO1xuICB9XG4gIC8qKlxuICAgKiBEZXNlcmlhbGl6ZSBCQ1MgaW50byBhIEpTIHR5cGUuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGxldCBudW0gPSBiY3Muc2VyKCd1NjQnLCAnNDI5NDk2NzI5NScpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICogbGV0IGRlTnVtID0gYmNzLmRlKCd1NjQnLCBudW0sICdoZXgnKTtcbiAgICogY29uc29sZS5hc3NlcnQoZGVOdW0udG9TdHJpbmcoMTApID09PSAnNDI5NDk2NzI5NScpO1xuICAgKlxuICAgKiBAcGFyYW0gdHlwZSBOYW1lIG9mIHRoZSB0eXBlIHRvIGRlc2VyaWFsaXplIChtdXN0IGJlIHJlZ2lzdGVyZWQpIG9yIGEgc3RydWN0IHR5cGUgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIGRhdGEgRGF0YSB0byBkZXNlcmlhbGl6ZS5cbiAgICogQHBhcmFtIGVuY29kaW5nIE9wdGlvbmFsIC0gZW5jb2RpbmcgdG8gdXNlIGlmIGRhdGEgaXMgb2YgdHlwZSBTdHJpbmdcbiAgICogQHJldHVybiBEZXNlcmlhbGl6ZWQgZGF0YS5cbiAgICovXG4gIGRlKHR5cGUsIGRhdGEsIGVuY29kaW5nKSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoZW5jb2RpbmcpIHtcbiAgICAgICAgZGF0YSA9IGRlY29kZVN0cihkYXRhLCBlbmNvZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUbyBwYXNzIGEgc3RyaW5nIHRvIGBiY3MuZGVgLCBzcGVjaWZ5IGVuY29kaW5nXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgY29uc3QgeyBuYW1lLCBwYXJhbXMgfSA9IHRoaXMucGFyc2VUeXBlTmFtZSh0eXBlKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFR5cGVJbnRlcmZhY2UobmFtZSkuZGVjb2RlKHRoaXMsIGRhdGEsIHBhcmFtcyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgdGVtcCA9IG5ldyBfQkNTKHRoaXMpO1xuICAgICAgY29uc3Qga2V5ID0gdGhpcy50ZW1wS2V5KCk7XG4gICAgICByZXR1cm4gdGVtcC5yZWdpc3RlclN0cnVjdFR5cGUoa2V5LCB0eXBlKS5kZShrZXksIGRhdGEsIGVuY29kaW5nKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgdHlwZSBwYXNzZWQgaW50byB0aGUgJy5kZSgpJyBmdW5jdGlvbi4gXG4ke0pTT04uc3RyaW5naWZ5KHR5cGUpfWApO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIGEgYFR5cGVJbnRlcmZhY2VgIGhhcyBiZWVuIGxvYWRlZCBmb3IgYSBgdHlwZWAuXG4gICAqIEBwYXJhbSB0eXBlIE5hbWUgb2YgdGhlIHR5cGUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBoYXNUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlcy5oYXModHlwZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBhbGlhcyBmb3IgYSB0eXBlLlxuICAgKiBXQVJOSU5HOiB0aGlzIGNhbiBwb3RlbnRpYWxseSBsZWFkIHRvIHJlY3Vyc2lvblxuICAgKiBAcGFyYW0gbmFtZSBBbGlhcyB0byB1c2VcbiAgICogQHBhcmFtIGZvclR5cGUgVHlwZSB0byByZWZlcmVuY2VcbiAgICogQHJldHVybnNcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgXG4gICAqIGxldCBiY3MgPSBuZXcgQkNTKGdldFN1aU1vdmVDb25maWcoKSk7XG4gICAqIGJjcy5yZWdpc3RlckFsaWFzKCdPYmplY3REaWdlc3QnLCBCQ1MuQkFTRTU4KTtcbiAgICogbGV0IGI1OF9kaWdlc3QgPSBiY3MuZGUoJ09iamVjdERpZ2VzdCcsICc8ZGlnZXN0X2J5dGVzPicsICdiYXNlNjQnKTtcbiAgICogYGBgXG4gICAqL1xuICByZWdpc3RlckFsaWFzKG5hbWUsIGZvclR5cGUpIHtcbiAgICB0aGlzLnR5cGVzLnNldChuYW1lLCBmb3JUeXBlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHRvIHJlZ2lzdGVyIG5ldyB0eXBlcyBmb3IgQkNTIGludGVybmFsIHJlcHJlc2VudGF0aW9uLlxuICAgKiBGb3IgZWFjaCByZWdpc3RlcmVkIHR5cGUgMiBjYWxsYmFja3MgbXVzdCBiZSBzcGVjaWZpZWQgYW5kIG9uZSBpcyBvcHRpb25hbDpcbiAgICpcbiAgICogLSBlbmNvZGVDYih3cml0ZXIsIGRhdGEpIC0gd3JpdGUgYSB3YXkgdG8gc2VyaWFsaXplIGRhdGEgd2l0aCBCY3NXcml0ZXI7XG4gICAqIC0gZGVjb2RlQ2IocmVhZGVyKSAtIHdyaXRlIGEgd2F5IHRvIGRlc2VyaWFsaXplIGRhdGEgd2l0aCBCY3NSZWFkZXI7XG4gICAqIC0gdmFsaWRhdGVDYihkYXRhKSAtIHZhbGlkYXRlIGRhdGEgLSBlaXRoZXIgcmV0dXJuIGJvb2wgb3IgdGhyb3cgYW4gZXJyb3JcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogLy8gb3VyIHR5cGUgd291bGQgYmUgYSBzdHJpbmcgdGhhdCBjb25zaXN0cyBvbmx5IG9mIG51bWJlcnNcbiAgICogYmNzLnJlZ2lzdGVyVHlwZSgnbnVtYmVyX3N0cmluZycsXG4gICAqICAgICh3cml0ZXIsIGRhdGEpID0+IHdyaXRlci53cml0ZVZlYyhkYXRhLCAodywgZWwpID0+IHcud3JpdGU4KGVsKSksXG4gICAqICAgIChyZWFkZXIpID0+IHJlYWRlci5yZWFkVmVjKChyKSA9PiByLnJlYWQ4KCkpLmpvaW4oJycpLCAvLyByZWFkIGVhY2ggdmFsdWUgYXMgdThcbiAgICogICAgKHZhbHVlKSA9PiAvWzAtOV0rLy50ZXN0KHZhbHVlKSAvLyB0ZXN0IHRoYXQgaXQgaGFzIGF0IGxlYXN0IG9uZSBkaWdpdFxuICAgKiApO1xuICAgKiBjb25zb2xlLmxvZyhBcnJheS5mcm9tKGJjcy5zZXIoJ251bWJlcl9zdHJpbmcnLCAnMTIzNDUnKS50b0J5dGVzKCkpID09IFs1LDEsMiwzLDQsNV0pO1xuICAgKlxuICAgKiBAcGFyYW0gbmFtZVxuICAgKiBAcGFyYW0gZW5jb2RlQ2IgQ2FsbGJhY2sgdG8gZW5jb2RlIGEgdmFsdWUuXG4gICAqIEBwYXJhbSBkZWNvZGVDYiBDYWxsYmFjayB0byBkZWNvZGUgYSB2YWx1ZS5cbiAgICogQHBhcmFtIHZhbGlkYXRlQ2IgT3B0aW9uYWwgdmFsaWRhdG9yIENhbGxiYWNrIHRvIGNoZWNrIHR5cGUgYmVmb3JlIHNlcmlhbGl6YXRpb24uXG4gICAqL1xuICByZWdpc3RlclR5cGUodHlwZU5hbWUsIGVuY29kZUNiLCBkZWNvZGVDYiwgdmFsaWRhdGVDYiA9ICgpID0+IHRydWUpIHtcbiAgICBjb25zdCB7IG5hbWUsIHBhcmFtczogZ2VuZXJpY3MgfSA9IHRoaXMucGFyc2VUeXBlTmFtZSh0eXBlTmFtZSk7XG4gICAgdGhpcy50eXBlcy5zZXQobmFtZSwge1xuICAgICAgZW5jb2RlKHNlbGYsIGRhdGEsIG9wdGlvbnMsIHR5cGVQYXJhbXMpIHtcbiAgICAgICAgY29uc3QgdHlwZU1hcCA9IGdlbmVyaWNzLnJlZHVjZSgoYWNjLCB2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW3ZhbHVlXTogdHlwZVBhcmFtc1tpbmRleF0gfSk7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuY29kZVJhdy5jYWxsKHNlbGYsIG5ldyBCY3NXcml0ZXIob3B0aW9ucyksIGRhdGEsIHR5cGVQYXJhbXMsIHR5cGVNYXApO1xuICAgICAgfSxcbiAgICAgIGRlY29kZShzZWxmLCBkYXRhLCB0eXBlUGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHR5cGVNYXAgPSBnZW5lcmljcy5yZWR1Y2UoKGFjYywgdmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYWNjLCB7IFt2YWx1ZV06IHR5cGVQYXJhbXNbaW5kZXhdIH0pO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWNvZGVSYXcuY2FsbChzZWxmLCBuZXcgQmNzUmVhZGVyKGRhdGEpLCB0eXBlUGFyYW1zLCB0eXBlTWFwKTtcbiAgICAgIH0sXG4gICAgICAvLyB0aGVzZSBtZXRob2RzIHNob3VsZCBhbHdheXMgYmUgdXNlZCB3aXRoIGNhdXRpb24gYXMgdGhleSByZXF1aXJlIHByZS1kZWZpbmVkXG4gICAgICAvLyByZWFkZXIgYW5kIHdyaXRlciBhbmQgbWFpbmx5IGV4aXN0IHRvIGFsbG93IG11bHRpLWZpZWxkIChkZSlzZXJpYWxpemF0aW9uO1xuICAgICAgX2VuY29kZVJhdyh3cml0ZXIsIGRhdGEsIHR5cGVQYXJhbXMsIHR5cGVNYXApIHtcbiAgICAgICAgaWYgKHZhbGlkYXRlQ2IoZGF0YSkpIHtcbiAgICAgICAgICByZXR1cm4gZW5jb2RlQ2IuY2FsbCh0aGlzLCB3cml0ZXIsIGRhdGEsIHR5cGVQYXJhbXMsIHR5cGVNYXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsaWRhdGlvbiBmYWlsZWQgZm9yIHR5cGUgJHtuYW1lfSwgZGF0YTogJHtkYXRhfWApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2RlY29kZVJhdyhyZWFkZXIsIHR5cGVQYXJhbXMsIHR5cGVNYXApIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZUNiLmNhbGwodGhpcywgcmVhZGVyLCB0eXBlUGFyYW1zLCB0eXBlTWFwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgXHQgKiBNZXRob2QgdG8gcmVnaXN0ZXIgQmNzVHlwZSBpbnN0YW5jZXMgdG8gdGhlIHJlZ2lzdHJ5XG4gIFx0ICogVHlwZXMgYXJlIHJlZ2lzdGVyZWQgd2l0aCBhIGNhbGxiYWNrIHRoYXQgcHJvdmlkZXMgQmNzVHlwZSBpbnN0YW5jZXMgZm9yIGVhY2ggZ2VuZXJpY1xuICBcdCAqIHBhc3NlZCB0byB0aGUgdHlwZS5cbiAgXHQgKlxuICBcdCAqIC0gY3JlYXRlVHlwZSguLi5nZW5lcmljcykgLSBSZXR1cm4gYSBCY3NUeXBlIGluc3RhbmNlXG4gIFx0ICpcbiAgXHQgKiBAZXhhbXBsZVxuICBcdCAqIC8vIG91ciB0eXBlIHdvdWxkIGJlIGEgc3RyaW5nIHRoYXQgY29uc2lzdHMgb25seSBvZiBudW1iZXJzXG4gIFx0ICogYmNzLnJlZ2lzdGVyVHlwZSgnQm94PFQ+JywgKFQpID0+IHtcbiAgXHQgKiBcdFx0cmV0dXJuIGJjcy5zdHJ1Y3Qoe1xuICBcdCAqIFx0XHRcdHZhbHVlOiBUXG4gIFx0ICogXHRcdH0pO1xuICBcdCAqIH0pO1xuICBcbiAgXHQgKiBjb25zb2xlLmxvZyhBcnJheS5mcm9tKGJjcy5zZXIoJ0JveDxzdHJpbmc+JywgJzEyMzQ1JykudG9CeXRlcygpKSA9PSBbNSwxLDIsMyw0LDVdKTtcbiAgXHQgKlxuICBcdCAqIEBwYXJhbSBuYW1lXG4gIFx0ICogQHBhcmFtIGNyZWF0ZVR5cGUgYSBDYWxsYmFjayB0byBjcmVhdGUgdGhlIEJjc1R5cGUgd2l0aCBhbnkgcGFzc2VkIGluIGdlbmVyaWNzXG4gIFx0ICovXG4gIHJlZ2lzdGVyQmNzVHlwZSh0eXBlTmFtZSwgY3JlYXRlVHlwZSkge1xuICAgIHRoaXMucmVnaXN0ZXJUeXBlKFxuICAgICAgdHlwZU5hbWUsXG4gICAgICAod3JpdGVyLCBkYXRhLCB0eXBlUGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IGdlbmVyaWNzID0gdHlwZVBhcmFtcy5tYXAoXG4gICAgICAgICAgKHBhcmFtKSA9PiBuZXcgQmNzVHlwZSh7XG4gICAgICAgICAgICBuYW1lOiBTdHJpbmcocGFyYW0pLFxuICAgICAgICAgICAgd3JpdGU6IChkYXRhMiwgd3JpdGVyMikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIHBhcmFtcyB9ID0gdGhpcy5wYXJzZVR5cGVOYW1lKHBhcmFtKTtcbiAgICAgICAgICAgICAgY29uc3QgdHlwZUludGVyZmFjZSA9IHRoaXMuZ2V0VHlwZUludGVyZmFjZShuYW1lKTtcbiAgICAgICAgICAgICAgY29uc3QgdHlwZU1hcCA9IHBhcmFtcy5yZWR1Y2UoKGFjYywgdmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYWNjLCB7IFt2YWx1ZV06IHR5cGVQYXJhbXNbaW5kZXhdIH0pO1xuICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlSW50ZXJmYWNlLl9lbmNvZGVSYXcuY2FsbCh0aGlzLCB3cml0ZXIyLCBkYXRhMiwgcGFyYW1zLCB0eXBlTWFwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFkOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBjcmVhdGVUeXBlKC4uLmdlbmVyaWNzKS53cml0ZShkYXRhLCB3cml0ZXIpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgfSxcbiAgICAgIChyZWFkZXIsIHR5cGVQYXJhbXMpID0+IHtcbiAgICAgICAgY29uc3QgZ2VuZXJpY3MgPSB0eXBlUGFyYW1zLm1hcChcbiAgICAgICAgICAocGFyYW0pID0+IG5ldyBCY3NUeXBlKHtcbiAgICAgICAgICAgIG5hbWU6IFN0cmluZyhwYXJhbSksXG4gICAgICAgICAgICB3cml0ZTogKGRhdGEsIHdyaXRlcikgPT4ge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVhZDogKHJlYWRlcjIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBwYXJhbXMgfSA9IHRoaXMucGFyc2VUeXBlTmFtZShwYXJhbSk7XG4gICAgICAgICAgICAgIGNvbnN0IHR5cGVJbnRlcmZhY2UgPSB0aGlzLmdldFR5cGVJbnRlcmZhY2UobmFtZSk7XG4gICAgICAgICAgICAgIGNvbnN0IHR5cGVNYXAgPSBwYXJhbXMucmVkdWNlKChhY2MsIHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGFjYywgeyBbdmFsdWVdOiB0eXBlUGFyYW1zW2luZGV4XSB9KTtcbiAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICByZXR1cm4gdHlwZUludGVyZmFjZS5fZGVjb2RlUmF3LmNhbGwodGhpcywgcmVhZGVyMiwgcGFyYW1zLCB0eXBlTWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gY3JlYXRlVHlwZSguLi5nZW5lcmljcykucmVhZChyZWFkZXIpO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGFuIGFkZHJlc3MgdHlwZSB3aGljaCBpcyBhIHNlcXVlbmNlIG9mIFU4cyBvZiBzcGVjaWZpZWQgbGVuZ3RoLlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MucmVnaXN0ZXJBZGRyZXNzVHlwZSgnYWRkcmVzcycsIFNVSV9BRERSRVNTX0xFTkdUSCk7XG4gICAqIGxldCBhZGRyID0gYmNzLmRlKCdhZGRyZXNzJywgJ2MzYWNhNTEwYzc4NWM3MDk0YWM5OWFlYWExZTY5ZDQ5MzEyMjQ0NGRmNTBiYjhhOTlkZmE3OTBjNjU0YTc5YWYnKTtcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgYWRkcmVzcyB0eXBlLlxuICAgKiBAcGFyYW0gbGVuZ3RoIEJ5dGUgbGVuZ3RoIG9mIHRoZSBhZGRyZXNzLlxuICAgKiBAcGFyYW0gZW5jb2RpbmcgRW5jb2RpbmcgdG8gdXNlIGZvciB0aGUgYWRkcmVzcyB0eXBlXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICByZWdpc3RlckFkZHJlc3NUeXBlKG5hbWUsIGxlbmd0aCwgZW5jb2RpbmcgPSBcImhleFwiKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSBcImJhc2U2NFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlclR5cGUoXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBmdW5jdGlvbiBlbmNvZGVBZGRyZXNzKHdyaXRlciwgZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21CNjQoZGF0YSkucmVkdWNlKCh3cml0ZXIyLCBlbCkgPT4gd3JpdGVyMi53cml0ZTgoZWwpLCB3cml0ZXIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gZGVjb2RlQWRkcmVzcyhyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0b0I2NChyZWFkZXIucmVhZEJ5dGVzKGxlbmd0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJoZXhcIjpcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJUeXBlKFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgZnVuY3Rpb24gZW5jb2RlQWRkcmVzcyh3cml0ZXIsIGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tSEVYKGRhdGEpLnJlZHVjZSgod3JpdGVyMiwgZWwpID0+IHdyaXRlcjIud3JpdGU4KGVsKSwgd3JpdGVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIGRlY29kZUFkZHJlc3MocmVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9IRVgocmVhZGVyLnJlYWRCeXRlcyhsZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBlbmNvZGluZyEgVXNlIGVpdGhlciBoZXggb3IgYmFzZTY0XCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVnaXN0ZXIgY3VzdG9tIHZlY3RvciB0eXBlIGluc2lkZSB0aGUgYmNzLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBiY3MucmVnaXN0ZXJWZWN0b3JUeXBlKCd2ZWN0b3I8VD4nKTsgLy8gZ2VuZXJpYyByZWdpc3RyYXRpb25cbiAgICogbGV0IGFycmF5ID0gYmNzLmRlKCd2ZWN0b3I8dTg+JywgJzA2MDEwMjAzMDQwNTA2JywgJ2hleCcpOyAvLyBbMSwyLDMsNCw1LDZdO1xuICAgKiBsZXQgYWdhaW4gPSBiY3Muc2VyKCd2ZWN0b3I8dTg+JywgWzEsMiwzLDQsNSw2XSkudG9TdHJpbmcoJ2hleCcpO1xuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0eXBlIHRvIHJlZ2lzdGVyXG4gICAqIEBwYXJhbSBlbGVtZW50VHlwZSBPcHRpb25hbCBuYW1lIG9mIHRoZSBpbm5lciB0eXBlIG9mIHRoZSB2ZWN0b3JcbiAgICogQHJldHVybiBSZXR1cm5zIHNlbGYgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgcmVnaXN0ZXJWZWN0b3JUeXBlKHR5cGVOYW1lKSB7XG4gICAgbGV0IHsgbmFtZSwgcGFyYW1zIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZU5hbWUpO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVjdG9yIGNhbiBoYXZlIG9ubHkgb25lIHR5cGUgcGFyYW1ldGVyOyBnb3QgXCIgKyBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJUeXBlKFxuICAgICAgdHlwZU5hbWUsXG4gICAgICBmdW5jdGlvbiBlbmNvZGVWZWN0b3Iod3JpdGVyLCBkYXRhLCB0eXBlUGFyYW1zLCB0eXBlTWFwKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXIud3JpdGVWZWMoZGF0YSwgKHdyaXRlcjIsIGVsKSA9PiB7XG4gICAgICAgICAgbGV0IGVsZW1lbnRUeXBlID0gdHlwZVBhcmFtc1swXTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnRUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBudW1iZXIgb2YgdHlwZSBwYXJhbWV0ZXJzIHBhc3NlZCBhIHRvIHZlY3RvciAnJHt0eXBlTmFtZX0nYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB7IG5hbWU6IG5hbWUyLCBwYXJhbXM6IHBhcmFtczIgfSA9IHRoaXMucGFyc2VUeXBlTmFtZShlbGVtZW50VHlwZSk7XG4gICAgICAgICAgaWYgKHRoaXMuaGFzVHlwZShuYW1lMikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVJbnRlcmZhY2UobmFtZTIpLl9lbmNvZGVSYXcuY2FsbCh0aGlzLCB3cml0ZXIyLCBlbCwgcGFyYW1zMiwgdHlwZU1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKG5hbWUyIGluIHR5cGVNYXApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmFibGUgdG8gZmluZCBhIG1hdGNoaW5nIHR5cGUgZGVmaW5pdGlvbiBmb3IgJHtuYW1lMn0gaW4gdmVjdG9yOyBtYWtlIHN1cmUgeW91IHBhc3NlZCBhIGdlbmVyaWNgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgeyBuYW1lOiBpbm5lck5hbWUsIHBhcmFtczogaW5uZXJQYXJhbXMgfSA9IHRoaXMucGFyc2VUeXBlTmFtZSh0eXBlTWFwW25hbWUyXSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZUludGVyZmFjZShpbm5lck5hbWUpLl9lbmNvZGVSYXcuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICB3cml0ZXIyLFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBpbm5lclBhcmFtcyxcbiAgICAgICAgICAgIHR5cGVNYXBcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbiBkZWNvZGVWZWN0b3IocmVhZGVyLCB0eXBlUGFyYW1zLCB0eXBlTWFwKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZFZlYygocmVhZGVyMikgPT4ge1xuICAgICAgICAgIGxldCBlbGVtZW50VHlwZSA9IHR5cGVQYXJhbXNbMF07XG4gICAgICAgICAgaWYgKCFlbGVtZW50VHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvcnJlY3QgbnVtYmVyIG9mIHR5cGUgcGFyYW1ldGVycyBwYXNzZWQgdG8gYSB2ZWN0b3IgJyR7dHlwZU5hbWV9J2ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgeyBuYW1lOiBuYW1lMiwgcGFyYW1zOiBwYXJhbXMyIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUoZWxlbWVudFR5cGUpO1xuICAgICAgICAgIGlmICh0aGlzLmhhc1R5cGUobmFtZTIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlSW50ZXJmYWNlKG5hbWUyKS5fZGVjb2RlUmF3LmNhbGwodGhpcywgcmVhZGVyMiwgcGFyYW1zMiwgdHlwZU1hcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKG5hbWUyIGluIHR5cGVNYXApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBVbmFibGUgdG8gZmluZCBhIG1hdGNoaW5nIHR5cGUgZGVmaW5pdGlvbiBmb3IgJHtuYW1lMn0gaW4gdmVjdG9yOyBtYWtlIHN1cmUgeW91IHBhc3NlZCBhIGdlbmVyaWNgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgeyBuYW1lOiBpbm5lck5hbWUsIHBhcmFtczogaW5uZXJQYXJhbXMgfSA9IHRoaXMucGFyc2VUeXBlTmFtZSh0eXBlTWFwW25hbWUyXSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZUludGVyZmFjZShpbm5lck5hbWUpLl9kZWNvZGVSYXcuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICByZWFkZXIyLFxuICAgICAgICAgICAgaW5uZXJQYXJhbXMsXG4gICAgICAgICAgICB0eXBlTWFwXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2FmZSBtZXRob2QgdG8gcmVnaXN0ZXIgYSBjdXN0b20gTW92ZSBzdHJ1Y3QuIFRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIG5hbWUgb2YgdGhlXG4gICAqIHN0cnVjdCB3aGljaCBpcyBvbmx5IHVzZWQgb24gdGhlIEZyb250RW5kIGFuZCBoYXMgbm8gYWZmZWN0IG9uIHNlcmlhbGl6YXRpb24gcmVzdWx0cyxcbiAgICogYW5kIHRoZSBzZWNvbmQgaXMgYSBzdHJ1Y3QgZGVzY3JpcHRpb24gcGFzc2VkIGFzIGFuIE9iamVjdC5cbiAgICpcbiAgICogVGhlIGRlc2NyaXB0aW9uIG9iamVjdCBNVVNUIGhhdmUgdGhlIHNhbWUgb3JkZXIgb24gYWxsIG9mIHRoZSBwbGF0Zm9ybXMgKGllIGluIE1vdmVcbiAgICogb3IgaW4gUnVzdCkuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIC8vIE1vdmUgLyBSdXN0IHN0cnVjdFxuICAgKiAvLyBzdHJ1Y3QgQ29pbiB7XG4gICAqIC8vICAgdmFsdWU6IHU2NCxcbiAgICogLy8gICBvd25lcjogdmVjdG9yPHU4PiwgLy8gbmFtZSAvLyBWZWM8dTg+IGluIFJ1c3RcbiAgICogLy8gICBpc19sb2NrZWQ6IGJvb2wsXG4gICAqIC8vIH1cbiAgICpcbiAgICogYmNzLnJlZ2lzdGVyU3RydWN0VHlwZSgnQ29pbicsIHtcbiAgICogICB2YWx1ZTogYmNzLlU2NCxcbiAgICogICBvd25lcjogYmNzLlNUUklORyxcbiAgICogICBpc19sb2NrZWQ6IGJjcy5CT09MXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBDcmVhdGVkIGluIFJ1c3Qgd2l0aCBkaWVtL2Jjc1xuICAgKiAvLyBsZXQgcnVzdF9iY3Nfc3RyID0gJzgwZDFiMTA1NjAwMDAwMDAwZTQyNjk2NzIwNTc2MTZjNmM2NTc0MjA0Nzc1NzkwMCc7XG4gICAqIGxldCBydXN0X2Jjc19zdHIgPSBbIC8vIHVzaW5nIGFuIEFycmF5IGhlcmUgYXMgQkNTIHdvcmtzIHdpdGggVWludDhBcnJheVxuICAgKiAgMTI4LCAyMDksIDE3NywgICA1LCAgOTYsICAwLCAgMCxcbiAgICogICAgMCwgIDE0LCAgNjYsIDEwNSwgMTAzLCAzMiwgODcsXG4gICAqICAgOTcsIDEwOCwgMTA4LCAxMDEsIDExNiwgMzIsIDcxLFxuICAgKiAgMTE3LCAxMjEsICAgMFxuICAgKiBdO1xuICAgKlxuICAgKiAvLyBMZXQncyBlbmNvZGUgdGhlIHZhbHVlIGFzIHdlbGxcbiAgICogbGV0IHRlc3Rfc2V0ID0gYmNzLnNlcignQ29pbicsIHtcbiAgICogICBvd25lcjogJ0JpZyBXYWxsZXQgR3V5JyxcbiAgICogICB2YWx1ZTogJzQxMjQxMjQwMDAwMCcsXG4gICAqICAgaXNfbG9ja2VkOiBmYWxzZSxcbiAgICogfSk7XG4gICAqXG4gICAqIGNvbnNvbGUuYXNzZXJ0KEFycmF5LmZyb20odGVzdF9zZXQudG9CeXRlcygpKSA9PT0gcnVzdF9iY3Nfc3RyLCAnV2hvb3BzaWUsIHJlc3VsdCBtaXNtYXRjaCcpO1xuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSB0eXBlIHRvIHJlZ2lzdGVyLlxuICAgKiBAcGFyYW0gZmllbGRzIEZpZWxkcyBvZiB0aGUgc3RydWN0LiBNdXN0IGJlIGluIHRoZSBjb3JyZWN0IG9yZGVyLlxuICAgKiBAcmV0dXJuIFJldHVybnMgQkNTIGZvciBjaGFpbmluZy5cbiAgICovXG4gIHJlZ2lzdGVyU3RydWN0VHlwZSh0eXBlTmFtZSwgZmllbGRzKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGZpZWxkcykge1xuICAgICAgbGV0IGludGVybmFsTmFtZSA9IHRoaXMudGVtcEtleSgpO1xuICAgICAgbGV0IHZhbHVlID0gZmllbGRzW2tleV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBmaWVsZHNba2V5XSA9IGludGVybmFsTmFtZTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclN0cnVjdFR5cGUoaW50ZXJuYWxOYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzdHJ1Y3QgPSBPYmplY3QuZnJlZXplKGZpZWxkcyk7XG4gICAgbGV0IGNhbm9uaWNhbE9yZGVyID0gT2JqZWN0LmtleXMoc3RydWN0KTtcbiAgICBsZXQgeyBuYW1lOiBzdHJ1Y3ROYW1lLCBwYXJhbXM6IGdlbmVyaWNzIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZU5hbWUpO1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyVHlwZShcbiAgICAgIHR5cGVOYW1lLFxuICAgICAgZnVuY3Rpb24gZW5jb2RlU3RydWN0KHdyaXRlciwgZGF0YSwgdHlwZVBhcmFtcywgdHlwZU1hcCkge1xuICAgICAgICBpZiAoIWRhdGEgfHwgZGF0YS5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCAke3N0cnVjdE5hbWV9IHRvIGJlIGFuIE9iamVjdCwgZ290OiAke2RhdGF9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVQYXJhbXMubGVuZ3RoICE9PSBnZW5lcmljcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgSW5jb3JyZWN0IG51bWJlciBvZiBnZW5lcmljIHBhcmFtZXRlcnMgcGFzc2VkOyBleHBlY3RlZDogJHtnZW5lcmljcy5sZW5ndGh9LCBnb3Q6ICR7dHlwZVBhcmFtcy5sZW5ndGh9YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIGNhbm9uaWNhbE9yZGVyKSB7XG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cnVjdCAke3N0cnVjdE5hbWV9IHJlcXVpcmVzIGZpZWxkICR7a2V5fToke3N0cnVjdFtrZXldfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IG5hbWU6IGZpZWxkVHlwZSwgcGFyYW1zOiBmaWVsZFBhcmFtcyB9ID0gdGhpcy5wYXJzZVR5cGVOYW1lKFxuICAgICAgICAgICAgc3RydWN0W2tleV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghZ2VuZXJpY3MuaW5jbHVkZXMoZmllbGRUeXBlKSkge1xuICAgICAgICAgICAgdGhpcy5nZXRUeXBlSW50ZXJmYWNlKGZpZWxkVHlwZSkuX2VuY29kZVJhdy5jYWxsKFxuICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICB3cml0ZXIsXG4gICAgICAgICAgICAgIGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgZmllbGRQYXJhbXMsXG4gICAgICAgICAgICAgIHR5cGVNYXBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtSWR4ID0gZ2VuZXJpY3MuaW5kZXhPZihmaWVsZFR5cGUpO1xuICAgICAgICAgICAgbGV0IHsgbmFtZSwgcGFyYW1zIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZVBhcmFtc1twYXJhbUlkeF0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVHlwZShuYW1lKSkge1xuICAgICAgICAgICAgICB0aGlzLmdldFR5cGVJbnRlcmZhY2UobmFtZSkuX2VuY29kZVJhdy5jYWxsKFxuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgd3JpdGVyLFxuICAgICAgICAgICAgICAgIGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgdHlwZU1hcFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gdHlwZU1hcCkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBVbmFibGUgdG8gZmluZCBhIG1hdGNoaW5nIHR5cGUgZGVmaW5pdGlvbiBmb3IgJHtuYW1lfSBpbiAke3N0cnVjdE5hbWV9OyBtYWtlIHN1cmUgeW91IHBhc3NlZCBhIGdlbmVyaWNgXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeyBuYW1lOiBpbm5lck5hbWUsIHBhcmFtczogaW5uZXJQYXJhbXMgfSA9IHRoaXMucGFyc2VUeXBlTmFtZSh0eXBlTWFwW25hbWVdKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VHlwZUludGVyZmFjZShpbm5lck5hbWUpLl9lbmNvZGVSYXcuY2FsbChcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgd3JpdGVyLFxuICAgICAgICAgICAgICBkYXRhW2tleV0sXG4gICAgICAgICAgICAgIGlubmVyUGFyYW1zLFxuICAgICAgICAgICAgICB0eXBlTWFwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIGRlY29kZVN0cnVjdChyZWFkZXIsIHR5cGVQYXJhbXMsIHR5cGVNYXApIHtcbiAgICAgICAgaWYgKHR5cGVQYXJhbXMubGVuZ3RoICE9PSBnZW5lcmljcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgSW5jb3JyZWN0IG51bWJlciBvZiBnZW5lcmljIHBhcmFtZXRlcnMgcGFzc2VkOyBleHBlY3RlZDogJHtnZW5lcmljcy5sZW5ndGh9LCBnb3Q6ICR7dHlwZVBhcmFtcy5sZW5ndGh9YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgY2Fub25pY2FsT3JkZXIpIHtcbiAgICAgICAgICBjb25zdCB7IG5hbWU6IGZpZWxkTmFtZSwgcGFyYW1zOiBmaWVsZFBhcmFtcyB9ID0gdGhpcy5wYXJzZVR5cGVOYW1lKFxuICAgICAgICAgICAgc3RydWN0W2tleV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghZ2VuZXJpY3MuaW5jbHVkZXMoZmllbGROYW1lKSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0aGlzLmdldFR5cGVJbnRlcmZhY2UoZmllbGROYW1lKS5fZGVjb2RlUmF3LmNhbGwoXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgICAgZmllbGRQYXJhbXMsXG4gICAgICAgICAgICAgIHR5cGVNYXBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtSWR4ID0gZ2VuZXJpY3MuaW5kZXhPZihmaWVsZE5hbWUpO1xuICAgICAgICAgICAgbGV0IHsgbmFtZSwgcGFyYW1zIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZVBhcmFtc1twYXJhbUlkeF0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVHlwZShuYW1lKSkge1xuICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHRoaXMuZ2V0VHlwZUludGVyZmFjZShuYW1lKS5fZGVjb2RlUmF3LmNhbGwoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHR5cGVNYXBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShuYW1lIGluIHR5cGVNYXApKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgVW5hYmxlIHRvIGZpbmQgYSBtYXRjaGluZyB0eXBlIGRlZmluaXRpb24gZm9yICR7bmFtZX0gaW4gJHtzdHJ1Y3ROYW1lfTsgbWFrZSBzdXJlIHlvdSBwYXNzZWQgYSBnZW5lcmljYFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHsgbmFtZTogaW5uZXJOYW1lLCBwYXJhbXM6IGlubmVyUGFyYW1zIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZU1hcFtuYW1lXSk7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHRoaXMuZ2V0VHlwZUludGVyZmFjZShpbm5lck5hbWUpLl9kZWNvZGVSYXcuY2FsbChcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgICBpbm5lclBhcmFtcyxcbiAgICAgICAgICAgICAgdHlwZU1hcFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTYWZlIG1ldGhvZCB0byByZWdpc3RlciBjdXN0b20gZW51bSB0eXBlIHdoZXJlIGVhY2ggaW52YXJpYW50IGhvbGRzIHRoZSB2YWx1ZSBvZiBhbm90aGVyIHR5cGUuXG4gICAqIEBleGFtcGxlXG4gICAqIGJjcy5yZWdpc3RlclN0cnVjdFR5cGUoJ0NvaW4nLCB7IHZhbHVlOiAndTY0JyB9KTtcbiAgICogYmNzLnJlZ2lzdGVyRW51bVR5cGUoJ015RW51bScsIHtcbiAgICogIHNpbmdsZTogJ0NvaW4nLFxuICAgKiAgbXVsdGk6ICd2ZWN0b3I8Q29pbj4nLFxuICAgKiAgZW1wdHk6IG51bGxcbiAgICogfSk7XG4gICAqXG4gICAqIGNvbnNvbGUubG9nKFxuICAgKiAgYmNzLmRlKCdNeUVudW0nLCAnQUlDV21BQUFBQUFBJywgJ2Jhc2U2NCcpLCAvLyB7IHNpbmdsZTogeyB2YWx1ZTogMTAwMDAwMDAgfSB9XG4gICAqICBiY3MuZGUoJ015RW51bScsICdBUUlCQUFBQUFBQUFBQUlBQUFBQUFBQUEnLCAnYmFzZTY0JykgIC8vIHsgbXVsdGk6IFsgeyB2YWx1ZTogMSB9LCB7IHZhbHVlOiAyIH0gXSB9XG4gICAqIClcbiAgICpcbiAgICogLy8gYW5kIHNlcmlhbGl6YXRpb25cbiAgICogYmNzLnNlcignTXlFbnVtJywgeyBzaW5nbGU6IHsgdmFsdWU6IDEwMDAwMDAwIH0gfSkudG9CeXRlcygpO1xuICAgKiBiY3Muc2VyKCdNeUVudW0nLCB7IG11bHRpOiBbIHsgdmFsdWU6IDEgfSwgeyB2YWx1ZTogMiB9IF0gfSk7XG4gICAqXG4gICAqIEBwYXJhbSBuYW1lXG4gICAqIEBwYXJhbSB2YXJpYW50c1xuICAgKi9cbiAgcmVnaXN0ZXJFbnVtVHlwZSh0eXBlTmFtZSwgdmFyaWFudHMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gdmFyaWFudHMpIHtcbiAgICAgIGxldCBpbnRlcm5hbE5hbWUgPSB0aGlzLnRlbXBLZXkoKTtcbiAgICAgIGxldCB2YWx1ZSA9IHZhcmlhbnRzW2tleV07XG4gICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXJpYW50c1trZXldID0gaW50ZXJuYWxOYW1lO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyU3RydWN0VHlwZShpbnRlcm5hbE5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0cnVjdCA9IE9iamVjdC5mcmVlemUodmFyaWFudHMpO1xuICAgIGxldCBjYW5vbmljYWxPcmRlciA9IE9iamVjdC5rZXlzKHN0cnVjdCk7XG4gICAgbGV0IHsgbmFtZSwgcGFyYW1zOiBjYW5vbmljYWxUeXBlUGFyYW1zIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZU5hbWUpO1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyVHlwZShcbiAgICAgIHR5cGVOYW1lLFxuICAgICAgZnVuY3Rpb24gZW5jb2RlRW51bSh3cml0ZXIsIGRhdGEsIHR5cGVQYXJhbXMsIHR5cGVNYXApIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gd3JpdGUgZW51bSBcIiR7bmFtZX1cIiwgbWlzc2luZyBkYXRhLlxuUmVjZWl2ZWQ6IFwiJHtkYXRhfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEluY29ycmVjdCBkYXRhIHBhc3NlZCBpbnRvIGVudW0gXCIke25hbWV9XCIsIGV4cGVjdGVkIG9iamVjdCB3aXRoIHByb3BlcnRpZXM6IFwiJHtjYW5vbmljYWxPcmRlci5qb2luKFxuICAgICAgICAgICAgICBcIiB8IFwiXG4gICAgICAgICAgICApfVwiLlxuUmVjZWl2ZWQ6IFwiJHtKU09OLnN0cmluZ2lmeShkYXRhKX1cImBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBrZXkgPSBPYmplY3Qua2V5cyhkYXRhKVswXTtcbiAgICAgICAgaWYgKGtleSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbXB0eSBvYmplY3QgcGFzc2VkIGFzIGludmFyaWFudCBvZiB0aGUgZW51bSBcIiR7bmFtZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcmRlckJ5dGUgPSBjYW5vbmljYWxPcmRlci5pbmRleE9mKGtleSk7XG4gICAgICAgIGlmIChvcmRlckJ5dGUgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFVua25vd24gaW52YXJpYW50IG9mIHRoZSBlbnVtIFwiJHtuYW1lfVwiLCBhbGxvd2VkIHZhbHVlczogXCIke2Nhbm9uaWNhbE9yZGVyLmpvaW4oXG4gICAgICAgICAgICAgIFwiIHwgXCJcbiAgICAgICAgICAgICl9XCI7IHJlY2VpdmVkIFwiJHtrZXl9XCJgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW52YXJpYW50ID0gY2Fub25pY2FsT3JkZXJbb3JkZXJCeXRlXTtcbiAgICAgICAgbGV0IGludmFyaWFudFR5cGUgPSBzdHJ1Y3RbaW52YXJpYW50XTtcbiAgICAgICAgd3JpdGVyLndyaXRlOChvcmRlckJ5dGUpO1xuICAgICAgICBpZiAoaW52YXJpYW50VHlwZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmFtSW5kZXggPSBjYW5vbmljYWxUeXBlUGFyYW1zLmluZGV4T2YoaW52YXJpYW50VHlwZSk7XG4gICAgICAgIGxldCB0eXBlT3JQYXJhbSA9IHBhcmFtSW5kZXggPT09IC0xID8gaW52YXJpYW50VHlwZSA6IHR5cGVQYXJhbXNbcGFyYW1JbmRleF07XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeyBuYW1lOiBuYW1lMiwgcGFyYW1zIH0gPSB0aGlzLnBhcnNlVHlwZU5hbWUodHlwZU9yUGFyYW0pO1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVJbnRlcmZhY2UobmFtZTIpLl9lbmNvZGVSYXcuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICB3cml0ZXIsXG4gICAgICAgICAgICBkYXRhW2tleV0sXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICB0eXBlTWFwXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIGRlY29kZUVudW0ocmVhZGVyLCB0eXBlUGFyYW1zLCB0eXBlTWFwKSB7XG4gICAgICAgIGxldCBvcmRlckJ5dGUgPSByZWFkZXIucmVhZFVMRUIoKTtcbiAgICAgICAgbGV0IGludmFyaWFudCA9IGNhbm9uaWNhbE9yZGVyW29yZGVyQnl0ZV07XG4gICAgICAgIGxldCBpbnZhcmlhbnRUeXBlID0gc3RydWN0W2ludmFyaWFudF07XG4gICAgICAgIGlmIChvcmRlckJ5dGUgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYERlY29kaW5nIHR5cGUgbWlzbWF0Y2gsIGV4cGVjdGVkIGVudW0gXCIke25hbWV9XCIgaW52YXJpYW50IGluZGV4LCByZWNlaXZlZCBcIiR7b3JkZXJCeXRlfVwiYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludmFyaWFudFR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4geyBbaW52YXJpYW50XTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJhbUluZGV4ID0gY2Fub25pY2FsVHlwZVBhcmFtcy5pbmRleE9mKGludmFyaWFudFR5cGUpO1xuICAgICAgICBsZXQgdHlwZU9yUGFyYW0gPSBwYXJhbUluZGV4ID09PSAtMSA/IGludmFyaWFudFR5cGUgOiB0eXBlUGFyYW1zW3BhcmFtSW5kZXhdO1xuICAgICAgICB7XG4gICAgICAgICAgbGV0IHsgbmFtZTogbmFtZTIsIHBhcmFtcyB9ID0gdGhpcy5wYXJzZVR5cGVOYW1lKHR5cGVPclBhcmFtKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2ludmFyaWFudF06IHRoaXMuZ2V0VHlwZUludGVyZmFjZShuYW1lMikuX2RlY29kZVJhdy5jYWxsKHRoaXMsIHJlYWRlciwgcGFyYW1zLCB0eXBlTWFwKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzZXQgb2YgZW5jb2RlcnMvZGVjb2RlcnMgZm9yIHNwZWNpZmljIHR5cGUuXG4gICAqIE1haW5seSB1c2VkIHRvIGRlZmluZSBjdXN0b20gdHlwZSBkZS9zZXJpYWxpemF0aW9uIGxvZ2ljLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcmV0dXJucyB7VHlwZUludGVyZmFjZX1cbiAgICovXG4gIGdldFR5cGVJbnRlcmZhY2UodHlwZSkge1xuICAgIGxldCB0eXBlSW50ZXJmYWNlID0gdGhpcy50eXBlcy5nZXQodHlwZSk7XG4gICAgaWYgKHR5cGVvZiB0eXBlSW50ZXJmYWNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBsZXQgY2hhaW4gPSBbXTtcbiAgICAgIHdoaWxlICh0eXBlb2YgdHlwZUludGVyZmFjZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoY2hhaW4uaW5jbHVkZXModHlwZUludGVyZmFjZSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY3Vyc2l2ZSBkZWZpbml0aW9uIGZvdW5kOiAke2NoYWluLmpvaW4oXCIgLT4gXCIpfSAtPiAke3R5cGVJbnRlcmZhY2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhaW4ucHVzaCh0eXBlSW50ZXJmYWNlKTtcbiAgICAgICAgdHlwZUludGVyZmFjZSA9IHRoaXMudHlwZXMuZ2V0KHR5cGVJbnRlcmZhY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZUludGVyZmFjZSA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFR5cGUgJHt0eXBlfSBpcyBub3QgcmVnaXN0ZXJlZGApO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZUludGVyZmFjZTtcbiAgfVxuICAvKipcbiAgICogUGFyc2UgYSB0eXBlIG5hbWUgYW5kIGdldCB0aGUgdHlwZSdzIGdlbmVyaWNzLlxuICAgKiBAZXhhbXBsZVxuICAgKiBsZXQgeyB0eXBlTmFtZSwgdHlwZVBhcmFtcyB9ID0gcGFyc2VUeXBlTmFtZSgnT3B0aW9uPENvaW48U1VJPj4nKTtcbiAgICogLy8gdHlwZU5hbWU6IE9wdGlvblxuICAgKiAvLyB0eXBlUGFyYW1zOiBbICdDb2luPFNVST4nIF1cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgdHlwZSB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIE9iamVjdCB3aXRoIHR5cGVOYW1lIGFuZCB0eXBlUGFyYW1zIGxpc3RlZCBhcyBBcnJheVxuICAgKi9cbiAgcGFyc2VUeXBlTmFtZShuYW1lKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgIGxldCBbdHlwZU5hbWUyLCAuLi5wYXJhbXMyXSA9IG5hbWU7XG4gICAgICByZXR1cm4geyBuYW1lOiB0eXBlTmFtZTIsIHBhcmFtczogcGFyYW1zMiB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSWxsZWdhbCB0eXBlIHBhc3NlZCBhcyBhIG5hbWUgb2YgdGhlIHR5cGU6ICR7bmFtZX1gKTtcbiAgICB9XG4gICAgbGV0IFtsZWZ0LCByaWdodF0gPSB0aGlzLnNjaGVtYS5nZW5lcmljU2VwYXJhdG9ycyB8fCBbXCI8XCIsIFwiPlwiXTtcbiAgICBsZXQgbF9ib3VuZCA9IG5hbWUuaW5kZXhPZihsZWZ0KTtcbiAgICBsZXQgcl9ib3VuZCA9IEFycmF5LmZyb20obmFtZSkucmV2ZXJzZSgpLmluZGV4T2YocmlnaHQpO1xuICAgIGlmIChsX2JvdW5kID09PSAtMSAmJiByX2JvdW5kID09PSAtMSkge1xuICAgICAgcmV0dXJuIHsgbmFtZSwgcGFyYW1zOiBbXSB9O1xuICAgIH1cbiAgICBpZiAobF9ib3VuZCA9PT0gLTEgfHwgcl9ib3VuZCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5jbG9zZWQgZ2VuZXJpYyBpbiBuYW1lICcke25hbWV9J2ApO1xuICAgIH1cbiAgICBsZXQgdHlwZU5hbWUgPSBuYW1lLnNsaWNlKDAsIGxfYm91bmQpO1xuICAgIGxldCBwYXJhbXMgPSBzcGxpdEdlbmVyaWNQYXJhbWV0ZXJzKFxuICAgICAgbmFtZS5zbGljZShsX2JvdW5kICsgMSwgbmFtZS5sZW5ndGggLSByX2JvdW5kIC0gMSksXG4gICAgICB0aGlzLnNjaGVtYS5nZW5lcmljU2VwYXJhdG9yc1xuICAgICk7XG4gICAgcmV0dXJuIHsgbmFtZTogdHlwZU5hbWUsIHBhcmFtcyB9O1xuICB9XG59O1xuLy8gUHJlZGVmaW5lZCB0eXBlcyBjb25zdGFudHNcbl9CQ1MuVTggPSBcInU4XCI7XG5fQkNTLlUxNiA9IFwidTE2XCI7XG5fQkNTLlUzMiA9IFwidTMyXCI7XG5fQkNTLlU2NCA9IFwidTY0XCI7XG5fQkNTLlUxMjggPSBcInUxMjhcIjtcbl9CQ1MuVTI1NiA9IFwidTI1NlwiO1xuX0JDUy5CT09MID0gXCJib29sXCI7XG5fQkNTLlZFQ1RPUiA9IFwidmVjdG9yXCI7XG5fQkNTLkFERFJFU1MgPSBcImFkZHJlc3NcIjtcbl9CQ1MuU1RSSU5HID0gXCJzdHJpbmdcIjtcbl9CQ1MuSEVYID0gXCJoZXgtc3RyaW5nXCI7XG5fQkNTLkJBU0U1OCA9IFwiYmFzZTU4LXN0cmluZ1wiO1xuX0JDUy5CQVNFNjQgPSBcImJhc2U2NC1zdHJpbmdcIjtcbnZhciBCQ1MgPSBfQkNTO1xuZnVuY3Rpb24gcmVnaXN0ZXJQcmltaXRpdmVzKGJjczIpIHtcbiAgYmNzMi5yZWdpc3RlclR5cGUoXG4gICAgQkNTLlU4LFxuICAgIGZ1bmN0aW9uKHdyaXRlciwgZGF0YSkge1xuICAgICAgcmV0dXJuIHdyaXRlci53cml0ZTgoZGF0YSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIHJldHVybiByZWFkZXIucmVhZDgoKTtcbiAgICB9LFxuICAgICh1OCkgPT4gdTggPCAyNTZcbiAgKTtcbiAgYmNzMi5yZWdpc3RlclR5cGUoXG4gICAgQkNTLlUxNixcbiAgICBmdW5jdGlvbih3cml0ZXIsIGRhdGEpIHtcbiAgICAgIHJldHVybiB3cml0ZXIud3JpdGUxNihkYXRhKTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYWRlcikge1xuICAgICAgcmV0dXJuIHJlYWRlci5yZWFkMTYoKTtcbiAgICB9LFxuICAgICh1MTYpID0+IHUxNiA8IDY1NTM2XG4gICk7XG4gIGJjczIucmVnaXN0ZXJUeXBlKFxuICAgIEJDUy5VMzIsXG4gICAgZnVuY3Rpb24od3JpdGVyLCBkYXRhKSB7XG4gICAgICByZXR1cm4gd3JpdGVyLndyaXRlMzIoZGF0YSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIHJldHVybiByZWFkZXIucmVhZDMyKCk7XG4gICAgfSxcbiAgICAodTMyKSA9PiB1MzIgPD0gNDI5NDk2NzI5Nm5cbiAgKTtcbiAgYmNzMi5yZWdpc3RlclR5cGUoXG4gICAgQkNTLlU2NCxcbiAgICBmdW5jdGlvbih3cml0ZXIsIGRhdGEpIHtcbiAgICAgIHJldHVybiB3cml0ZXIud3JpdGU2NChkYXRhKTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYWRlcikge1xuICAgICAgcmV0dXJuIHJlYWRlci5yZWFkNjQoKTtcbiAgICB9XG4gICk7XG4gIGJjczIucmVnaXN0ZXJUeXBlKFxuICAgIEJDUy5VMTI4LFxuICAgIGZ1bmN0aW9uKHdyaXRlciwgZGF0YSkge1xuICAgICAgcmV0dXJuIHdyaXRlci53cml0ZTEyOChkYXRhKTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYWRlcikge1xuICAgICAgcmV0dXJuIHJlYWRlci5yZWFkMTI4KCk7XG4gICAgfVxuICApO1xuICBiY3MyLnJlZ2lzdGVyVHlwZShcbiAgICBCQ1MuVTI1NixcbiAgICBmdW5jdGlvbih3cml0ZXIsIGRhdGEpIHtcbiAgICAgIHJldHVybiB3cml0ZXIud3JpdGUyNTYoZGF0YSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIHJldHVybiByZWFkZXIucmVhZDI1NigpO1xuICAgIH1cbiAgKTtcbiAgYmNzMi5yZWdpc3RlclR5cGUoXG4gICAgQkNTLkJPT0wsXG4gICAgZnVuY3Rpb24od3JpdGVyLCBkYXRhKSB7XG4gICAgICByZXR1cm4gd3JpdGVyLndyaXRlOChkYXRhKTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYWRlcikge1xuICAgICAgcmV0dXJuIHJlYWRlci5yZWFkOCgpLnRvU3RyaW5nKDEwKSA9PT0gXCIxXCI7XG4gICAgfVxuICApO1xuICBiY3MyLnJlZ2lzdGVyVHlwZShcbiAgICBCQ1MuU1RSSU5HLFxuICAgIGZ1bmN0aW9uKHdyaXRlciwgZGF0YSkge1xuICAgICAgcmV0dXJuIHdyaXRlci53cml0ZVZlYyhBcnJheS5mcm9tKGRhdGEpLCAod3JpdGVyMiwgZWwpID0+IHdyaXRlcjIud3JpdGU4KGVsLmNoYXJDb2RlQXQoMCkpKTtcbiAgICB9LFxuICAgIGZ1bmN0aW9uKHJlYWRlcikge1xuICAgICAgcmV0dXJuIHJlYWRlci5yZWFkVmVjKChyZWFkZXIyKSA9PiByZWFkZXIyLnJlYWQ4KCkpLm1hcCgoZWwpID0+IFN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKGVsKSkpLmpvaW4oXCJcIik7XG4gICAgfSxcbiAgICAoX3N0cikgPT4gdHJ1ZVxuICApO1xuICBiY3MyLnJlZ2lzdGVyVHlwZShcbiAgICBCQ1MuSEVYLFxuICAgIGZ1bmN0aW9uKHdyaXRlciwgZGF0YSkge1xuICAgICAgcmV0dXJuIHdyaXRlci53cml0ZVZlYyhBcnJheS5mcm9tKGZyb21IRVgoZGF0YSkpLCAod3JpdGVyMiwgZWwpID0+IHdyaXRlcjIud3JpdGU4KGVsKSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIGxldCBieXRlcyA9IHJlYWRlci5yZWFkVmVjKChyZWFkZXIyKSA9PiByZWFkZXIyLnJlYWQ4KCkpO1xuICAgICAgcmV0dXJuIHRvSEVYKG5ldyBVaW50OEFycmF5KGJ5dGVzKSk7XG4gICAgfVxuICApO1xuICBiY3MyLnJlZ2lzdGVyVHlwZShcbiAgICBCQ1MuQkFTRTU4LFxuICAgIGZ1bmN0aW9uKHdyaXRlciwgZGF0YSkge1xuICAgICAgcmV0dXJuIHdyaXRlci53cml0ZVZlYyhBcnJheS5mcm9tKGZyb21CNTgoZGF0YSkpLCAod3JpdGVyMiwgZWwpID0+IHdyaXRlcjIud3JpdGU4KGVsKSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIGxldCBieXRlcyA9IHJlYWRlci5yZWFkVmVjKChyZWFkZXIyKSA9PiByZWFkZXIyLnJlYWQ4KCkpO1xuICAgICAgcmV0dXJuIHRvQjU4KG5ldyBVaW50OEFycmF5KGJ5dGVzKSk7XG4gICAgfVxuICApO1xuICBiY3MyLnJlZ2lzdGVyVHlwZShcbiAgICBCQ1MuQkFTRTY0LFxuICAgIGZ1bmN0aW9uKHdyaXRlciwgZGF0YSkge1xuICAgICAgcmV0dXJuIHdyaXRlci53cml0ZVZlYyhBcnJheS5mcm9tKGZyb21CNjQoZGF0YSkpLCAod3JpdGVyMiwgZWwpID0+IHdyaXRlcjIud3JpdGU4KGVsKSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFkZXIpIHtcbiAgICAgIGxldCBieXRlcyA9IHJlYWRlci5yZWFkVmVjKChyZWFkZXIyKSA9PiByZWFkZXIyLnJlYWQ4KCkpO1xuICAgICAgcmV0dXJuIHRvQjY0KG5ldyBVaW50OEFycmF5KGJ5dGVzKSk7XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gZ2V0UnVzdENvbmZpZygpIHtcbiAgcmV0dXJuIHtcbiAgICBnZW5lcmljU2VwYXJhdG9yczogW1wiPFwiLCBcIj5cIl0sXG4gICAgdmVjdG9yVHlwZTogXCJWZWNcIixcbiAgICBhZGRyZXNzTGVuZ3RoOiBTVUlfQUREUkVTU19MRU5HVEgsXG4gICAgYWRkcmVzc0VuY29kaW5nOiBcImhleFwiXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdWlNb3ZlQ29uZmlnKCkge1xuICByZXR1cm4ge1xuICAgIGdlbmVyaWNTZXBhcmF0b3JzOiBbXCI8XCIsIFwiPlwiXSxcbiAgICB2ZWN0b3JUeXBlOiBcInZlY3RvclwiLFxuICAgIGFkZHJlc3NMZW5ndGg6IFNVSV9BRERSRVNTX0xFTkdUSCxcbiAgICBhZGRyZXNzRW5jb2Rpbmc6IFwiaGV4XCJcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIEJDUyxcbiAgQmNzUmVhZGVyLFxuICBCY3NUeXBlLFxuICBCY3NXcml0ZXIsXG4gIFNlcmlhbGl6ZWRCY3MsXG4gIGJjcyxcbiAgZGVjb2RlU3RyLFxuICBlbmNvZGVTdHIsXG4gIGZyb21CNTgsXG4gIGZyb21CNjQsXG4gIGZyb21IRVgsXG4gIGdldFJ1c3RDb25maWcsXG4gIGdldFN1aU1vdmVDb25maWcsXG4gIGlzU2VyaWFsaXplZEJjcyxcbiAgcmVnaXN0ZXJQcmltaXRpdmVzLFxuICBzcGxpdEdlbmVyaWNQYXJhbWV0ZXJzLFxuICB0b0I1OCxcbiAgdG9CNjQsXG4gIHRvSEVYXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js":
/*!***************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeTagSerializer: () => (/* reexport safe */ _type_tag_serializer_js__WEBPACK_IMPORTED_MODULE_2__.TypeTagSerializer),\n/* harmony export */   bcs: () => (/* binding */ suiBcs),\n/* harmony export */   bcsRegistry: () => (/* binding */ bcsRegistry),\n/* harmony export */   isPureArg: () => (/* binding */ isPureArg)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _type_tag_serializer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type-tag-serializer.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/type-tag-serializer.js\");\n\n\n\n\nfunction isPureArg(arg) {\n  return arg.Pure !== void 0;\n}\nconst bcsRegistry = new _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.BCS({\n  ...(0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.getSuiMoveConfig)(),\n  types: {\n    enums: {\n      \"Option<T>\": {\n        None: null,\n        Some: \"T\"\n      }\n    }\n  }\n});\nfunction unsafe_u64(options) {\n  return _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64({\n    name: \"unsafe_u64\",\n    ...options\n  }).transform({\n    input: (val) => val,\n    output: (val) => Number(val)\n  });\n}\nfunction optionEnum(type) {\n  return _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"Option\", {\n    None: null,\n    Some: type\n  });\n}\nfunction enumKind(type) {\n  return type.transform({\n    input: (val) => ({\n      [val.kind]: val\n    }),\n    output: (val) => {\n      const key = Object.keys(val)[0];\n      return { kind: key, ...val[key] };\n    }\n  });\n}\nconst Address = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bytes(_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.SUI_ADDRESS_LENGTH).transform({\n  input: (val) => typeof val === \"string\" ? (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.fromHEX)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(val)) : val,\n  output: (val) => (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.toHEX)(val))\n});\nconst ObjectDigest = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()).transform({\n  name: \"ObjectDigest\",\n  input: (value) => (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.fromB58)(value),\n  output: (value) => (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.toB58)(new Uint8Array(value))\n});\nconst SuiObjectRef = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"SuiObjectRef\", {\n  objectId: Address,\n  version: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64(),\n  digest: ObjectDigest\n});\nconst SharedObjectRef = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"SharedObjectRef\", {\n  objectId: Address,\n  initialSharedVersion: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64(),\n  mutable: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bool()\n});\nconst ObjectArg = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"ObjectArg\", {\n  ImmOrOwned: SuiObjectRef,\n  Shared: SharedObjectRef,\n  Receiving: SuiObjectRef\n});\nconst CallArg = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"CallArg\", {\n  Pure: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  Object: ObjectArg,\n  ObjVec: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(ObjectArg)\n});\nconst TypeTag = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"TypeTag\", {\n  bool: null,\n  u8: null,\n  u64: null,\n  u128: null,\n  address: null,\n  signer: null,\n  vector: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.lazy(() => TypeTag),\n  struct: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.lazy(() => StructTag),\n  u16: null,\n  u32: null,\n  u256: null\n});\nconst Argument = enumKind(\n  _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"Argument\", {\n    GasCoin: null,\n    Input: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Input\", { index: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16() }),\n    Result: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Result\", { index: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16() }),\n    NestedResult: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"NestedResult\", { index: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16(), resultIndex: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16() })\n  })\n);\nconst ProgrammableMoveCall = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"ProgrammableMoveCall\", {\n  package: Address,\n  module: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n  function: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n  type_arguments: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(TypeTag),\n  arguments: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Argument)\n}).transform({\n  input: (data) => {\n    const [pkg, module, fun] = data.target.split(\"::\");\n    const type_arguments = data.typeArguments.map(\n      (tag) => _type_tag_serializer_js__WEBPACK_IMPORTED_MODULE_2__.TypeTagSerializer.parseFromStr(tag, true)\n    );\n    return {\n      package: (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(pkg),\n      module,\n      function: fun,\n      type_arguments,\n      arguments: data.arguments\n    };\n  },\n  output: (data) => {\n    return {\n      target: [data.package, data.module, data.function].join(\n        \"::\"\n      ),\n      arguments: data.arguments,\n      typeArguments: data.type_arguments.map(_type_tag_serializer_js__WEBPACK_IMPORTED_MODULE_2__.TypeTagSerializer.tagToString)\n    };\n  }\n});\nconst Transaction = enumKind(\n  _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"Transaction\", {\n    /**\n     * A Move Call - any public Move function can be called via\n     * this transaction. The results can be used that instant to pass\n     * into the next transaction.\n     */\n    MoveCall: ProgrammableMoveCall,\n    /**\n     * Transfer vector of objects to a receiver.\n     */\n    TransferObjects: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"TransferObjects\", {\n      objects: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Argument),\n      address: Argument\n    }),\n    /**\n     * Split `amount` from a `coin`.\n     */\n    SplitCoins: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"SplitCoins\", { coin: Argument, amounts: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Argument) }),\n    /**\n     * Merge Vector of Coins (`sources`) into a `destination`.\n     */\n    MergeCoins: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"MergeCoins\", { destination: Argument, sources: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Argument) }),\n    /**\n     * Publish a Move module.\n     */\n    Publish: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Publish\", {\n      modules: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())),\n      dependencies: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Address)\n    }),\n    /**\n     * Build a vector of objects using the input arguments.\n     * It is impossible to construct a `vector<T: key>` otherwise,\n     * so this call serves a utility function.\n     */\n    MakeMoveVec: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"MakeMoveVec\", {\n      type: optionEnum(TypeTag),\n      objects: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Argument)\n    }),\n    /**  */\n    Upgrade: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Upgrade\", {\n      modules: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())),\n      dependencies: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Address),\n      packageId: Address,\n      ticket: Argument\n    })\n  })\n);\nconst ProgrammableTransaction = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"ProgrammableTransaction\", {\n  inputs: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(CallArg),\n  transactions: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(Transaction)\n});\nconst TransactionKind = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"TransactionKind\", {\n  ProgrammableTransaction,\n  ChangeEpoch: null,\n  Genesis: null,\n  ConsensusCommitPrologue: null\n});\nconst TransactionExpiration = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"TransactionExpiration\", {\n  None: null,\n  Epoch: unsafe_u64()\n});\nconst StructTag = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"StructTag\", {\n  address: Address,\n  module: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n  name: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n  typeParams: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(TypeTag)\n});\nconst GasData = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"GasData\", {\n  payment: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(SuiObjectRef),\n  owner: Address,\n  price: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64(),\n  budget: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64()\n});\nconst TransactionDataV1 = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"TransactionDataV1\", {\n  kind: TransactionKind,\n  sender: Address,\n  gasData: GasData,\n  expiration: TransactionExpiration\n});\nconst TransactionData = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"TransactionData\", {\n  V1: TransactionDataV1\n});\nconst SenderSignedData = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"SenderSignedData\", {\n  data: TransactionData,\n  txSignatures: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()))\n});\nconst CompressedSignature = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"CompressedSignature\", {\n  ED25519: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.fixedArray(64, _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  Secp256k1: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.fixedArray(64, _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  Secp256r1: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.fixedArray(64, _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  ZkLogin: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())\n});\nconst PublicKey = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"PublicKey\", {\n  ED25519: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.fixedArray(32, _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  Secp256k1: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.fixedArray(33, _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  Secp256r1: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.fixedArray(33, _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n  ZkLogin: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())\n});\nconst MultiSigPkMap = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"MultiSigPkMap\", {\n  pubKey: PublicKey,\n  weight: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()\n});\nconst MultiSigPublicKey = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"MultiSigPublicKey\", {\n  pk_map: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(MultiSigPkMap),\n  threshold: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16()\n});\nconst MultiSig = _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"MultiSig\", {\n  sigs: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(CompressedSignature),\n  bitmap: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16(),\n  multisig_pk: MultiSigPublicKey\n});\nconst suiBcs = {\n  ..._mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs,\n  U8: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8(),\n  U16: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u16(),\n  U32: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u32(),\n  U64: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64(),\n  U128: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u128(),\n  U256: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u256(),\n  ULEB128: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.uleb128(),\n  Bool: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bool(),\n  String: _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n  Address,\n  Argument,\n  CallArg,\n  CompressedSignature,\n  GasData,\n  MultiSig,\n  MultiSigPkMap,\n  MultiSigPublicKey,\n  ObjectArg,\n  ObjectDigest,\n  ProgrammableMoveCall,\n  ProgrammableTransaction,\n  PublicKey,\n  SenderSignedData,\n  SharedObjectRef,\n  StructTag,\n  SuiObjectRef,\n  Transaction,\n  TransactionData,\n  TransactionDataV1,\n  TransactionExpiration,\n  TransactionKind,\n  TypeTag,\n  // preserve backwards compatibility with old bcs export\n  ser: bcsRegistry.ser.bind(bcsRegistry),\n  de: bcsRegistry.de.bind(bcsRegistry),\n  getTypeInterface: bcsRegistry.getTypeInterface.bind(bcsRegistry),\n  hasType: bcsRegistry.hasType.bind(bcsRegistry),\n  parseTypeName: bcsRegistry.parseTypeName.bind(bcsRegistry),\n  registerAddressType: bcsRegistry.registerAddressType.bind(bcsRegistry),\n  registerAlias: bcsRegistry.registerAlias.bind(bcsRegistry),\n  registerBcsType: bcsRegistry.registerBcsType.bind(bcsRegistry),\n  registerEnumType: bcsRegistry.registerEnumType.bind(bcsRegistry),\n  registerStructType: bcsRegistry.registerStructType.bind(bcsRegistry),\n  registerType: bcsRegistry.registerType.bind(bcsRegistry),\n  types: bcsRegistry.types\n};\nbcsRegistry.registerBcsType(\"utf8string\", () => _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string({ name: \"utf8string\" }));\nbcsRegistry.registerBcsType(\"unsafe_u64\", () => unsafe_u64());\nbcsRegistry.registerBcsType(\"enumKind\", (T) => enumKind(T));\n[\n  Address,\n  Argument,\n  CallArg,\n  CompressedSignature,\n  GasData,\n  MultiSig,\n  MultiSigPkMap,\n  MultiSigPublicKey,\n  ObjectArg,\n  ObjectDigest,\n  ProgrammableMoveCall,\n  ProgrammableTransaction,\n  PublicKey,\n  SenderSignedData,\n  SharedObjectRef,\n  StructTag,\n  SuiObjectRef,\n  Transaction,\n  TransactionData,\n  TransactionDataV1,\n  TransactionExpiration,\n  TransactionKind,\n  TypeTag\n].forEach((type) => {\n  bcsRegistry.registerBcsType(type.name, () => type);\n});\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2Jjcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBUXFCO0FBQzJEO0FBQ25CO0FBQ3NCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0Q0FBVztBQUNuQyxLQUFLLDZEQUFnQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsU0FBUyw0Q0FBRztBQUNaO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsU0FBUyw0Q0FBRztBQUNaO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZ0JBQWdCLDRDQUFHLE9BQU8sbUVBQWtCO0FBQzVDLDRDQUE0QyxvREFBTyxDQUFDLHdFQUFtQjtBQUN2RSxtQkFBbUIsd0VBQW1CLENBQUMsa0RBQUs7QUFDNUMsQ0FBQztBQUNELHFCQUFxQiw0Q0FBRyxRQUFRLDRDQUFHO0FBQ25DO0FBQ0Esb0JBQW9CLG9EQUFPO0FBQzNCLHFCQUFxQixrREFBSztBQUMxQixDQUFDO0FBQ0QscUJBQXFCLDRDQUFHO0FBQ3hCO0FBQ0EsV0FBVyw0Q0FBRztBQUNkO0FBQ0EsQ0FBQztBQUNELHdCQUF3Qiw0Q0FBRztBQUMzQjtBQUNBLHdCQUF3Qiw0Q0FBRztBQUMzQixXQUFXLDRDQUFHO0FBQ2QsQ0FBQztBQUNELGtCQUFrQiw0Q0FBRztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZ0JBQWdCLDRDQUFHO0FBQ25CLFFBQVEsNENBQUcsUUFBUSw0Q0FBRztBQUN0QjtBQUNBLFVBQVUsNENBQUc7QUFDYixDQUFDO0FBQ0QsZ0JBQWdCLDRDQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LHNCQUFzQiw0Q0FBRztBQUN6QjtBQUNBLFVBQVUsNENBQUc7QUFDYixDQUFDO0FBQ0QsMEJBQTBCLDRDQUFHO0FBQzdCLFVBQVUsNENBQUc7QUFDYixhQUFhLDRDQUFHO0FBQ2hCLENBQUM7QUFDRCxpQkFBaUIsNENBQUc7QUFDcEIsUUFBUSw0Q0FBRztBQUNYLFVBQVUsNENBQUc7QUFDYjtBQUNBLENBQUM7QUFDRDtBQUNBLEtBQUssNENBQUc7QUFDUixNQUFNLDRDQUFHO0FBQ1QsT0FBTyw0Q0FBRztBQUNWLE9BQU8sNENBQUc7QUFDVixPQUFPLDRDQUFHO0FBQ1YsUUFBUSw0Q0FBRztBQUNYLFFBQVEsNENBQUc7QUFDWCxXQUFXLDRDQUFHO0FBQ2QsUUFBUSw0Q0FBRztBQUNYLFVBQVUsNENBQUc7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw0Q0FBRyxVQUFVLG9CQUFvQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFNQztBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2Jjcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBiY3MsXG4gIEJDUyBhcyBCY3NSZWdpc3RyeSxcbiAgZnJvbUI1OCxcbiAgZnJvbUhFWCxcbiAgZ2V0U3VpTW92ZUNvbmZpZyxcbiAgdG9CNTgsXG4gIHRvSEVYXG59IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgbm9ybWFsaXplU3VpQWRkcmVzcywgU1VJX0FERFJFU1NfTEVOR1RIIH0gZnJvbSBcIi4uL3V0aWxzL3N1aS10eXBlcy5qc1wiO1xuaW1wb3J0IHsgVHlwZVRhZ1NlcmlhbGl6ZXIgfSBmcm9tIFwiLi90eXBlLXRhZy1zZXJpYWxpemVyLmpzXCI7XG5pbXBvcnQgeyBUeXBlVGFnU2VyaWFsaXplciBhcyBUeXBlVGFnU2VyaWFsaXplcjIgfSBmcm9tIFwiLi90eXBlLXRhZy1zZXJpYWxpemVyLmpzXCI7XG5mdW5jdGlvbiBpc1B1cmVBcmcoYXJnKSB7XG4gIHJldHVybiBhcmcuUHVyZSAhPT0gdm9pZCAwO1xufVxuY29uc3QgYmNzUmVnaXN0cnkgPSBuZXcgQmNzUmVnaXN0cnkoe1xuICAuLi5nZXRTdWlNb3ZlQ29uZmlnKCksXG4gIHR5cGVzOiB7XG4gICAgZW51bXM6IHtcbiAgICAgIFwiT3B0aW9uPFQ+XCI6IHtcbiAgICAgICAgTm9uZTogbnVsbCxcbiAgICAgICAgU29tZTogXCJUXCJcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuZnVuY3Rpb24gdW5zYWZlX3U2NChvcHRpb25zKSB7XG4gIHJldHVybiBiY3MudTY0KHtcbiAgICBuYW1lOiBcInVuc2FmZV91NjRcIixcbiAgICAuLi5vcHRpb25zXG4gIH0pLnRyYW5zZm9ybSh7XG4gICAgaW5wdXQ6ICh2YWwpID0+IHZhbCxcbiAgICBvdXRwdXQ6ICh2YWwpID0+IE51bWJlcih2YWwpXG4gIH0pO1xufVxuZnVuY3Rpb24gb3B0aW9uRW51bSh0eXBlKSB7XG4gIHJldHVybiBiY3MuZW51bShcIk9wdGlvblwiLCB7XG4gICAgTm9uZTogbnVsbCxcbiAgICBTb21lOiB0eXBlXG4gIH0pO1xufVxuZnVuY3Rpb24gZW51bUtpbmQodHlwZSkge1xuICByZXR1cm4gdHlwZS50cmFuc2Zvcm0oe1xuICAgIGlucHV0OiAodmFsKSA9PiAoe1xuICAgICAgW3ZhbC5raW5kXTogdmFsXG4gICAgfSksXG4gICAgb3V0cHV0OiAodmFsKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyh2YWwpWzBdO1xuICAgICAgcmV0dXJuIHsga2luZDoga2V5LCAuLi52YWxba2V5XSB9O1xuICAgIH1cbiAgfSk7XG59XG5jb25zdCBBZGRyZXNzID0gYmNzLmJ5dGVzKFNVSV9BRERSRVNTX0xFTkdUSCkudHJhbnNmb3JtKHtcbiAgaW5wdXQ6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBmcm9tSEVYKG5vcm1hbGl6ZVN1aUFkZHJlc3ModmFsKSkgOiB2YWwsXG4gIG91dHB1dDogKHZhbCkgPT4gbm9ybWFsaXplU3VpQWRkcmVzcyh0b0hFWCh2YWwpKVxufSk7XG5jb25zdCBPYmplY3REaWdlc3QgPSBiY3MudmVjdG9yKGJjcy51OCgpKS50cmFuc2Zvcm0oe1xuICBuYW1lOiBcIk9iamVjdERpZ2VzdFwiLFxuICBpbnB1dDogKHZhbHVlKSA9PiBmcm9tQjU4KHZhbHVlKSxcbiAgb3V0cHV0OiAodmFsdWUpID0+IHRvQjU4KG5ldyBVaW50OEFycmF5KHZhbHVlKSlcbn0pO1xuY29uc3QgU3VpT2JqZWN0UmVmID0gYmNzLnN0cnVjdChcIlN1aU9iamVjdFJlZlwiLCB7XG4gIG9iamVjdElkOiBBZGRyZXNzLFxuICB2ZXJzaW9uOiBiY3MudTY0KCksXG4gIGRpZ2VzdDogT2JqZWN0RGlnZXN0XG59KTtcbmNvbnN0IFNoYXJlZE9iamVjdFJlZiA9IGJjcy5zdHJ1Y3QoXCJTaGFyZWRPYmplY3RSZWZcIiwge1xuICBvYmplY3RJZDogQWRkcmVzcyxcbiAgaW5pdGlhbFNoYXJlZFZlcnNpb246IGJjcy51NjQoKSxcbiAgbXV0YWJsZTogYmNzLmJvb2woKVxufSk7XG5jb25zdCBPYmplY3RBcmcgPSBiY3MuZW51bShcIk9iamVjdEFyZ1wiLCB7XG4gIEltbU9yT3duZWQ6IFN1aU9iamVjdFJlZixcbiAgU2hhcmVkOiBTaGFyZWRPYmplY3RSZWYsXG4gIFJlY2VpdmluZzogU3VpT2JqZWN0UmVmXG59KTtcbmNvbnN0IENhbGxBcmcgPSBiY3MuZW51bShcIkNhbGxBcmdcIiwge1xuICBQdXJlOiBiY3MudmVjdG9yKGJjcy51OCgpKSxcbiAgT2JqZWN0OiBPYmplY3RBcmcsXG4gIE9ialZlYzogYmNzLnZlY3RvcihPYmplY3RBcmcpXG59KTtcbmNvbnN0IFR5cGVUYWcgPSBiY3MuZW51bShcIlR5cGVUYWdcIiwge1xuICBib29sOiBudWxsLFxuICB1ODogbnVsbCxcbiAgdTY0OiBudWxsLFxuICB1MTI4OiBudWxsLFxuICBhZGRyZXNzOiBudWxsLFxuICBzaWduZXI6IG51bGwsXG4gIHZlY3RvcjogYmNzLmxhenkoKCkgPT4gVHlwZVRhZyksXG4gIHN0cnVjdDogYmNzLmxhenkoKCkgPT4gU3RydWN0VGFnKSxcbiAgdTE2OiBudWxsLFxuICB1MzI6IG51bGwsXG4gIHUyNTY6IG51bGxcbn0pO1xuY29uc3QgQXJndW1lbnQgPSBlbnVtS2luZChcbiAgYmNzLmVudW0oXCJBcmd1bWVudFwiLCB7XG4gICAgR2FzQ29pbjogbnVsbCxcbiAgICBJbnB1dDogYmNzLnN0cnVjdChcIklucHV0XCIsIHsgaW5kZXg6IGJjcy51MTYoKSB9KSxcbiAgICBSZXN1bHQ6IGJjcy5zdHJ1Y3QoXCJSZXN1bHRcIiwgeyBpbmRleDogYmNzLnUxNigpIH0pLFxuICAgIE5lc3RlZFJlc3VsdDogYmNzLnN0cnVjdChcIk5lc3RlZFJlc3VsdFwiLCB7IGluZGV4OiBiY3MudTE2KCksIHJlc3VsdEluZGV4OiBiY3MudTE2KCkgfSlcbiAgfSlcbik7XG5jb25zdCBQcm9ncmFtbWFibGVNb3ZlQ2FsbCA9IGJjcy5zdHJ1Y3QoXCJQcm9ncmFtbWFibGVNb3ZlQ2FsbFwiLCB7XG4gIHBhY2thZ2U6IEFkZHJlc3MsXG4gIG1vZHVsZTogYmNzLnN0cmluZygpLFxuICBmdW5jdGlvbjogYmNzLnN0cmluZygpLFxuICB0eXBlX2FyZ3VtZW50czogYmNzLnZlY3RvcihUeXBlVGFnKSxcbiAgYXJndW1lbnRzOiBiY3MudmVjdG9yKEFyZ3VtZW50KVxufSkudHJhbnNmb3JtKHtcbiAgaW5wdXQ6IChkYXRhKSA9PiB7XG4gICAgY29uc3QgW3BrZywgbW9kdWxlLCBmdW5dID0gZGF0YS50YXJnZXQuc3BsaXQoXCI6OlwiKTtcbiAgICBjb25zdCB0eXBlX2FyZ3VtZW50cyA9IGRhdGEudHlwZUFyZ3VtZW50cy5tYXAoXG4gICAgICAodGFnKSA9PiBUeXBlVGFnU2VyaWFsaXplci5wYXJzZUZyb21TdHIodGFnLCB0cnVlKVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhY2thZ2U6IG5vcm1hbGl6ZVN1aUFkZHJlc3MocGtnKSxcbiAgICAgIG1vZHVsZSxcbiAgICAgIGZ1bmN0aW9uOiBmdW4sXG4gICAgICB0eXBlX2FyZ3VtZW50cyxcbiAgICAgIGFyZ3VtZW50czogZGF0YS5hcmd1bWVudHNcbiAgICB9O1xuICB9LFxuICBvdXRwdXQ6IChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhcmdldDogW2RhdGEucGFja2FnZSwgZGF0YS5tb2R1bGUsIGRhdGEuZnVuY3Rpb25dLmpvaW4oXG4gICAgICAgIFwiOjpcIlxuICAgICAgKSxcbiAgICAgIGFyZ3VtZW50czogZGF0YS5hcmd1bWVudHMsXG4gICAgICB0eXBlQXJndW1lbnRzOiBkYXRhLnR5cGVfYXJndW1lbnRzLm1hcChUeXBlVGFnU2VyaWFsaXplci50YWdUb1N0cmluZylcbiAgICB9O1xuICB9XG59KTtcbmNvbnN0IFRyYW5zYWN0aW9uID0gZW51bUtpbmQoXG4gIGJjcy5lbnVtKFwiVHJhbnNhY3Rpb25cIiwge1xuICAgIC8qKlxuICAgICAqIEEgTW92ZSBDYWxsIC0gYW55IHB1YmxpYyBNb3ZlIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgdmlhXG4gICAgICogdGhpcyB0cmFuc2FjdGlvbi4gVGhlIHJlc3VsdHMgY2FuIGJlIHVzZWQgdGhhdCBpbnN0YW50IHRvIHBhc3NcbiAgICAgKiBpbnRvIHRoZSBuZXh0IHRyYW5zYWN0aW9uLlxuICAgICAqL1xuICAgIE1vdmVDYWxsOiBQcm9ncmFtbWFibGVNb3ZlQ2FsbCxcbiAgICAvKipcbiAgICAgKiBUcmFuc2ZlciB2ZWN0b3Igb2Ygb2JqZWN0cyB0byBhIHJlY2VpdmVyLlxuICAgICAqL1xuICAgIFRyYW5zZmVyT2JqZWN0czogYmNzLnN0cnVjdChcIlRyYW5zZmVyT2JqZWN0c1wiLCB7XG4gICAgICBvYmplY3RzOiBiY3MudmVjdG9yKEFyZ3VtZW50KSxcbiAgICAgIGFkZHJlc3M6IEFyZ3VtZW50XG4gICAgfSksXG4gICAgLyoqXG4gICAgICogU3BsaXQgYGFtb3VudGAgZnJvbSBhIGBjb2luYC5cbiAgICAgKi9cbiAgICBTcGxpdENvaW5zOiBiY3Muc3RydWN0KFwiU3BsaXRDb2luc1wiLCB7IGNvaW46IEFyZ3VtZW50LCBhbW91bnRzOiBiY3MudmVjdG9yKEFyZ3VtZW50KSB9KSxcbiAgICAvKipcbiAgICAgKiBNZXJnZSBWZWN0b3Igb2YgQ29pbnMgKGBzb3VyY2VzYCkgaW50byBhIGBkZXN0aW5hdGlvbmAuXG4gICAgICovXG4gICAgTWVyZ2VDb2luczogYmNzLnN0cnVjdChcIk1lcmdlQ29pbnNcIiwgeyBkZXN0aW5hdGlvbjogQXJndW1lbnQsIHNvdXJjZXM6IGJjcy52ZWN0b3IoQXJndW1lbnQpIH0pLFxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggYSBNb3ZlIG1vZHVsZS5cbiAgICAgKi9cbiAgICBQdWJsaXNoOiBiY3Muc3RydWN0KFwiUHVibGlzaFwiLCB7XG4gICAgICBtb2R1bGVzOiBiY3MudmVjdG9yKGJjcy52ZWN0b3IoYmNzLnU4KCkpKSxcbiAgICAgIGRlcGVuZGVuY2llczogYmNzLnZlY3RvcihBZGRyZXNzKVxuICAgIH0pLFxuICAgIC8qKlxuICAgICAqIEJ1aWxkIGEgdmVjdG9yIG9mIG9iamVjdHMgdXNpbmcgdGhlIGlucHV0IGFyZ3VtZW50cy5cbiAgICAgKiBJdCBpcyBpbXBvc3NpYmxlIHRvIGNvbnN0cnVjdCBhIGB2ZWN0b3I8VDoga2V5PmAgb3RoZXJ3aXNlLFxuICAgICAqIHNvIHRoaXMgY2FsbCBzZXJ2ZXMgYSB1dGlsaXR5IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIE1ha2VNb3ZlVmVjOiBiY3Muc3RydWN0KFwiTWFrZU1vdmVWZWNcIiwge1xuICAgICAgdHlwZTogb3B0aW9uRW51bShUeXBlVGFnKSxcbiAgICAgIG9iamVjdHM6IGJjcy52ZWN0b3IoQXJndW1lbnQpXG4gICAgfSksXG4gICAgLyoqICAqL1xuICAgIFVwZ3JhZGU6IGJjcy5zdHJ1Y3QoXCJVcGdyYWRlXCIsIHtcbiAgICAgIG1vZHVsZXM6IGJjcy52ZWN0b3IoYmNzLnZlY3RvcihiY3MudTgoKSkpLFxuICAgICAgZGVwZW5kZW5jaWVzOiBiY3MudmVjdG9yKEFkZHJlc3MpLFxuICAgICAgcGFja2FnZUlkOiBBZGRyZXNzLFxuICAgICAgdGlja2V0OiBBcmd1bWVudFxuICAgIH0pXG4gIH0pXG4pO1xuY29uc3QgUHJvZ3JhbW1hYmxlVHJhbnNhY3Rpb24gPSBiY3Muc3RydWN0KFwiUHJvZ3JhbW1hYmxlVHJhbnNhY3Rpb25cIiwge1xuICBpbnB1dHM6IGJjcy52ZWN0b3IoQ2FsbEFyZyksXG4gIHRyYW5zYWN0aW9uczogYmNzLnZlY3RvcihUcmFuc2FjdGlvbilcbn0pO1xuY29uc3QgVHJhbnNhY3Rpb25LaW5kID0gYmNzLmVudW0oXCJUcmFuc2FjdGlvbktpbmRcIiwge1xuICBQcm9ncmFtbWFibGVUcmFuc2FjdGlvbixcbiAgQ2hhbmdlRXBvY2g6IG51bGwsXG4gIEdlbmVzaXM6IG51bGwsXG4gIENvbnNlbnN1c0NvbW1pdFByb2xvZ3VlOiBudWxsXG59KTtcbmNvbnN0IFRyYW5zYWN0aW9uRXhwaXJhdGlvbiA9IGJjcy5lbnVtKFwiVHJhbnNhY3Rpb25FeHBpcmF0aW9uXCIsIHtcbiAgTm9uZTogbnVsbCxcbiAgRXBvY2g6IHVuc2FmZV91NjQoKVxufSk7XG5jb25zdCBTdHJ1Y3RUYWcgPSBiY3Muc3RydWN0KFwiU3RydWN0VGFnXCIsIHtcbiAgYWRkcmVzczogQWRkcmVzcyxcbiAgbW9kdWxlOiBiY3Muc3RyaW5nKCksXG4gIG5hbWU6IGJjcy5zdHJpbmcoKSxcbiAgdHlwZVBhcmFtczogYmNzLnZlY3RvcihUeXBlVGFnKVxufSk7XG5jb25zdCBHYXNEYXRhID0gYmNzLnN0cnVjdChcIkdhc0RhdGFcIiwge1xuICBwYXltZW50OiBiY3MudmVjdG9yKFN1aU9iamVjdFJlZiksXG4gIG93bmVyOiBBZGRyZXNzLFxuICBwcmljZTogYmNzLnU2NCgpLFxuICBidWRnZXQ6IGJjcy51NjQoKVxufSk7XG5jb25zdCBUcmFuc2FjdGlvbkRhdGFWMSA9IGJjcy5zdHJ1Y3QoXCJUcmFuc2FjdGlvbkRhdGFWMVwiLCB7XG4gIGtpbmQ6IFRyYW5zYWN0aW9uS2luZCxcbiAgc2VuZGVyOiBBZGRyZXNzLFxuICBnYXNEYXRhOiBHYXNEYXRhLFxuICBleHBpcmF0aW9uOiBUcmFuc2FjdGlvbkV4cGlyYXRpb25cbn0pO1xuY29uc3QgVHJhbnNhY3Rpb25EYXRhID0gYmNzLmVudW0oXCJUcmFuc2FjdGlvbkRhdGFcIiwge1xuICBWMTogVHJhbnNhY3Rpb25EYXRhVjFcbn0pO1xuY29uc3QgU2VuZGVyU2lnbmVkRGF0YSA9IGJjcy5zdHJ1Y3QoXCJTZW5kZXJTaWduZWREYXRhXCIsIHtcbiAgZGF0YTogVHJhbnNhY3Rpb25EYXRhLFxuICB0eFNpZ25hdHVyZXM6IGJjcy52ZWN0b3IoYmNzLnZlY3RvcihiY3MudTgoKSkpXG59KTtcbmNvbnN0IENvbXByZXNzZWRTaWduYXR1cmUgPSBiY3MuZW51bShcIkNvbXByZXNzZWRTaWduYXR1cmVcIiwge1xuICBFRDI1NTE5OiBiY3MuZml4ZWRBcnJheSg2NCwgYmNzLnU4KCkpLFxuICBTZWNwMjU2azE6IGJjcy5maXhlZEFycmF5KDY0LCBiY3MudTgoKSksXG4gIFNlY3AyNTZyMTogYmNzLmZpeGVkQXJyYXkoNjQsIGJjcy51OCgpKSxcbiAgWmtMb2dpbjogYmNzLnZlY3RvcihiY3MudTgoKSlcbn0pO1xuY29uc3QgUHVibGljS2V5ID0gYmNzLmVudW0oXCJQdWJsaWNLZXlcIiwge1xuICBFRDI1NTE5OiBiY3MuZml4ZWRBcnJheSgzMiwgYmNzLnU4KCkpLFxuICBTZWNwMjU2azE6IGJjcy5maXhlZEFycmF5KDMzLCBiY3MudTgoKSksXG4gIFNlY3AyNTZyMTogYmNzLmZpeGVkQXJyYXkoMzMsIGJjcy51OCgpKSxcbiAgWmtMb2dpbjogYmNzLnZlY3RvcihiY3MudTgoKSlcbn0pO1xuY29uc3QgTXVsdGlTaWdQa01hcCA9IGJjcy5zdHJ1Y3QoXCJNdWx0aVNpZ1BrTWFwXCIsIHtcbiAgcHViS2V5OiBQdWJsaWNLZXksXG4gIHdlaWdodDogYmNzLnU4KClcbn0pO1xuY29uc3QgTXVsdGlTaWdQdWJsaWNLZXkgPSBiY3Muc3RydWN0KFwiTXVsdGlTaWdQdWJsaWNLZXlcIiwge1xuICBwa19tYXA6IGJjcy52ZWN0b3IoTXVsdGlTaWdQa01hcCksXG4gIHRocmVzaG9sZDogYmNzLnUxNigpXG59KTtcbmNvbnN0IE11bHRpU2lnID0gYmNzLnN0cnVjdChcIk11bHRpU2lnXCIsIHtcbiAgc2lnczogYmNzLnZlY3RvcihDb21wcmVzc2VkU2lnbmF0dXJlKSxcbiAgYml0bWFwOiBiY3MudTE2KCksXG4gIG11bHRpc2lnX3BrOiBNdWx0aVNpZ1B1YmxpY0tleVxufSk7XG5jb25zdCBzdWlCY3MgPSB7XG4gIC4uLmJjcyxcbiAgVTg6IGJjcy51OCgpLFxuICBVMTY6IGJjcy51MTYoKSxcbiAgVTMyOiBiY3MudTMyKCksXG4gIFU2NDogYmNzLnU2NCgpLFxuICBVMTI4OiBiY3MudTEyOCgpLFxuICBVMjU2OiBiY3MudTI1NigpLFxuICBVTEVCMTI4OiBiY3MudWxlYjEyOCgpLFxuICBCb29sOiBiY3MuYm9vbCgpLFxuICBTdHJpbmc6IGJjcy5zdHJpbmcoKSxcbiAgQWRkcmVzcyxcbiAgQXJndW1lbnQsXG4gIENhbGxBcmcsXG4gIENvbXByZXNzZWRTaWduYXR1cmUsXG4gIEdhc0RhdGEsXG4gIE11bHRpU2lnLFxuICBNdWx0aVNpZ1BrTWFwLFxuICBNdWx0aVNpZ1B1YmxpY0tleSxcbiAgT2JqZWN0QXJnLFxuICBPYmplY3REaWdlc3QsXG4gIFByb2dyYW1tYWJsZU1vdmVDYWxsLFxuICBQcm9ncmFtbWFibGVUcmFuc2FjdGlvbixcbiAgUHVibGljS2V5LFxuICBTZW5kZXJTaWduZWREYXRhLFxuICBTaGFyZWRPYmplY3RSZWYsXG4gIFN0cnVjdFRhZyxcbiAgU3VpT2JqZWN0UmVmLFxuICBUcmFuc2FjdGlvbixcbiAgVHJhbnNhY3Rpb25EYXRhLFxuICBUcmFuc2FjdGlvbkRhdGFWMSxcbiAgVHJhbnNhY3Rpb25FeHBpcmF0aW9uLFxuICBUcmFuc2FjdGlvbktpbmQsXG4gIFR5cGVUYWcsXG4gIC8vIHByZXNlcnZlIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggb2xkIGJjcyBleHBvcnRcbiAgc2VyOiBiY3NSZWdpc3RyeS5zZXIuYmluZChiY3NSZWdpc3RyeSksXG4gIGRlOiBiY3NSZWdpc3RyeS5kZS5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgZ2V0VHlwZUludGVyZmFjZTogYmNzUmVnaXN0cnkuZ2V0VHlwZUludGVyZmFjZS5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgaGFzVHlwZTogYmNzUmVnaXN0cnkuaGFzVHlwZS5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgcGFyc2VUeXBlTmFtZTogYmNzUmVnaXN0cnkucGFyc2VUeXBlTmFtZS5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgcmVnaXN0ZXJBZGRyZXNzVHlwZTogYmNzUmVnaXN0cnkucmVnaXN0ZXJBZGRyZXNzVHlwZS5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgcmVnaXN0ZXJBbGlhczogYmNzUmVnaXN0cnkucmVnaXN0ZXJBbGlhcy5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgcmVnaXN0ZXJCY3NUeXBlOiBiY3NSZWdpc3RyeS5yZWdpc3RlckJjc1R5cGUuYmluZChiY3NSZWdpc3RyeSksXG4gIHJlZ2lzdGVyRW51bVR5cGU6IGJjc1JlZ2lzdHJ5LnJlZ2lzdGVyRW51bVR5cGUuYmluZChiY3NSZWdpc3RyeSksXG4gIHJlZ2lzdGVyU3RydWN0VHlwZTogYmNzUmVnaXN0cnkucmVnaXN0ZXJTdHJ1Y3RUeXBlLmJpbmQoYmNzUmVnaXN0cnkpLFxuICByZWdpc3RlclR5cGU6IGJjc1JlZ2lzdHJ5LnJlZ2lzdGVyVHlwZS5iaW5kKGJjc1JlZ2lzdHJ5KSxcbiAgdHlwZXM6IGJjc1JlZ2lzdHJ5LnR5cGVzXG59O1xuYmNzUmVnaXN0cnkucmVnaXN0ZXJCY3NUeXBlKFwidXRmOHN0cmluZ1wiLCAoKSA9PiBiY3Muc3RyaW5nKHsgbmFtZTogXCJ1dGY4c3RyaW5nXCIgfSkpO1xuYmNzUmVnaXN0cnkucmVnaXN0ZXJCY3NUeXBlKFwidW5zYWZlX3U2NFwiLCAoKSA9PiB1bnNhZmVfdTY0KCkpO1xuYmNzUmVnaXN0cnkucmVnaXN0ZXJCY3NUeXBlKFwiZW51bUtpbmRcIiwgKFQpID0+IGVudW1LaW5kKFQpKTtcbltcbiAgQWRkcmVzcyxcbiAgQXJndW1lbnQsXG4gIENhbGxBcmcsXG4gIENvbXByZXNzZWRTaWduYXR1cmUsXG4gIEdhc0RhdGEsXG4gIE11bHRpU2lnLFxuICBNdWx0aVNpZ1BrTWFwLFxuICBNdWx0aVNpZ1B1YmxpY0tleSxcbiAgT2JqZWN0QXJnLFxuICBPYmplY3REaWdlc3QsXG4gIFByb2dyYW1tYWJsZU1vdmVDYWxsLFxuICBQcm9ncmFtbWFibGVUcmFuc2FjdGlvbixcbiAgUHVibGljS2V5LFxuICBTZW5kZXJTaWduZWREYXRhLFxuICBTaGFyZWRPYmplY3RSZWYsXG4gIFN0cnVjdFRhZyxcbiAgU3VpT2JqZWN0UmVmLFxuICBUcmFuc2FjdGlvbixcbiAgVHJhbnNhY3Rpb25EYXRhLFxuICBUcmFuc2FjdGlvbkRhdGFWMSxcbiAgVHJhbnNhY3Rpb25FeHBpcmF0aW9uLFxuICBUcmFuc2FjdGlvbktpbmQsXG4gIFR5cGVUYWdcbl0uZm9yRWFjaCgodHlwZSkgPT4ge1xuICBiY3NSZWdpc3RyeS5yZWdpc3RlckJjc1R5cGUodHlwZS5uYW1lLCAoKSA9PiB0eXBlKTtcbn0pO1xuZXhwb3J0IHtcbiAgVHlwZVRhZ1NlcmlhbGl6ZXIyIGFzIFR5cGVUYWdTZXJpYWxpemVyLFxuICBzdWlCY3MgYXMgYmNzLFxuICBiY3NSZWdpc3RyeSxcbiAgaXNQdXJlQXJnXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/type-tag-serializer.js":
/*!*****************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/bcs/type-tag-serializer.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TypeTagSerializer: () => (/* binding */ TypeTagSerializer)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n\n\nconst VECTOR_REGEX = /^vector<(.+)>$/;\nconst STRUCT_REGEX = /^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;\nclass TypeTagSerializer {\n  static parseFromStr(str, normalizeAddress = false) {\n    if (str === \"address\") {\n      return { address: null };\n    } else if (str === \"bool\") {\n      return { bool: null };\n    } else if (str === \"u8\") {\n      return { u8: null };\n    } else if (str === \"u16\") {\n      return { u16: null };\n    } else if (str === \"u32\") {\n      return { u32: null };\n    } else if (str === \"u64\") {\n      return { u64: null };\n    } else if (str === \"u128\") {\n      return { u128: null };\n    } else if (str === \"u256\") {\n      return { u256: null };\n    } else if (str === \"signer\") {\n      return { signer: null };\n    }\n    const vectorMatch = str.match(VECTOR_REGEX);\n    if (vectorMatch) {\n      return {\n        vector: TypeTagSerializer.parseFromStr(vectorMatch[1], normalizeAddress)\n      };\n    }\n    const structMatch = str.match(STRUCT_REGEX);\n    if (structMatch) {\n      const address = normalizeAddress ? (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_0__.normalizeSuiAddress)(structMatch[1]) : structMatch[1];\n      return {\n        struct: {\n          address,\n          module: structMatch[2],\n          name: structMatch[3],\n          typeParams: structMatch[5] === void 0 ? [] : TypeTagSerializer.parseStructTypeArgs(structMatch[5], normalizeAddress)\n        }\n      };\n    }\n    throw new Error(`Encountered unexpected token when parsing type args for ${str}`);\n  }\n  static parseStructTypeArgs(str, normalizeAddress = false) {\n    return (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_1__.splitGenericParameters)(str).map(\n      (tok) => TypeTagSerializer.parseFromStr(tok, normalizeAddress)\n    );\n  }\n  static tagToString(tag) {\n    if (\"bool\" in tag) {\n      return \"bool\";\n    }\n    if (\"u8\" in tag) {\n      return \"u8\";\n    }\n    if (\"u16\" in tag) {\n      return \"u16\";\n    }\n    if (\"u32\" in tag) {\n      return \"u32\";\n    }\n    if (\"u64\" in tag) {\n      return \"u64\";\n    }\n    if (\"u128\" in tag) {\n      return \"u128\";\n    }\n    if (\"u256\" in tag) {\n      return \"u256\";\n    }\n    if (\"address\" in tag) {\n      return \"address\";\n    }\n    if (\"signer\" in tag) {\n      return \"signer\";\n    }\n    if (\"vector\" in tag) {\n      return `vector<${TypeTagSerializer.tagToString(tag.vector)}>`;\n    }\n    if (\"struct\" in tag) {\n      const struct = tag.struct;\n      const typeParams = struct.typeParams.map(TypeTagSerializer.tagToString).join(\", \");\n      return `${struct.address}::${struct.module}::${struct.name}${typeParams ? `<${typeParams}>` : \"\"}`;\n    }\n    throw new Error(\"Invalid TypeTag\");\n  }\n}\n\n//# sourceMappingURL=type-tag-serializer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2Jjcy90eXBlLXRhZy1zZXJpYWxpemVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUNPO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsTUFBTTtBQUNOLGVBQWU7QUFDZixNQUFNO0FBQ04sZUFBZTtBQUNmLE1BQU07QUFDTixlQUFlO0FBQ2YsTUFBTTtBQUNOLGVBQWU7QUFDZixNQUFNO0FBQ04sZUFBZTtBQUNmLE1BQU07QUFDTixlQUFlO0FBQ2YsTUFBTTtBQUNOLGVBQWU7QUFDZixNQUFNO0FBQ04sZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx3RUFBbUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLElBQUk7QUFDbkY7QUFDQTtBQUNBLFdBQVcsbUVBQXNCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMENBQTBDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGVBQWUsSUFBSSxjQUFjLElBQUksWUFBWSxFQUFFLGlCQUFpQixXQUFXLFFBQVE7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2Jjcy90eXBlLXRhZy1zZXJpYWxpemVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNwbGl0R2VuZXJpY1BhcmFtZXRlcnMgfSBmcm9tIFwiQG15c3Rlbi9iY3NcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZVN1aUFkZHJlc3MgfSBmcm9tIFwiLi4vdXRpbHMvc3VpLXR5cGVzLmpzXCI7XG5jb25zdCBWRUNUT1JfUkVHRVggPSAvXnZlY3RvcjwoLispPiQvO1xuY29uc3QgU1RSVUNUX1JFR0VYID0gL14oW146XSspOjooW146XSspOjooW148XSspKDwoLispPik/LztcbmNsYXNzIFR5cGVUYWdTZXJpYWxpemVyIHtcbiAgc3RhdGljIHBhcnNlRnJvbVN0cihzdHIsIG5vcm1hbGl6ZUFkZHJlc3MgPSBmYWxzZSkge1xuICAgIGlmIChzdHIgPT09IFwiYWRkcmVzc1wiKSB7XG4gICAgICByZXR1cm4geyBhZGRyZXNzOiBudWxsIH07XG4gICAgfSBlbHNlIGlmIChzdHIgPT09IFwiYm9vbFwiKSB7XG4gICAgICByZXR1cm4geyBib29sOiBudWxsIH07XG4gICAgfSBlbHNlIGlmIChzdHIgPT09IFwidThcIikge1xuICAgICAgcmV0dXJuIHsgdTg6IG51bGwgfTtcbiAgICB9IGVsc2UgaWYgKHN0ciA9PT0gXCJ1MTZcIikge1xuICAgICAgcmV0dXJuIHsgdTE2OiBudWxsIH07XG4gICAgfSBlbHNlIGlmIChzdHIgPT09IFwidTMyXCIpIHtcbiAgICAgIHJldHVybiB7IHUzMjogbnVsbCB9O1xuICAgIH0gZWxzZSBpZiAoc3RyID09PSBcInU2NFwiKSB7XG4gICAgICByZXR1cm4geyB1NjQ6IG51bGwgfTtcbiAgICB9IGVsc2UgaWYgKHN0ciA9PT0gXCJ1MTI4XCIpIHtcbiAgICAgIHJldHVybiB7IHUxMjg6IG51bGwgfTtcbiAgICB9IGVsc2UgaWYgKHN0ciA9PT0gXCJ1MjU2XCIpIHtcbiAgICAgIHJldHVybiB7IHUyNTY6IG51bGwgfTtcbiAgICB9IGVsc2UgaWYgKHN0ciA9PT0gXCJzaWduZXJcIikge1xuICAgICAgcmV0dXJuIHsgc2lnbmVyOiBudWxsIH07XG4gICAgfVxuICAgIGNvbnN0IHZlY3Rvck1hdGNoID0gc3RyLm1hdGNoKFZFQ1RPUl9SRUdFWCk7XG4gICAgaWYgKHZlY3Rvck1hdGNoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2ZWN0b3I6IFR5cGVUYWdTZXJpYWxpemVyLnBhcnNlRnJvbVN0cih2ZWN0b3JNYXRjaFsxXSwgbm9ybWFsaXplQWRkcmVzcylcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHN0cnVjdE1hdGNoID0gc3RyLm1hdGNoKFNUUlVDVF9SRUdFWCk7XG4gICAgaWYgKHN0cnVjdE1hdGNoKSB7XG4gICAgICBjb25zdCBhZGRyZXNzID0gbm9ybWFsaXplQWRkcmVzcyA/IG5vcm1hbGl6ZVN1aUFkZHJlc3Moc3RydWN0TWF0Y2hbMV0pIDogc3RydWN0TWF0Y2hbMV07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHJ1Y3Q6IHtcbiAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgIG1vZHVsZTogc3RydWN0TWF0Y2hbMl0sXG4gICAgICAgICAgbmFtZTogc3RydWN0TWF0Y2hbM10sXG4gICAgICAgICAgdHlwZVBhcmFtczogc3RydWN0TWF0Y2hbNV0gPT09IHZvaWQgMCA/IFtdIDogVHlwZVRhZ1NlcmlhbGl6ZXIucGFyc2VTdHJ1Y3RUeXBlQXJncyhzdHJ1Y3RNYXRjaFs1XSwgbm9ybWFsaXplQWRkcmVzcylcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFbmNvdW50ZXJlZCB1bmV4cGVjdGVkIHRva2VuIHdoZW4gcGFyc2luZyB0eXBlIGFyZ3MgZm9yICR7c3RyfWApO1xuICB9XG4gIHN0YXRpYyBwYXJzZVN0cnVjdFR5cGVBcmdzKHN0ciwgbm9ybWFsaXplQWRkcmVzcyA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHNwbGl0R2VuZXJpY1BhcmFtZXRlcnMoc3RyKS5tYXAoXG4gICAgICAodG9rKSA9PiBUeXBlVGFnU2VyaWFsaXplci5wYXJzZUZyb21TdHIodG9rLCBub3JtYWxpemVBZGRyZXNzKVxuICAgICk7XG4gIH1cbiAgc3RhdGljIHRhZ1RvU3RyaW5nKHRhZykge1xuICAgIGlmIChcImJvb2xcIiBpbiB0YWcpIHtcbiAgICAgIHJldHVybiBcImJvb2xcIjtcbiAgICB9XG4gICAgaWYgKFwidThcIiBpbiB0YWcpIHtcbiAgICAgIHJldHVybiBcInU4XCI7XG4gICAgfVxuICAgIGlmIChcInUxNlwiIGluIHRhZykge1xuICAgICAgcmV0dXJuIFwidTE2XCI7XG4gICAgfVxuICAgIGlmIChcInUzMlwiIGluIHRhZykge1xuICAgICAgcmV0dXJuIFwidTMyXCI7XG4gICAgfVxuICAgIGlmIChcInU2NFwiIGluIHRhZykge1xuICAgICAgcmV0dXJuIFwidTY0XCI7XG4gICAgfVxuICAgIGlmIChcInUxMjhcIiBpbiB0YWcpIHtcbiAgICAgIHJldHVybiBcInUxMjhcIjtcbiAgICB9XG4gICAgaWYgKFwidTI1NlwiIGluIHRhZykge1xuICAgICAgcmV0dXJuIFwidTI1NlwiO1xuICAgIH1cbiAgICBpZiAoXCJhZGRyZXNzXCIgaW4gdGFnKSB7XG4gICAgICByZXR1cm4gXCJhZGRyZXNzXCI7XG4gICAgfVxuICAgIGlmIChcInNpZ25lclwiIGluIHRhZykge1xuICAgICAgcmV0dXJuIFwic2lnbmVyXCI7XG4gICAgfVxuICAgIGlmIChcInZlY3RvclwiIGluIHRhZykge1xuICAgICAgcmV0dXJuIGB2ZWN0b3I8JHtUeXBlVGFnU2VyaWFsaXplci50YWdUb1N0cmluZyh0YWcudmVjdG9yKX0+YDtcbiAgICB9XG4gICAgaWYgKFwic3RydWN0XCIgaW4gdGFnKSB7XG4gICAgICBjb25zdCBzdHJ1Y3QgPSB0YWcuc3RydWN0O1xuICAgICAgY29uc3QgdHlwZVBhcmFtcyA9IHN0cnVjdC50eXBlUGFyYW1zLm1hcChUeXBlVGFnU2VyaWFsaXplci50YWdUb1N0cmluZykuam9pbihcIiwgXCIpO1xuICAgICAgcmV0dXJuIGAke3N0cnVjdC5hZGRyZXNzfTo6JHtzdHJ1Y3QubW9kdWxlfTo6JHtzdHJ1Y3QubmFtZX0ke3R5cGVQYXJhbXMgPyBgPCR7dHlwZVBhcmFtc30+YCA6IFwiXCJ9YDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBUeXBlVGFnXCIpO1xuICB9XG59XG5leHBvcnQge1xuICBUeXBlVGFnU2VyaWFsaXplclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGUtdGFnLXNlcmlhbGl6ZXIuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/type-tag-serializer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Inputs.js":
/*!********************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/Inputs.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuilderCallArg: () => (/* binding */ BuilderCallArg),\n/* harmony export */   Inputs: () => (/* binding */ Inputs),\n/* harmony export */   ObjectCallArg: () => (/* binding */ ObjectCallArg),\n/* harmony export */   PureCallArg: () => (/* binding */ PureCallArg),\n/* harmony export */   getIdFromCallArg: () => (/* binding */ getIdFromCallArg),\n/* harmony export */   getSharedObjectInput: () => (/* binding */ getSharedObjectInput),\n/* harmony export */   isMutableSharedObjectInput: () => (/* binding */ isMutableSharedObjectInput),\n/* harmony export */   isSharedObjectInput: () => (/* binding */ isSharedObjectInput)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _bcs_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../bcs/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js\");\n/* harmony import */ var _types_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/objects.js\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n\n\n\n\n\nconst ObjectArg = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ ImmOrOwned: _types_index_js__WEBPACK_IMPORTED_MODULE_1__.SuiObjectRef }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    Shared: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n      objectId: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n      initialSharedVersion: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()]),\n      mutable: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)()\n    })\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ Receiving: _types_index_js__WEBPACK_IMPORTED_MODULE_1__.SuiObjectRef })\n]);\nconst PureCallArg = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ Pure: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)()) });\nconst ObjectCallArg = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ Object: ObjectArg });\nconst BuilderCallArg = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([PureCallArg, ObjectCallArg]);\nfunction Pure(data, type) {\n  return {\n    Pure: Array.from(\n      data instanceof Uint8Array ? data : (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.isSerializedBcs)(data) ? data.toBytes() : (\n        // NOTE: We explicitly set this to be growable to infinity, because we have maxSize validation at the builder-level:\n        _bcs_index_js__WEBPACK_IMPORTED_MODULE_3__.bcs.ser(type, data, { maxSize: Infinity }).toBytes()\n      )\n    )\n  };\n}\nconst Inputs = {\n  Pure,\n  ObjectRef({ objectId, digest, version }) {\n    return {\n      Object: {\n        ImmOrOwned: {\n          digest,\n          version,\n          objectId: (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(objectId)\n        }\n      }\n    };\n  },\n  SharedObjectRef({ objectId, mutable, initialSharedVersion }) {\n    return {\n      Object: {\n        Shared: {\n          mutable,\n          initialSharedVersion,\n          objectId: (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(objectId)\n        }\n      }\n    };\n  },\n  ReceivingRef({ objectId, digest, version }) {\n    return {\n      Object: {\n        Receiving: {\n          digest,\n          version,\n          objectId: (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(objectId)\n        }\n      }\n    };\n  }\n};\nfunction getIdFromCallArg(arg) {\n  if (typeof arg === \"string\") {\n    return (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(arg);\n  }\n  if (\"ImmOrOwned\" in arg.Object) {\n    return (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(arg.Object.ImmOrOwned.objectId);\n  }\n  if (\"Receiving\" in arg.Object) {\n    return (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(arg.Object.Receiving.objectId);\n  }\n  return (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_4__.normalizeSuiAddress)(arg.Object.Shared.objectId);\n}\nfunction getSharedObjectInput(arg) {\n  return typeof arg === \"object\" && \"Object\" in arg && \"Shared\" in arg.Object ? arg.Object.Shared : void 0;\n}\nfunction isSharedObjectInput(arg) {\n  return !!getSharedObjectInput(arg);\n}\nfunction isMutableSharedObjectInput(arg) {\n  return getSharedObjectInput(arg)?.mutable ?? false;\n}\n\n//# sourceMappingURL=Inputs.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvSW5wdXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEM7QUFDK0I7QUFDdkM7QUFDVztBQUNXO0FBQzVELGtCQUFrQixrREFBSztBQUN2QixFQUFFLG1EQUFNLEdBQUcsWUFBWSx5REFBWSxFQUFFO0FBQ3JDLEVBQUUsbURBQU07QUFDUixZQUFZLG1EQUFNO0FBQ2xCLGdCQUFnQixtREFBTTtBQUN0Qiw0QkFBNEIsa0RBQUssRUFBRSxvREFBTyxJQUFJLG1EQUFNO0FBQ3BELGVBQWUsb0RBQU87QUFDdEIsS0FBSztBQUNMLEdBQUc7QUFDSCxFQUFFLG1EQUFNLEdBQUcsV0FBVyx5REFBWSxFQUFFO0FBQ3BDO0FBQ0Esb0JBQW9CLG1EQUFNLEdBQUcsTUFBTSxrREFBSyxDQUFDLG9EQUFPLEtBQUs7QUFDckQsc0JBQXNCLG1EQUFNLEdBQUcsbUJBQW1CO0FBQ2xELHVCQUF1QixrREFBSztBQUM1QjtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsNERBQWU7QUFDekQ7QUFDQSxRQUFRLDhDQUFHLG1CQUFtQixtQkFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywyQkFBMkI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3RUFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG9CQUFvQix5Q0FBeUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3RUFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGlCQUFpQiwyQkFBMkI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3RUFBbUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdFQUFtQjtBQUM5QjtBQUNBO0FBQ0EsV0FBVyx3RUFBbUI7QUFDOUI7QUFDQTtBQUNBLFdBQVcsd0VBQW1CO0FBQzlCO0FBQ0EsU0FBUyx3RUFBbUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvSW5wdXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU2VyaWFsaXplZEJjcyB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgYXJyYXksIGJvb2xlYW4sIGludGVnZXIsIG9iamVjdCwgc3RyaW5nLCB1bmlvbiB9IGZyb20gXCJzdXBlcnN0cnVjdFwiO1xuaW1wb3J0IHsgYmNzIH0gZnJvbSBcIi4uL2Jjcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU3VpT2JqZWN0UmVmIH0gZnJvbSBcIi4uL3R5cGVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBub3JtYWxpemVTdWlBZGRyZXNzIH0gZnJvbSBcIi4uL3V0aWxzL3N1aS10eXBlcy5qc1wiO1xuY29uc3QgT2JqZWN0QXJnID0gdW5pb24oW1xuICBvYmplY3QoeyBJbW1Pck93bmVkOiBTdWlPYmplY3RSZWYgfSksXG4gIG9iamVjdCh7XG4gICAgU2hhcmVkOiBvYmplY3Qoe1xuICAgICAgb2JqZWN0SWQ6IHN0cmluZygpLFxuICAgICAgaW5pdGlhbFNoYXJlZFZlcnNpb246IHVuaW9uKFtpbnRlZ2VyKCksIHN0cmluZygpXSksXG4gICAgICBtdXRhYmxlOiBib29sZWFuKClcbiAgICB9KVxuICB9KSxcbiAgb2JqZWN0KHsgUmVjZWl2aW5nOiBTdWlPYmplY3RSZWYgfSlcbl0pO1xuY29uc3QgUHVyZUNhbGxBcmcgPSBvYmplY3QoeyBQdXJlOiBhcnJheShpbnRlZ2VyKCkpIH0pO1xuY29uc3QgT2JqZWN0Q2FsbEFyZyA9IG9iamVjdCh7IE9iamVjdDogT2JqZWN0QXJnIH0pO1xuY29uc3QgQnVpbGRlckNhbGxBcmcgPSB1bmlvbihbUHVyZUNhbGxBcmcsIE9iamVjdENhbGxBcmddKTtcbmZ1bmN0aW9uIFB1cmUoZGF0YSwgdHlwZSkge1xuICByZXR1cm4ge1xuICAgIFB1cmU6IEFycmF5LmZyb20oXG4gICAgICBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSA/IGRhdGEgOiBpc1NlcmlhbGl6ZWRCY3MoZGF0YSkgPyBkYXRhLnRvQnl0ZXMoKSA6IChcbiAgICAgICAgLy8gTk9URTogV2UgZXhwbGljaXRseSBzZXQgdGhpcyB0byBiZSBncm93YWJsZSB0byBpbmZpbml0eSwgYmVjYXVzZSB3ZSBoYXZlIG1heFNpemUgdmFsaWRhdGlvbiBhdCB0aGUgYnVpbGRlci1sZXZlbDpcbiAgICAgICAgYmNzLnNlcih0eXBlLCBkYXRhLCB7IG1heFNpemU6IEluZmluaXR5IH0pLnRvQnl0ZXMoKVxuICAgICAgKVxuICAgIClcbiAgfTtcbn1cbmNvbnN0IElucHV0cyA9IHtcbiAgUHVyZSxcbiAgT2JqZWN0UmVmKHsgb2JqZWN0SWQsIGRpZ2VzdCwgdmVyc2lvbiB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIE9iamVjdDoge1xuICAgICAgICBJbW1Pck93bmVkOiB7XG4gICAgICAgICAgZGlnZXN0LFxuICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgICAgb2JqZWN0SWQ6IG5vcm1hbGl6ZVN1aUFkZHJlc3Mob2JqZWN0SWQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBTaGFyZWRPYmplY3RSZWYoeyBvYmplY3RJZCwgbXV0YWJsZSwgaW5pdGlhbFNoYXJlZFZlcnNpb24gfSkge1xuICAgIHJldHVybiB7XG4gICAgICBPYmplY3Q6IHtcbiAgICAgICAgU2hhcmVkOiB7XG4gICAgICAgICAgbXV0YWJsZSxcbiAgICAgICAgICBpbml0aWFsU2hhcmVkVmVyc2lvbixcbiAgICAgICAgICBvYmplY3RJZDogbm9ybWFsaXplU3VpQWRkcmVzcyhvYmplY3RJZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIFJlY2VpdmluZ1JlZih7IG9iamVjdElkLCBkaWdlc3QsIHZlcnNpb24gfSkge1xuICAgIHJldHVybiB7XG4gICAgICBPYmplY3Q6IHtcbiAgICAgICAgUmVjZWl2aW5nOiB7XG4gICAgICAgICAgZGlnZXN0LFxuICAgICAgICAgIHZlcnNpb24sXG4gICAgICAgICAgb2JqZWN0SWQ6IG5vcm1hbGl6ZVN1aUFkZHJlc3Mob2JqZWN0SWQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0SWRGcm9tQ2FsbEFyZyhhcmcpIHtcbiAgaWYgKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplU3VpQWRkcmVzcyhhcmcpO1xuICB9XG4gIGlmIChcIkltbU9yT3duZWRcIiBpbiBhcmcuT2JqZWN0KSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVN1aUFkZHJlc3MoYXJnLk9iamVjdC5JbW1Pck93bmVkLm9iamVjdElkKTtcbiAgfVxuICBpZiAoXCJSZWNlaXZpbmdcIiBpbiBhcmcuT2JqZWN0KSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVN1aUFkZHJlc3MoYXJnLk9iamVjdC5SZWNlaXZpbmcub2JqZWN0SWQpO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVTdWlBZGRyZXNzKGFyZy5PYmplY3QuU2hhcmVkLm9iamVjdElkKTtcbn1cbmZ1bmN0aW9uIGdldFNoYXJlZE9iamVjdElucHV0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiBcIk9iamVjdFwiIGluIGFyZyAmJiBcIlNoYXJlZFwiIGluIGFyZy5PYmplY3QgPyBhcmcuT2JqZWN0LlNoYXJlZCA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzU2hhcmVkT2JqZWN0SW5wdXQoYXJnKSB7XG4gIHJldHVybiAhIWdldFNoYXJlZE9iamVjdElucHV0KGFyZyk7XG59XG5mdW5jdGlvbiBpc011dGFibGVTaGFyZWRPYmplY3RJbnB1dChhcmcpIHtcbiAgcmV0dXJuIGdldFNoYXJlZE9iamVjdElucHV0KGFyZyk/Lm11dGFibGUgPz8gZmFsc2U7XG59XG5leHBvcnQge1xuICBCdWlsZGVyQ2FsbEFyZyxcbiAgSW5wdXRzLFxuICBPYmplY3RDYWxsQXJnLFxuICBQdXJlQ2FsbEFyZyxcbiAgZ2V0SWRGcm9tQ2FsbEFyZyxcbiAgZ2V0U2hhcmVkT2JqZWN0SW5wdXQsXG4gIGlzTXV0YWJsZVNoYXJlZE9iamVjdElucHV0LFxuICBpc1NoYXJlZE9iamVjdElucHV0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5wdXRzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Inputs.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlock.js":
/*!******************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlock.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TransactionBlock: () => (/* binding */ TransactionBlock),\n/* harmony export */   isTransactionBlock: () => (/* binding */ isTransactionBlock)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _bcs_index_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../bcs/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js\");\n/* harmony import */ var _types_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/normalized.js\");\n/* harmony import */ var _types_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../types/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/objects.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/index.js\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _Inputs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Inputs.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Inputs.js\");\n/* harmony import */ var _pure_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pure.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/pure.js\");\n/* harmony import */ var _serializer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./serializer.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/serializer.js\");\n/* harmony import */ var _TransactionBlockData_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TransactionBlockData.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlockData.js\");\n/* harmony import */ var _Transactions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Transactions.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Transactions.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/utils.js\");\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _blockData, _input, input_fn, _normalizeTransactionArgument, normalizeTransactionArgument_fn, _getConfig, getConfig_fn, _validate, validate_fn, _prepareGasPayment, prepareGasPayment_fn, _prepareGasPrice, prepareGasPrice_fn, _prepareTransactions, prepareTransactions_fn, _prepare, prepare_fn;\n\n\n\n\n\n\n\n\n\n\n\n\nconst DefaultOfflineLimits = {\n  maxPureArgumentSize: 16 * 1024,\n  maxTxGas: 5e10,\n  maxGasObjects: 256,\n  maxTxSizeBytes: 128 * 1024\n};\nfunction createTransactionResult(index) {\n  const baseResult = { kind: \"Result\", index };\n  const nestedResults = [];\n  const nestedResultFor = (resultIndex) => nestedResults[resultIndex] ?? (nestedResults[resultIndex] = {\n    kind: \"NestedResult\",\n    index,\n    resultIndex\n  });\n  return new Proxy(baseResult, {\n    set() {\n      throw new Error(\n        \"The transaction result is a proxy, and does not support setting properties directly\"\n      );\n    },\n    // TODO: Instead of making this return a concrete argument, we should ideally\n    // make it reference-based (so that this gets resolved at build-time), which\n    // allows re-ordering transactions.\n    get(target, property) {\n      if (property in target) {\n        return Reflect.get(target, property);\n      }\n      if (property === Symbol.iterator) {\n        return function* () {\n          let i = 0;\n          while (true) {\n            yield nestedResultFor(i);\n            i++;\n          }\n        };\n      }\n      if (typeof property === \"symbol\")\n        return;\n      const resultIndex = parseInt(property, 10);\n      if (Number.isNaN(resultIndex) || resultIndex < 0)\n        return;\n      return nestedResultFor(resultIndex);\n    }\n  });\n}\nfunction isReceivingType(normalizedType) {\n  const tag = (0,_types_index_js__WEBPACK_IMPORTED_MODULE_0__.extractStructTag)(normalizedType);\n  if (tag) {\n    return tag.Struct.address === \"0x2\" && tag.Struct.module === \"transfer\" && tag.Struct.name === \"Receiving\";\n  }\n  return false;\n}\nfunction expectClient(options) {\n  if (!options.client) {\n    throw new Error(\n      `No provider passed to Transaction#build, but transaction data was not sufficient to build offline.`\n    );\n  }\n  return options.client;\n}\nconst TRANSACTION_BRAND = Symbol.for(\"@mysten/transaction\");\nconst LIMITS = {\n  // The maximum gas that is allowed.\n  maxTxGas: \"max_tx_gas\",\n  // The maximum number of gas objects that can be selected for one transaction.\n  maxGasObjects: \"max_gas_payment_objects\",\n  // The maximum size (in bytes) that the transaction can be:\n  maxTxSizeBytes: \"max_tx_size_bytes\",\n  // The maximum size (in bytes) that pure arguments can be:\n  maxPureArgumentSize: \"max_pure_argument_size\"\n};\nconst GAS_SAFE_OVERHEAD = 1000n;\nconst MAX_OBJECTS_PER_FETCH = 50;\nconst chunk = (arr, size) => Array.from(\n  { length: Math.ceil(arr.length / size) },\n  (_, i) => arr.slice(i * size, i * size + size)\n);\nfunction isTransactionBlock(obj) {\n  return !!obj && typeof obj === \"object\" && obj[TRANSACTION_BRAND] === true;\n}\nconst _TransactionBlock = class {\n  constructor(transaction) {\n    /**\n     * Dynamically create a new input, which is separate from the `input`. This is important\n     * for generated clients to be able to define unique inputs that are non-overlapping with the\n     * defined inputs.\n     *\n     * For `Uint8Array` type automatically convert the input into a `Pure` CallArg, since this\n     * is the format required for custom serialization.\n     *\n     */\n    __privateAdd(this, _input);\n    __privateAdd(this, _normalizeTransactionArgument);\n    __privateAdd(this, _getConfig);\n    __privateAdd(this, _validate);\n    // The current default is just picking _all_ coins we can which may not be ideal.\n    __privateAdd(this, _prepareGasPayment);\n    __privateAdd(this, _prepareGasPrice);\n    __privateAdd(this, _prepareTransactions);\n    /**\n     * Prepare the transaction by valdiating the transaction data and resolving all inputs\n     * so that it can be built into bytes.\n     */\n    __privateAdd(this, _prepare);\n    __privateAdd(this, _blockData, void 0);\n    __privateSet(this, _blockData, new _TransactionBlockData_js__WEBPACK_IMPORTED_MODULE_1__.TransactionBlockDataBuilder(\n      transaction ? transaction.blockData : void 0\n    ));\n  }\n  /**\n   * Converts from a serialize transaction kind (built with `build({ onlyTransactionKind: true })`) to a `Transaction` class.\n   * Supports either a byte array, or base64-encoded bytes.\n   */\n  static fromKind(serialized) {\n    const tx = new _TransactionBlock();\n    __privateSet(tx, _blockData, _TransactionBlockData_js__WEBPACK_IMPORTED_MODULE_1__.TransactionBlockDataBuilder.fromKindBytes(\n      typeof serialized === \"string\" ? (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.fromB64)(serialized) : serialized\n    ));\n    return tx;\n  }\n  /**\n   * Converts from a serialized transaction format to a `Transaction` class.\n   * There are two supported serialized formats:\n   * - A string returned from `Transaction#serialize`. The serialized format must be compatible, or it will throw an error.\n   * - A byte array (or base64-encoded bytes) containing BCS transaction data.\n   */\n  static from(serialized) {\n    const tx = new _TransactionBlock();\n    if (typeof serialized !== \"string\" || !serialized.startsWith(\"{\")) {\n      __privateSet(tx, _blockData, _TransactionBlockData_js__WEBPACK_IMPORTED_MODULE_1__.TransactionBlockDataBuilder.fromBytes(\n        typeof serialized === \"string\" ? (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.fromB64)(serialized) : serialized\n      ));\n    } else {\n      __privateSet(tx, _blockData, _TransactionBlockData_js__WEBPACK_IMPORTED_MODULE_1__.TransactionBlockDataBuilder.restore(JSON.parse(serialized)));\n    }\n    return tx;\n  }\n  setSender(sender) {\n    __privateGet(this, _blockData).sender = sender;\n  }\n  /**\n   * Sets the sender only if it has not already been set.\n   * This is useful for sponsored transaction flows where the sender may not be the same as the signer address.\n   */\n  setSenderIfNotSet(sender) {\n    if (!__privateGet(this, _blockData).sender) {\n      __privateGet(this, _blockData).sender = sender;\n    }\n  }\n  setExpiration(expiration) {\n    __privateGet(this, _blockData).expiration = expiration;\n  }\n  setGasPrice(price) {\n    __privateGet(this, _blockData).gasConfig.price = String(price);\n  }\n  setGasBudget(budget) {\n    __privateGet(this, _blockData).gasConfig.budget = String(budget);\n  }\n  setGasOwner(owner) {\n    __privateGet(this, _blockData).gasConfig.owner = owner;\n  }\n  setGasPayment(payments) {\n    __privateGet(this, _blockData).gasConfig.payment = payments.map((payment) => (0,superstruct__WEBPACK_IMPORTED_MODULE_3__.mask)(payment, _types_index_js__WEBPACK_IMPORTED_MODULE_4__.SuiObjectRef));\n  }\n  /** Get a snapshot of the transaction data, in JSON form: */\n  get blockData() {\n    return __privateGet(this, _blockData).snapshot();\n  }\n  // Used to brand transaction classes so that they can be identified, even between multiple copies\n  // of the builder.\n  get [TRANSACTION_BRAND]() {\n    return true;\n  }\n  // Temporary workaround for the wallet interface accidentally serializing transaction blocks via postMessage\n  get pure() {\n    Object.defineProperty(this, \"pure\", {\n      enumerable: false,\n      value: (0,_pure_js__WEBPACK_IMPORTED_MODULE_5__.createPure)((value, type) => {\n        if ((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.isSerializedBcs)(value)) {\n          return __privateMethod(this, _input, input_fn).call(this, \"pure\", {\n            Pure: Array.from(value.toBytes())\n          });\n        }\n        return __privateMethod(this, _input, input_fn).call(this, \"pure\", value instanceof Uint8Array ? _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.Pure(value) : type ? _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.Pure(value, type) : value);\n      })\n    });\n    return this.pure;\n  }\n  /** Returns an argument for the gas coin, to be used in a transaction. */\n  get gas() {\n    return { kind: \"GasCoin\" };\n  }\n  /**\n   * Add a new object input to the transaction.\n   */\n  object(value) {\n    if (typeof value === \"object\" && \"kind\" in value) {\n      return value;\n    }\n    const id = (0,_Inputs_js__WEBPACK_IMPORTED_MODULE_6__.getIdFromCallArg)(value);\n    const inserted = __privateGet(this, _blockData).inputs.find(\n      (i) => i.type === \"object\" && id === (0,_Inputs_js__WEBPACK_IMPORTED_MODULE_6__.getIdFromCallArg)(i.value)\n    );\n    return inserted ?? __privateMethod(this, _input, input_fn).call(this, \"object\", typeof value === \"string\" ? (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_7__.normalizeSuiAddress)(value) : value);\n  }\n  /**\n   * Add a new object input to the transaction using the fully-resolved object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  objectRef(...args) {\n    return this.object(_Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.ObjectRef(...args));\n  }\n  /**\n   * Add a new receiving input to the transaction using the fully-resolved object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  receivingRef(...args) {\n    return this.object(_Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.ReceivingRef(...args));\n  }\n  /**\n   * Add a new shared object input to the transaction using the fully-resolved shared object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  sharedObjectRef(...args) {\n    return this.object(_Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.SharedObjectRef(...args));\n  }\n  /** Add a transaction to the transaction block. */\n  add(transaction) {\n    const index = __privateGet(this, _blockData).transactions.push(transaction);\n    return createTransactionResult(index - 1);\n  }\n  // Method shorthands:\n  splitCoins(coin, amounts) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.SplitCoins(\n        typeof coin === \"string\" ? this.object(coin) : coin,\n        amounts.map(\n          (amount) => typeof amount === \"number\" || typeof amount === \"bigint\" || typeof amount === \"string\" ? this.pure.u64(amount) : __privateMethod(this, _normalizeTransactionArgument, normalizeTransactionArgument_fn).call(this, amount)\n        )\n      )\n    );\n  }\n  mergeCoins(destination, sources) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.MergeCoins(\n        typeof destination === \"string\" ? this.object(destination) : destination,\n        sources.map((src) => typeof src === \"string\" ? this.object(src) : src)\n      )\n    );\n  }\n  publish({ modules, dependencies }) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.Publish({\n        modules,\n        dependencies\n      })\n    );\n  }\n  upgrade({\n    modules,\n    dependencies,\n    packageId,\n    ticket\n  }) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.Upgrade({\n        modules,\n        dependencies,\n        packageId,\n        ticket: typeof ticket === \"string\" ? this.object(ticket) : ticket\n      })\n    );\n  }\n  moveCall({\n    arguments: args,\n    typeArguments,\n    target\n  }) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.MoveCall({\n        arguments: args?.map((arg) => __privateMethod(this, _normalizeTransactionArgument, normalizeTransactionArgument_fn).call(this, arg)),\n        typeArguments,\n        target\n      })\n    );\n  }\n  transferObjects(objects, address) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.TransferObjects(\n        objects.map((obj) => typeof obj === \"string\" ? this.object(obj) : obj),\n        typeof address === \"string\" ? this.pure.address(address) : __privateMethod(this, _normalizeTransactionArgument, normalizeTransactionArgument_fn).call(this, address)\n      )\n    );\n  }\n  makeMoveVec({\n    type,\n    objects\n  }) {\n    return this.add(\n      _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.Transactions.MakeMoveVec({\n        type,\n        objects: objects.map((obj) => typeof obj === \"string\" ? this.object(obj) : obj)\n      })\n    );\n  }\n  /**\n   * Serialize the transaction to a string so that it can be sent to a separate context.\n   * This is different from `build` in that it does not serialize to BCS bytes, and instead\n   * uses a separate format that is unique to the transaction builder. This allows\n   * us to serialize partially-complete transactions, that can then be completed and\n   * built in a separate context.\n   *\n   * For example, a dapp can construct a transaction, but not provide gas objects\n   * or a gas budget. The transaction then can be sent to the wallet, where this\n   * information is automatically filled in (e.g. by querying for coin objects\n   * and performing a dry run).\n   */\n  serialize() {\n    return JSON.stringify(__privateGet(this, _blockData).snapshot());\n  }\n  /** Build the transaction to BCS bytes, and sign it with the provided keypair. */\n  async sign(options) {\n    const { signer, ...buildOptions } = options;\n    const bytes = await this.build(buildOptions);\n    return signer.signTransactionBlock(bytes);\n  }\n  /** Build the transaction to BCS bytes. */\n  async build(options = {}) {\n    await __privateMethod(this, _prepare, prepare_fn).call(this, options);\n    return __privateGet(this, _blockData).build({\n      maxSizeBytes: __privateMethod(this, _getConfig, getConfig_fn).call(this, \"maxTxSizeBytes\", options),\n      onlyTransactionKind: options.onlyTransactionKind\n    });\n  }\n  /** Derive transaction digest */\n  async getDigest(options = {}) {\n    await __privateMethod(this, _prepare, prepare_fn).call(this, options);\n    return __privateGet(this, _blockData).getDigest();\n  }\n};\nlet TransactionBlock = _TransactionBlock;\n_blockData = new WeakMap();\n_input = new WeakSet();\ninput_fn = function(type, value) {\n  const index = __privateGet(this, _blockData).inputs.length;\n  const input = (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.create)(\n    {\n      kind: \"Input\",\n      // bigints can't be serialized to JSON, so just string-convert them here:\n      value: typeof value === \"bigint\" ? String(value) : value,\n      index,\n      type\n    },\n    _Transactions_js__WEBPACK_IMPORTED_MODULE_8__.TransactionBlockInput\n  );\n  __privateGet(this, _blockData).inputs.push(input);\n  return input;\n};\n_normalizeTransactionArgument = new WeakSet();\nnormalizeTransactionArgument_fn = function(arg) {\n  if ((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.isSerializedBcs)(arg)) {\n    return this.pure(arg);\n  }\n  return arg;\n};\n_getConfig = new WeakSet();\ngetConfig_fn = function(key, { protocolConfig, limits }) {\n  if (limits && typeof limits[key] === \"number\") {\n    return limits[key];\n  }\n  if (!protocolConfig) {\n    return DefaultOfflineLimits[key];\n  }\n  const attribute = protocolConfig?.attributes[LIMITS[key]];\n  if (!attribute) {\n    throw new Error(`Missing expected protocol config: \"${LIMITS[key]}\"`);\n  }\n  const value = \"u64\" in attribute ? attribute.u64 : \"u32\" in attribute ? attribute.u32 : attribute.f64;\n  if (!value) {\n    throw new Error(`Unexpected protocol config value found for: \"${LIMITS[key]}\"`);\n  }\n  return Number(value);\n};\n_validate = new WeakSet();\nvalidate_fn = function(options) {\n  const maxPureArgumentSize = __privateMethod(this, _getConfig, getConfig_fn).call(this, \"maxPureArgumentSize\", options);\n  __privateGet(this, _blockData).inputs.forEach((input, index) => {\n    if ((0,superstruct__WEBPACK_IMPORTED_MODULE_3__.is)(input.value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.PureCallArg)) {\n      if (input.value.Pure.length > maxPureArgumentSize) {\n        throw new Error(\n          `Input at index ${index} is too large, max pure input size is ${maxPureArgumentSize} bytes, got ${input.value.Pure.length} bytes`\n        );\n      }\n    }\n  });\n};\n_prepareGasPayment = new WeakSet();\nprepareGasPayment_fn = async function(options) {\n  if (__privateGet(this, _blockData).gasConfig.payment) {\n    const maxGasObjects = __privateMethod(this, _getConfig, getConfig_fn).call(this, \"maxGasObjects\", options);\n    if (__privateGet(this, _blockData).gasConfig.payment.length > maxGasObjects) {\n      throw new Error(`Payment objects exceed maximum amount: ${maxGasObjects}`);\n    }\n  }\n  if (options.onlyTransactionKind || __privateGet(this, _blockData).gasConfig.payment) {\n    return;\n  }\n  const gasOwner = __privateGet(this, _blockData).gasConfig.owner ?? __privateGet(this, _blockData).sender;\n  const coins = await expectClient(options).getCoins({\n    owner: gasOwner,\n    coinType: _utils_index_js__WEBPACK_IMPORTED_MODULE_10__.SUI_TYPE_ARG\n  });\n  const paymentCoins = coins.data.filter((coin) => {\n    const matchingInput = __privateGet(this, _blockData).inputs.find((input) => {\n      if ((0,superstruct__WEBPACK_IMPORTED_MODULE_3__.is)(input.value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.BuilderCallArg) && \"Object\" in input.value && \"ImmOrOwned\" in input.value.Object) {\n        return coin.coinObjectId === input.value.Object.ImmOrOwned.objectId;\n      }\n      return false;\n    });\n    return !matchingInput;\n  }).slice(0, __privateMethod(this, _getConfig, getConfig_fn).call(this, \"maxGasObjects\", options) - 1).map((coin) => ({\n    objectId: coin.coinObjectId,\n    digest: coin.digest,\n    version: coin.version\n  }));\n  if (!paymentCoins.length) {\n    throw new Error(\"No valid gas coins found for the transaction.\");\n  }\n  this.setGasPayment(paymentCoins);\n};\n_prepareGasPrice = new WeakSet();\nprepareGasPrice_fn = async function(options) {\n  if (options.onlyTransactionKind || __privateGet(this, _blockData).gasConfig.price) {\n    return;\n  }\n  this.setGasPrice(await expectClient(options).getReferenceGasPrice());\n};\n_prepareTransactions = new WeakSet();\nprepareTransactions_fn = async function(options) {\n  const { inputs, transactions } = __privateGet(this, _blockData);\n  const moveModulesToResolve = [];\n  const objectsToResolve = [];\n  inputs.forEach((input) => {\n    if (input.type === \"object\" && typeof input.value === \"string\") {\n      objectsToResolve.push({ id: (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_7__.normalizeSuiAddress)(input.value), input });\n      return;\n    }\n  });\n  transactions.forEach((transaction) => {\n    if (transaction.kind === \"MoveCall\") {\n      const needsResolution = transaction.arguments.some(\n        (arg) => arg.kind === \"Input\" && !(0,superstruct__WEBPACK_IMPORTED_MODULE_3__.is)(inputs[arg.index].value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.BuilderCallArg)\n      );\n      if (needsResolution) {\n        moveModulesToResolve.push(transaction);\n      }\n    }\n    if (transaction.kind === \"SplitCoins\") {\n      transaction.amounts.forEach((amount) => {\n        if (amount.kind === \"Input\") {\n          const input = inputs[amount.index];\n          if (typeof input.value !== \"object\") {\n            input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.Pure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_11__.bcs.U64.serialize(input.value));\n          }\n        }\n      });\n    }\n    if (transaction.kind === \"TransferObjects\") {\n      if (transaction.address.kind === \"Input\") {\n        const input = inputs[transaction.address.index];\n        if (typeof input.value !== \"object\") {\n          input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.Pure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_11__.bcs.Address.serialize(input.value));\n        }\n      }\n    }\n  });\n  if (moveModulesToResolve.length) {\n    await Promise.all(\n      moveModulesToResolve.map(async (moveCall) => {\n        const [packageId, moduleName, functionName] = moveCall.target.split(\"::\");\n        const normalized = await expectClient(options).getNormalizedMoveFunction({\n          package: (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_7__.normalizeSuiObjectId)(packageId),\n          module: moduleName,\n          function: functionName\n        });\n        const hasTxContext = normalized.parameters.length > 0 && (0,_serializer_js__WEBPACK_IMPORTED_MODULE_12__.isTxContext)(normalized.parameters.at(-1));\n        const params = hasTxContext ? normalized.parameters.slice(0, normalized.parameters.length - 1) : normalized.parameters;\n        if (params.length !== moveCall.arguments.length) {\n          throw new Error(\"Incorrect number of arguments.\");\n        }\n        params.forEach((param, i) => {\n          const arg = moveCall.arguments[i];\n          if (arg.kind !== \"Input\")\n            return;\n          const input = inputs[arg.index];\n          if ((0,superstruct__WEBPACK_IMPORTED_MODULE_3__.is)(input.value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.BuilderCallArg))\n            return;\n          const inputValue = input.value;\n          const serType = (0,_serializer_js__WEBPACK_IMPORTED_MODULE_12__.getPureSerializationType)(param, inputValue);\n          if (serType) {\n            input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.Pure(inputValue, serType);\n            return;\n          }\n          const structVal = (0,_types_index_js__WEBPACK_IMPORTED_MODULE_0__.extractStructTag)(param);\n          if (structVal != null || typeof param === \"object\" && \"TypeParameter\" in param) {\n            if (typeof inputValue !== \"string\") {\n              throw new Error(\n                `Expect the argument to be an object id string, got ${JSON.stringify(\n                  inputValue,\n                  null,\n                  2\n                )}`\n              );\n            }\n            objectsToResolve.push({\n              id: inputValue,\n              input,\n              normalizedType: param\n            });\n            return;\n          }\n          throw new Error(\n            `Unknown call arg type ${JSON.stringify(param, null, 2)} for value ${JSON.stringify(\n              inputValue,\n              null,\n              2\n            )}`\n          );\n        });\n      })\n    );\n  }\n  if (objectsToResolve.length) {\n    const dedupedIds = [...new Set(objectsToResolve.map(({ id }) => id))];\n    const objectChunks = chunk(dedupedIds, MAX_OBJECTS_PER_FETCH);\n    const objects = (await Promise.all(\n      objectChunks.map(\n        (chunk2) => expectClient(options).multiGetObjects({\n          ids: chunk2,\n          options: { showOwner: true }\n        })\n      )\n    )).flat();\n    let objectsById = new Map(\n      dedupedIds.map((id, index) => {\n        return [id, objects[index]];\n      })\n    );\n    const invalidObjects = Array.from(objectsById).filter(([_, obj]) => obj.error).map(([id, _]) => id);\n    if (invalidObjects.length) {\n      throw new Error(`The following input objects are invalid: ${invalidObjects.join(\", \")}`);\n    }\n    objectsToResolve.forEach(({ id, input, normalizedType }) => {\n      const object = objectsById.get(id);\n      const owner = object.data?.owner;\n      const initialSharedVersion = owner && typeof owner === \"object\" && \"Shared\" in owner ? owner.Shared.initial_shared_version : void 0;\n      if (initialSharedVersion) {\n        const isByValue = normalizedType != null && (0,_types_index_js__WEBPACK_IMPORTED_MODULE_0__.extractMutableReference)(normalizedType) == null && (0,_types_index_js__WEBPACK_IMPORTED_MODULE_0__.extractReference)(normalizedType) == null;\n        const mutable = (0,_Inputs_js__WEBPACK_IMPORTED_MODULE_6__.isMutableSharedObjectInput)(input.value) || isByValue || normalizedType != null && (0,_types_index_js__WEBPACK_IMPORTED_MODULE_0__.extractMutableReference)(normalizedType) != null;\n        input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.SharedObjectRef({\n          objectId: id,\n          initialSharedVersion,\n          mutable\n        });\n      } else if (normalizedType && isReceivingType(normalizedType)) {\n        input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.ReceivingRef((0,_types_index_js__WEBPACK_IMPORTED_MODULE_4__.getObjectReference)(object));\n      } else {\n        input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.Inputs.ObjectRef((0,_types_index_js__WEBPACK_IMPORTED_MODULE_4__.getObjectReference)(object));\n      }\n    });\n  }\n};\n_prepare = new WeakSet();\nprepare_fn = async function(options) {\n  if (!options.onlyTransactionKind && !__privateGet(this, _blockData).sender) {\n    throw new Error(\"Missing transaction sender\");\n  }\n  if (!options.protocolConfig && !options.limits && options.client) {\n    options.protocolConfig = await options.client.getProtocolConfig();\n  }\n  await Promise.all([__privateMethod(this, _prepareGasPrice, prepareGasPrice_fn).call(this, options), __privateMethod(this, _prepareTransactions, prepareTransactions_fn).call(this, options)]);\n  if (!options.onlyTransactionKind) {\n    await __privateMethod(this, _prepareGasPayment, prepareGasPayment_fn).call(this, options);\n    if (!__privateGet(this, _blockData).gasConfig.budget) {\n      const dryRunResult = await expectClient(options).dryRunTransactionBlock({\n        transactionBlock: __privateGet(this, _blockData).build({\n          maxSizeBytes: __privateMethod(this, _getConfig, getConfig_fn).call(this, \"maxTxSizeBytes\", options),\n          overrides: {\n            gasConfig: {\n              budget: String(__privateMethod(this, _getConfig, getConfig_fn).call(this, \"maxTxGas\", options)),\n              payment: []\n            }\n          }\n        })\n      });\n      if (dryRunResult.effects.status.status !== \"success\") {\n        throw new Error(\n          `Dry run failed, could not automatically determine a budget: ${dryRunResult.effects.status.error}`,\n          { cause: dryRunResult }\n        );\n      }\n      const safeOverhead = GAS_SAFE_OVERHEAD * BigInt(this.blockData.gasConfig.price || 1n);\n      const baseComputationCostWithOverhead = BigInt(dryRunResult.effects.gasUsed.computationCost) + safeOverhead;\n      const gasBudget = baseComputationCostWithOverhead + BigInt(dryRunResult.effects.gasUsed.storageCost) - BigInt(dryRunResult.effects.gasUsed.storageRebate);\n      this.setGasBudget(\n        gasBudget > baseComputationCostWithOverhead ? gasBudget : baseComputationCostWithOverhead\n      );\n    }\n  }\n  __privateMethod(this, _validate, validate_fn).call(this, options);\n};\n\n//# sourceMappingURL=TransactionBlock.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvVHJhbnNhY3Rpb25CbG9jay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3VEO0FBQ2hCO0FBQ0Q7QUFPWDtBQUNzQjtBQUNpQztBQU83RDtBQUNrQjtBQUNpQztBQUNBO0FBQ0E7QUFDcEM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGNBQWMsaUVBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksc0NBQXNDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyxp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QUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EseUVBQXlFLGtDQUFrQztBQUMzRyxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS9idWlsZGVyL1RyYW5zYWN0aW9uQmxvY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX19wcml2YXRlTWV0aG9kID0gKG9iaiwgbWVtYmVyLCBtZXRob2QpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIik7XG4gIHJldHVybiBtZXRob2Q7XG59O1xudmFyIF9ibG9ja0RhdGEsIF9pbnB1dCwgaW5wdXRfZm4sIF9ub3JtYWxpemVUcmFuc2FjdGlvbkFyZ3VtZW50LCBub3JtYWxpemVUcmFuc2FjdGlvbkFyZ3VtZW50X2ZuLCBfZ2V0Q29uZmlnLCBnZXRDb25maWdfZm4sIF92YWxpZGF0ZSwgdmFsaWRhdGVfZm4sIF9wcmVwYXJlR2FzUGF5bWVudCwgcHJlcGFyZUdhc1BheW1lbnRfZm4sIF9wcmVwYXJlR2FzUHJpY2UsIHByZXBhcmVHYXNQcmljZV9mbiwgX3ByZXBhcmVUcmFuc2FjdGlvbnMsIHByZXBhcmVUcmFuc2FjdGlvbnNfZm4sIF9wcmVwYXJlLCBwcmVwYXJlX2ZuO1xuaW1wb3J0IHsgZnJvbUI2NCwgaXNTZXJpYWxpemVkQmNzIH0gZnJvbSBcIkBteXN0ZW4vYmNzXCI7XG5pbXBvcnQgeyBpcywgbWFzayB9IGZyb20gXCJzdXBlcnN0cnVjdFwiO1xuaW1wb3J0IHsgYmNzIH0gZnJvbSBcIi4uL2Jjcy9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgZXh0cmFjdE11dGFibGVSZWZlcmVuY2UsXG4gIGV4dHJhY3RSZWZlcmVuY2UsXG4gIGV4dHJhY3RTdHJ1Y3RUYWcsXG4gIGdldE9iamVjdFJlZmVyZW5jZSxcbiAgU3VpT2JqZWN0UmVmXG59IGZyb20gXCIuLi90eXBlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU1VJX1RZUEVfQVJHIH0gZnJvbSBcIi4uL3V0aWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBub3JtYWxpemVTdWlBZGRyZXNzLCBub3JtYWxpemVTdWlPYmplY3RJZCB9IGZyb20gXCIuLi91dGlscy9zdWktdHlwZXMuanNcIjtcbmltcG9ydCB7XG4gIEJ1aWxkZXJDYWxsQXJnLFxuICBnZXRJZEZyb21DYWxsQXJnLFxuICBJbnB1dHMsXG4gIGlzTXV0YWJsZVNoYXJlZE9iamVjdElucHV0LFxuICBQdXJlQ2FsbEFyZ1xufSBmcm9tIFwiLi9JbnB1dHMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVB1cmUgfSBmcm9tIFwiLi9wdXJlLmpzXCI7XG5pbXBvcnQgeyBnZXRQdXJlU2VyaWFsaXphdGlvblR5cGUsIGlzVHhDb250ZXh0IH0gZnJvbSBcIi4vc2VyaWFsaXplci5qc1wiO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25CbG9ja0RhdGFCdWlsZGVyIH0gZnJvbSBcIi4vVHJhbnNhY3Rpb25CbG9ja0RhdGEuanNcIjtcbmltcG9ydCB7IFRyYW5zYWN0aW9uQmxvY2tJbnB1dCwgVHJhbnNhY3Rpb25zIH0gZnJvbSBcIi4vVHJhbnNhY3Rpb25zLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuY29uc3QgRGVmYXVsdE9mZmxpbmVMaW1pdHMgPSB7XG4gIG1heFB1cmVBcmd1bWVudFNpemU6IDE2ICogMTAyNCxcbiAgbWF4VHhHYXM6IDVlMTAsXG4gIG1heEdhc09iamVjdHM6IDI1NixcbiAgbWF4VHhTaXplQnl0ZXM6IDEyOCAqIDEwMjRcbn07XG5mdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvblJlc3VsdChpbmRleCkge1xuICBjb25zdCBiYXNlUmVzdWx0ID0geyBraW5kOiBcIlJlc3VsdFwiLCBpbmRleCB9O1xuICBjb25zdCBuZXN0ZWRSZXN1bHRzID0gW107XG4gIGNvbnN0IG5lc3RlZFJlc3VsdEZvciA9IChyZXN1bHRJbmRleCkgPT4gbmVzdGVkUmVzdWx0c1tyZXN1bHRJbmRleF0gPz8gKG5lc3RlZFJlc3VsdHNbcmVzdWx0SW5kZXhdID0ge1xuICAgIGtpbmQ6IFwiTmVzdGVkUmVzdWx0XCIsXG4gICAgaW5kZXgsXG4gICAgcmVzdWx0SW5kZXhcbiAgfSk7XG4gIHJldHVybiBuZXcgUHJveHkoYmFzZVJlc3VsdCwge1xuICAgIHNldCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgdHJhbnNhY3Rpb24gcmVzdWx0IGlzIGEgcHJveHksIGFuZCBkb2VzIG5vdCBzdXBwb3J0IHNldHRpbmcgcHJvcGVydGllcyBkaXJlY3RseVwiXG4gICAgICApO1xuICAgIH0sXG4gICAgLy8gVE9ETzogSW5zdGVhZCBvZiBtYWtpbmcgdGhpcyByZXR1cm4gYSBjb25jcmV0ZSBhcmd1bWVudCwgd2Ugc2hvdWxkIGlkZWFsbHlcbiAgICAvLyBtYWtlIGl0IHJlZmVyZW5jZS1iYXNlZCAoc28gdGhhdCB0aGlzIGdldHMgcmVzb2x2ZWQgYXQgYnVpbGQtdGltZSksIHdoaWNoXG4gICAgLy8gYWxsb3dzIHJlLW9yZGVyaW5nIHRyYW5zYWN0aW9ucy5cbiAgICBnZXQodGFyZ2V0LCBwcm9wZXJ0eSkge1xuICAgICAgaWYgKHByb3BlcnR5IGluIHRhcmdldCkge1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcGVydHkgPT09IFN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIHlpZWxkIG5lc3RlZFJlc3VsdEZvcihpKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSBcInN5bWJvbFwiKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCByZXN1bHRJbmRleCA9IHBhcnNlSW50KHByb3BlcnR5LCAxMCk7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKHJlc3VsdEluZGV4KSB8fCByZXN1bHRJbmRleCA8IDApXG4gICAgICAgIHJldHVybjtcbiAgICAgIHJldHVybiBuZXN0ZWRSZXN1bHRGb3IocmVzdWx0SW5kZXgpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBpc1JlY2VpdmluZ1R5cGUobm9ybWFsaXplZFR5cGUpIHtcbiAgY29uc3QgdGFnID0gZXh0cmFjdFN0cnVjdFRhZyhub3JtYWxpemVkVHlwZSk7XG4gIGlmICh0YWcpIHtcbiAgICByZXR1cm4gdGFnLlN0cnVjdC5hZGRyZXNzID09PSBcIjB4MlwiICYmIHRhZy5TdHJ1Y3QubW9kdWxlID09PSBcInRyYW5zZmVyXCIgJiYgdGFnLlN0cnVjdC5uYW1lID09PSBcIlJlY2VpdmluZ1wiO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGV4cGVjdENsaWVudChvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucy5jbGllbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgTm8gcHJvdmlkZXIgcGFzc2VkIHRvIFRyYW5zYWN0aW9uI2J1aWxkLCBidXQgdHJhbnNhY3Rpb24gZGF0YSB3YXMgbm90IHN1ZmZpY2llbnQgdG8gYnVpbGQgb2ZmbGluZS5gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucy5jbGllbnQ7XG59XG5jb25zdCBUUkFOU0FDVElPTl9CUkFORCA9IFN5bWJvbC5mb3IoXCJAbXlzdGVuL3RyYW5zYWN0aW9uXCIpO1xuY29uc3QgTElNSVRTID0ge1xuICAvLyBUaGUgbWF4aW11bSBnYXMgdGhhdCBpcyBhbGxvd2VkLlxuICBtYXhUeEdhczogXCJtYXhfdHhfZ2FzXCIsXG4gIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBnYXMgb2JqZWN0cyB0aGF0IGNhbiBiZSBzZWxlY3RlZCBmb3Igb25lIHRyYW5zYWN0aW9uLlxuICBtYXhHYXNPYmplY3RzOiBcIm1heF9nYXNfcGF5bWVudF9vYmplY3RzXCIsXG4gIC8vIFRoZSBtYXhpbXVtIHNpemUgKGluIGJ5dGVzKSB0aGF0IHRoZSB0cmFuc2FjdGlvbiBjYW4gYmU6XG4gIG1heFR4U2l6ZUJ5dGVzOiBcIm1heF90eF9zaXplX2J5dGVzXCIsXG4gIC8vIFRoZSBtYXhpbXVtIHNpemUgKGluIGJ5dGVzKSB0aGF0IHB1cmUgYXJndW1lbnRzIGNhbiBiZTpcbiAgbWF4UHVyZUFyZ3VtZW50U2l6ZTogXCJtYXhfcHVyZV9hcmd1bWVudF9zaXplXCJcbn07XG5jb25zdCBHQVNfU0FGRV9PVkVSSEVBRCA9IDEwMDBuO1xuY29uc3QgTUFYX09CSkVDVFNfUEVSX0ZFVENIID0gNTA7XG5jb25zdCBjaHVuayA9IChhcnIsIHNpemUpID0+IEFycmF5LmZyb20oXG4gIHsgbGVuZ3RoOiBNYXRoLmNlaWwoYXJyLmxlbmd0aCAvIHNpemUpIH0sXG4gIChfLCBpKSA9PiBhcnIuc2xpY2UoaSAqIHNpemUsIGkgKiBzaXplICsgc2l6ZSlcbik7XG5mdW5jdGlvbiBpc1RyYW5zYWN0aW9uQmxvY2sob2JqKSB7XG4gIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIG9ialtUUkFOU0FDVElPTl9CUkFORF0gPT09IHRydWU7XG59XG5jb25zdCBfVHJhbnNhY3Rpb25CbG9jayA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodHJhbnNhY3Rpb24pIHtcbiAgICAvKipcbiAgICAgKiBEeW5hbWljYWxseSBjcmVhdGUgYSBuZXcgaW5wdXQsIHdoaWNoIGlzIHNlcGFyYXRlIGZyb20gdGhlIGBpbnB1dGAuIFRoaXMgaXMgaW1wb3J0YW50XG4gICAgICogZm9yIGdlbmVyYXRlZCBjbGllbnRzIHRvIGJlIGFibGUgdG8gZGVmaW5lIHVuaXF1ZSBpbnB1dHMgdGhhdCBhcmUgbm9uLW92ZXJsYXBwaW5nIHdpdGggdGhlXG4gICAgICogZGVmaW5lZCBpbnB1dHMuXG4gICAgICpcbiAgICAgKiBGb3IgYFVpbnQ4QXJyYXlgIHR5cGUgYXV0b21hdGljYWxseSBjb252ZXJ0IHRoZSBpbnB1dCBpbnRvIGEgYFB1cmVgIENhbGxBcmcsIHNpbmNlIHRoaXNcbiAgICAgKiBpcyB0aGUgZm9ybWF0IHJlcXVpcmVkIGZvciBjdXN0b20gc2VyaWFsaXphdGlvbi5cbiAgICAgKlxuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaW5wdXQpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbm9ybWFsaXplVHJhbnNhY3Rpb25Bcmd1bWVudCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9nZXRDb25maWcpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfdmFsaWRhdGUpO1xuICAgIC8vIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMganVzdCBwaWNraW5nIF9hbGxfIGNvaW5zIHdlIGNhbiB3aGljaCBtYXkgbm90IGJlIGlkZWFsLlxuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJlcGFyZUdhc1BheW1lbnQpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcHJlcGFyZUdhc1ByaWNlKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3ByZXBhcmVUcmFuc2FjdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIFByZXBhcmUgdGhlIHRyYW5zYWN0aW9uIGJ5IHZhbGRpYXRpbmcgdGhlIHRyYW5zYWN0aW9uIGRhdGEgYW5kIHJlc29sdmluZyBhbGwgaW5wdXRzXG4gICAgICogc28gdGhhdCBpdCBjYW4gYmUgYnVpbHQgaW50byBieXRlcy5cbiAgICAgKi9cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3ByZXBhcmUpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfYmxvY2tEYXRhLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfYmxvY2tEYXRhLCBuZXcgVHJhbnNhY3Rpb25CbG9ja0RhdGFCdWlsZGVyKFxuICAgICAgdHJhbnNhY3Rpb24gPyB0cmFuc2FjdGlvbi5ibG9ja0RhdGEgOiB2b2lkIDBcbiAgICApKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgZnJvbSBhIHNlcmlhbGl6ZSB0cmFuc2FjdGlvbiBraW5kIChidWlsdCB3aXRoIGBidWlsZCh7IG9ubHlUcmFuc2FjdGlvbktpbmQ6IHRydWUgfSlgKSB0byBhIGBUcmFuc2FjdGlvbmAgY2xhc3MuXG4gICAqIFN1cHBvcnRzIGVpdGhlciBhIGJ5dGUgYXJyYXksIG9yIGJhc2U2NC1lbmNvZGVkIGJ5dGVzLlxuICAgKi9cbiAgc3RhdGljIGZyb21LaW5kKHNlcmlhbGl6ZWQpIHtcbiAgICBjb25zdCB0eCA9IG5ldyBfVHJhbnNhY3Rpb25CbG9jaygpO1xuICAgIF9fcHJpdmF0ZVNldCh0eCwgX2Jsb2NrRGF0YSwgVHJhbnNhY3Rpb25CbG9ja0RhdGFCdWlsZGVyLmZyb21LaW5kQnl0ZXMoXG4gICAgICB0eXBlb2Ygc2VyaWFsaXplZCA9PT0gXCJzdHJpbmdcIiA/IGZyb21CNjQoc2VyaWFsaXplZCkgOiBzZXJpYWxpemVkXG4gICAgKSk7XG4gICAgcmV0dXJuIHR4O1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBmcm9tIGEgc2VyaWFsaXplZCB0cmFuc2FjdGlvbiBmb3JtYXQgdG8gYSBgVHJhbnNhY3Rpb25gIGNsYXNzLlxuICAgKiBUaGVyZSBhcmUgdHdvIHN1cHBvcnRlZCBzZXJpYWxpemVkIGZvcm1hdHM6XG4gICAqIC0gQSBzdHJpbmcgcmV0dXJuZWQgZnJvbSBgVHJhbnNhY3Rpb24jc2VyaWFsaXplYC4gVGhlIHNlcmlhbGl6ZWQgZm9ybWF0IG11c3QgYmUgY29tcGF0aWJsZSwgb3IgaXQgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogLSBBIGJ5dGUgYXJyYXkgKG9yIGJhc2U2NC1lbmNvZGVkIGJ5dGVzKSBjb250YWluaW5nIEJDUyB0cmFuc2FjdGlvbiBkYXRhLlxuICAgKi9cbiAgc3RhdGljIGZyb20oc2VyaWFsaXplZCkge1xuICAgIGNvbnN0IHR4ID0gbmV3IF9UcmFuc2FjdGlvbkJsb2NrKCk7XG4gICAgaWYgKHR5cGVvZiBzZXJpYWxpemVkICE9PSBcInN0cmluZ1wiIHx8ICFzZXJpYWxpemVkLnN0YXJ0c1dpdGgoXCJ7XCIpKSB7XG4gICAgICBfX3ByaXZhdGVTZXQodHgsIF9ibG9ja0RhdGEsIFRyYW5zYWN0aW9uQmxvY2tEYXRhQnVpbGRlci5mcm9tQnl0ZXMoXG4gICAgICAgIHR5cGVvZiBzZXJpYWxpemVkID09PSBcInN0cmluZ1wiID8gZnJvbUI2NChzZXJpYWxpemVkKSA6IHNlcmlhbGl6ZWRcbiAgICAgICkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfX3ByaXZhdGVTZXQodHgsIF9ibG9ja0RhdGEsIFRyYW5zYWN0aW9uQmxvY2tEYXRhQnVpbGRlci5yZXN0b3JlKEpTT04ucGFyc2Uoc2VyaWFsaXplZCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHR4O1xuICB9XG4gIHNldFNlbmRlcihzZW5kZXIpIHtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuc2VuZGVyID0gc2VuZGVyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZW5kZXIgb25seSBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBzZXQuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBzcG9uc29yZWQgdHJhbnNhY3Rpb24gZmxvd3Mgd2hlcmUgdGhlIHNlbmRlciBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZSBzaWduZXIgYWRkcmVzcy5cbiAgICovXG4gIHNldFNlbmRlcklmTm90U2V0KHNlbmRlcikge1xuICAgIGlmICghX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLnNlbmRlcikge1xuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLnNlbmRlciA9IHNlbmRlcjtcbiAgICB9XG4gIH1cbiAgc2V0RXhwaXJhdGlvbihleHBpcmF0aW9uKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLmV4cGlyYXRpb24gPSBleHBpcmF0aW9uO1xuICB9XG4gIHNldEdhc1ByaWNlKHByaWNlKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLmdhc0NvbmZpZy5wcmljZSA9IFN0cmluZyhwcmljZSk7XG4gIH1cbiAgc2V0R2FzQnVkZ2V0KGJ1ZGdldCkge1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5nYXNDb25maWcuYnVkZ2V0ID0gU3RyaW5nKGJ1ZGdldCk7XG4gIH1cbiAgc2V0R2FzT3duZXIob3duZXIpIHtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuZ2FzQ29uZmlnLm93bmVyID0gb3duZXI7XG4gIH1cbiAgc2V0R2FzUGF5bWVudChwYXltZW50cykge1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5nYXNDb25maWcucGF5bWVudCA9IHBheW1lbnRzLm1hcCgocGF5bWVudCkgPT4gbWFzayhwYXltZW50LCBTdWlPYmplY3RSZWYpKTtcbiAgfVxuICAvKiogR2V0IGEgc25hcHNob3Qgb2YgdGhlIHRyYW5zYWN0aW9uIGRhdGEsIGluIEpTT04gZm9ybTogKi9cbiAgZ2V0IGJsb2NrRGF0YSgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLnNuYXBzaG90KCk7XG4gIH1cbiAgLy8gVXNlZCB0byBicmFuZCB0cmFuc2FjdGlvbiBjbGFzc2VzIHNvIHRoYXQgdGhleSBjYW4gYmUgaWRlbnRpZmllZCwgZXZlbiBiZXR3ZWVuIG11bHRpcGxlIGNvcGllc1xuICAvLyBvZiB0aGUgYnVpbGRlci5cbiAgZ2V0IFtUUkFOU0FDVElPTl9CUkFORF0oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIHRoZSB3YWxsZXQgaW50ZXJmYWNlIGFjY2lkZW50YWxseSBzZXJpYWxpemluZyB0cmFuc2FjdGlvbiBibG9ja3MgdmlhIHBvc3RNZXNzYWdlXG4gIGdldCBwdXJlKCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInB1cmVcIiwge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogY3JlYXRlUHVyZSgodmFsdWUsIHR5cGUpID0+IHtcbiAgICAgICAgaWYgKGlzU2VyaWFsaXplZEJjcyh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gX19wcml2YXRlTWV0aG9kKHRoaXMsIF9pbnB1dCwgaW5wdXRfZm4pLmNhbGwodGhpcywgXCJwdXJlXCIsIHtcbiAgICAgICAgICAgIFB1cmU6IEFycmF5LmZyb20odmFsdWUudG9CeXRlcygpKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfX3ByaXZhdGVNZXRob2QodGhpcywgX2lucHV0LCBpbnB1dF9mbikuY2FsbCh0aGlzLCBcInB1cmVcIiwgdmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gSW5wdXRzLlB1cmUodmFsdWUpIDogdHlwZSA/IElucHV0cy5QdXJlKHZhbHVlLCB0eXBlKSA6IHZhbHVlKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucHVyZTtcbiAgfVxuICAvKiogUmV0dXJucyBhbiBhcmd1bWVudCBmb3IgdGhlIGdhcyBjb2luLCB0byBiZSB1c2VkIGluIGEgdHJhbnNhY3Rpb24uICovXG4gIGdldCBnYXMoKSB7XG4gICAgcmV0dXJuIHsga2luZDogXCJHYXNDb2luXCIgfTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgbmV3IG9iamVjdCBpbnB1dCB0byB0aGUgdHJhbnNhY3Rpb24uXG4gICAqL1xuICBvYmplY3QodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFwia2luZFwiIGluIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IGlkID0gZ2V0SWRGcm9tQ2FsbEFyZyh2YWx1ZSk7XG4gICAgY29uc3QgaW5zZXJ0ZWQgPSBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuaW5wdXRzLmZpbmQoXG4gICAgICAoaSkgPT4gaS50eXBlID09PSBcIm9iamVjdFwiICYmIGlkID09PSBnZXRJZEZyb21DYWxsQXJnKGkudmFsdWUpXG4gICAgKTtcbiAgICByZXR1cm4gaW5zZXJ0ZWQgPz8gX19wcml2YXRlTWV0aG9kKHRoaXMsIF9pbnB1dCwgaW5wdXRfZm4pLmNhbGwodGhpcywgXCJvYmplY3RcIiwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gbm9ybWFsaXplU3VpQWRkcmVzcyh2YWx1ZSkgOiB2YWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBvYmplY3QgaW5wdXQgdG8gdGhlIHRyYW5zYWN0aW9uIHVzaW5nIHRoZSBmdWxseS1yZXNvbHZlZCBvYmplY3QgcmVmZXJlbmNlLlxuICAgKiBJZiB5b3Ugb25seSBoYXZlIGFuIG9iamVjdCBJRCwgdXNlIGBidWlsZGVyLm9iamVjdChpZClgIGluc3RlYWQuXG4gICAqL1xuICBvYmplY3RSZWYoLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLm9iamVjdChJbnB1dHMuT2JqZWN0UmVmKC4uLmFyZ3MpKTtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgbmV3IHJlY2VpdmluZyBpbnB1dCB0byB0aGUgdHJhbnNhY3Rpb24gdXNpbmcgdGhlIGZ1bGx5LXJlc29sdmVkIG9iamVjdCByZWZlcmVuY2UuXG4gICAqIElmIHlvdSBvbmx5IGhhdmUgYW4gb2JqZWN0IElELCB1c2UgYGJ1aWxkZXIub2JqZWN0KGlkKWAgaW5zdGVhZC5cbiAgICovXG4gIHJlY2VpdmluZ1JlZiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KElucHV0cy5SZWNlaXZpbmdSZWYoLi4uYXJncykpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgc2hhcmVkIG9iamVjdCBpbnB1dCB0byB0aGUgdHJhbnNhY3Rpb24gdXNpbmcgdGhlIGZ1bGx5LXJlc29sdmVkIHNoYXJlZCBvYmplY3QgcmVmZXJlbmNlLlxuICAgKiBJZiB5b3Ugb25seSBoYXZlIGFuIG9iamVjdCBJRCwgdXNlIGBidWlsZGVyLm9iamVjdChpZClgIGluc3RlYWQuXG4gICAqL1xuICBzaGFyZWRPYmplY3RSZWYoLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLm9iamVjdChJbnB1dHMuU2hhcmVkT2JqZWN0UmVmKC4uLmFyZ3MpKTtcbiAgfVxuICAvKiogQWRkIGEgdHJhbnNhY3Rpb24gdG8gdGhlIHRyYW5zYWN0aW9uIGJsb2NrLiAqL1xuICBhZGQodHJhbnNhY3Rpb24pIHtcbiAgICBjb25zdCBpbmRleCA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS50cmFuc2FjdGlvbnMucHVzaCh0cmFuc2FjdGlvbik7XG4gICAgcmV0dXJuIGNyZWF0ZVRyYW5zYWN0aW9uUmVzdWx0KGluZGV4IC0gMSk7XG4gIH1cbiAgLy8gTWV0aG9kIHNob3J0aGFuZHM6XG4gIHNwbGl0Q29pbnMoY29pbiwgYW1vdW50cykge1xuICAgIHJldHVybiB0aGlzLmFkZChcbiAgICAgIFRyYW5zYWN0aW9ucy5TcGxpdENvaW5zKFxuICAgICAgICB0eXBlb2YgY29pbiA9PT0gXCJzdHJpbmdcIiA/IHRoaXMub2JqZWN0KGNvaW4pIDogY29pbixcbiAgICAgICAgYW1vdW50cy5tYXAoXG4gICAgICAgICAgKGFtb3VudCkgPT4gdHlwZW9mIGFtb3VudCA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYW1vdW50ID09PSBcImJpZ2ludFwiIHx8IHR5cGVvZiBhbW91bnQgPT09IFwic3RyaW5nXCIgPyB0aGlzLnB1cmUudTY0KGFtb3VudCkgOiBfX3ByaXZhdGVNZXRob2QodGhpcywgX25vcm1hbGl6ZVRyYW5zYWN0aW9uQXJndW1lbnQsIG5vcm1hbGl6ZVRyYW5zYWN0aW9uQXJndW1lbnRfZm4pLmNhbGwodGhpcywgYW1vdW50KVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBtZXJnZUNvaW5zKGRlc3RpbmF0aW9uLCBzb3VyY2VzKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKFxuICAgICAgVHJhbnNhY3Rpb25zLk1lcmdlQ29pbnMoXG4gICAgICAgIHR5cGVvZiBkZXN0aW5hdGlvbiA9PT0gXCJzdHJpbmdcIiA/IHRoaXMub2JqZWN0KGRlc3RpbmF0aW9uKSA6IGRlc3RpbmF0aW9uLFxuICAgICAgICBzb3VyY2VzLm1hcCgoc3JjKSA9PiB0eXBlb2Ygc3JjID09PSBcInN0cmluZ1wiID8gdGhpcy5vYmplY3Qoc3JjKSA6IHNyYylcbiAgICAgIClcbiAgICApO1xuICB9XG4gIHB1Ymxpc2goeyBtb2R1bGVzLCBkZXBlbmRlbmNpZXMgfSkge1xuICAgIHJldHVybiB0aGlzLmFkZChcbiAgICAgIFRyYW5zYWN0aW9ucy5QdWJsaXNoKHtcbiAgICAgICAgbW9kdWxlcyxcbiAgICAgICAgZGVwZW5kZW5jaWVzXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgdXBncmFkZSh7XG4gICAgbW9kdWxlcyxcbiAgICBkZXBlbmRlbmNpZXMsXG4gICAgcGFja2FnZUlkLFxuICAgIHRpY2tldFxuICB9KSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkKFxuICAgICAgVHJhbnNhY3Rpb25zLlVwZ3JhZGUoe1xuICAgICAgICBtb2R1bGVzLFxuICAgICAgICBkZXBlbmRlbmNpZXMsXG4gICAgICAgIHBhY2thZ2VJZCxcbiAgICAgICAgdGlja2V0OiB0eXBlb2YgdGlja2V0ID09PSBcInN0cmluZ1wiID8gdGhpcy5vYmplY3QodGlja2V0KSA6IHRpY2tldFxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIG1vdmVDYWxsKHtcbiAgICBhcmd1bWVudHM6IGFyZ3MsXG4gICAgdHlwZUFyZ3VtZW50cyxcbiAgICB0YXJnZXRcbiAgfSkge1xuICAgIHJldHVybiB0aGlzLmFkZChcbiAgICAgIFRyYW5zYWN0aW9ucy5Nb3ZlQ2FsbCh7XG4gICAgICAgIGFyZ3VtZW50czogYXJncz8ubWFwKChhcmcpID0+IF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfbm9ybWFsaXplVHJhbnNhY3Rpb25Bcmd1bWVudCwgbm9ybWFsaXplVHJhbnNhY3Rpb25Bcmd1bWVudF9mbikuY2FsbCh0aGlzLCBhcmcpKSxcbiAgICAgICAgdHlwZUFyZ3VtZW50cyxcbiAgICAgICAgdGFyZ2V0XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgdHJhbnNmZXJPYmplY3RzKG9iamVjdHMsIGFkZHJlc3MpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoXG4gICAgICBUcmFuc2FjdGlvbnMuVHJhbnNmZXJPYmplY3RzKFxuICAgICAgICBvYmplY3RzLm1hcCgob2JqKSA9PiB0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiID8gdGhpcy5vYmplY3Qob2JqKSA6IG9iaiksXG4gICAgICAgIHR5cGVvZiBhZGRyZXNzID09PSBcInN0cmluZ1wiID8gdGhpcy5wdXJlLmFkZHJlc3MoYWRkcmVzcykgOiBfX3ByaXZhdGVNZXRob2QodGhpcywgX25vcm1hbGl6ZVRyYW5zYWN0aW9uQXJndW1lbnQsIG5vcm1hbGl6ZVRyYW5zYWN0aW9uQXJndW1lbnRfZm4pLmNhbGwodGhpcywgYWRkcmVzcylcbiAgICAgIClcbiAgICApO1xuICB9XG4gIG1ha2VNb3ZlVmVjKHtcbiAgICB0eXBlLFxuICAgIG9iamVjdHNcbiAgfSkge1xuICAgIHJldHVybiB0aGlzLmFkZChcbiAgICAgIFRyYW5zYWN0aW9ucy5NYWtlTW92ZVZlYyh7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIG9iamVjdHM6IG9iamVjdHMubWFwKChvYmopID0+IHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIgPyB0aGlzLm9iamVjdChvYmopIDogb2JqKVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTZXJpYWxpemUgdGhlIHRyYW5zYWN0aW9uIHRvIGEgc3RyaW5nIHNvIHRoYXQgaXQgY2FuIGJlIHNlbnQgdG8gYSBzZXBhcmF0ZSBjb250ZXh0LlxuICAgKiBUaGlzIGlzIGRpZmZlcmVudCBmcm9tIGBidWlsZGAgaW4gdGhhdCBpdCBkb2VzIG5vdCBzZXJpYWxpemUgdG8gQkNTIGJ5dGVzLCBhbmQgaW5zdGVhZFxuICAgKiB1c2VzIGEgc2VwYXJhdGUgZm9ybWF0IHRoYXQgaXMgdW5pcXVlIHRvIHRoZSB0cmFuc2FjdGlvbiBidWlsZGVyLiBUaGlzIGFsbG93c1xuICAgKiB1cyB0byBzZXJpYWxpemUgcGFydGlhbGx5LWNvbXBsZXRlIHRyYW5zYWN0aW9ucywgdGhhdCBjYW4gdGhlbiBiZSBjb21wbGV0ZWQgYW5kXG4gICAqIGJ1aWx0IGluIGEgc2VwYXJhdGUgY29udGV4dC5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIGEgZGFwcCBjYW4gY29uc3RydWN0IGEgdHJhbnNhY3Rpb24sIGJ1dCBub3QgcHJvdmlkZSBnYXMgb2JqZWN0c1xuICAgKiBvciBhIGdhcyBidWRnZXQuIFRoZSB0cmFuc2FjdGlvbiB0aGVuIGNhbiBiZSBzZW50IHRvIHRoZSB3YWxsZXQsIHdoZXJlIHRoaXNcbiAgICogaW5mb3JtYXRpb24gaXMgYXV0b21hdGljYWxseSBmaWxsZWQgaW4gKGUuZy4gYnkgcXVlcnlpbmcgZm9yIGNvaW4gb2JqZWN0c1xuICAgKiBhbmQgcGVyZm9ybWluZyBhIGRyeSBydW4pLlxuICAgKi9cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuc25hcHNob3QoKSk7XG4gIH1cbiAgLyoqIEJ1aWxkIHRoZSB0cmFuc2FjdGlvbiB0byBCQ1MgYnl0ZXMsIGFuZCBzaWduIGl0IHdpdGggdGhlIHByb3ZpZGVkIGtleXBhaXIuICovXG4gIGFzeW5jIHNpZ24ob3B0aW9ucykge1xuICAgIGNvbnN0IHsgc2lnbmVyLCAuLi5idWlsZE9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYnl0ZXMgPSBhd2FpdCB0aGlzLmJ1aWxkKGJ1aWxkT3B0aW9ucyk7XG4gICAgcmV0dXJuIHNpZ25lci5zaWduVHJhbnNhY3Rpb25CbG9jayhieXRlcyk7XG4gIH1cbiAgLyoqIEJ1aWxkIHRoZSB0cmFuc2FjdGlvbiB0byBCQ1MgYnl0ZXMuICovXG4gIGFzeW5jIGJ1aWxkKG9wdGlvbnMgPSB7fSkge1xuICAgIGF3YWl0IF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfcHJlcGFyZSwgcHJlcGFyZV9mbikuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLmJ1aWxkKHtcbiAgICAgIG1heFNpemVCeXRlczogX19wcml2YXRlTWV0aG9kKHRoaXMsIF9nZXRDb25maWcsIGdldENvbmZpZ19mbikuY2FsbCh0aGlzLCBcIm1heFR4U2l6ZUJ5dGVzXCIsIG9wdGlvbnMpLFxuICAgICAgb25seVRyYW5zYWN0aW9uS2luZDogb3B0aW9ucy5vbmx5VHJhbnNhY3Rpb25LaW5kXG4gICAgfSk7XG4gIH1cbiAgLyoqIERlcml2ZSB0cmFuc2FjdGlvbiBkaWdlc3QgKi9cbiAgYXN5bmMgZ2V0RGlnZXN0KG9wdGlvbnMgPSB7fSkge1xuICAgIGF3YWl0IF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfcHJlcGFyZSwgcHJlcGFyZV9mbikuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLmdldERpZ2VzdCgpO1xuICB9XG59O1xubGV0IFRyYW5zYWN0aW9uQmxvY2sgPSBfVHJhbnNhY3Rpb25CbG9jaztcbl9ibG9ja0RhdGEgPSBuZXcgV2Vha01hcCgpO1xuX2lucHV0ID0gbmV3IFdlYWtTZXQoKTtcbmlucHV0X2ZuID0gZnVuY3Rpb24odHlwZSwgdmFsdWUpIHtcbiAgY29uc3QgaW5kZXggPSBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuaW5wdXRzLmxlbmd0aDtcbiAgY29uc3QgaW5wdXQgPSBjcmVhdGUoXG4gICAge1xuICAgICAga2luZDogXCJJbnB1dFwiLFxuICAgICAgLy8gYmlnaW50cyBjYW4ndCBiZSBzZXJpYWxpemVkIHRvIEpTT04sIHNvIGp1c3Qgc3RyaW5nLWNvbnZlcnQgdGhlbSBoZXJlOlxuICAgICAgdmFsdWU6IHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIiA/IFN0cmluZyh2YWx1ZSkgOiB2YWx1ZSxcbiAgICAgIGluZGV4LFxuICAgICAgdHlwZVxuICAgIH0sXG4gICAgVHJhbnNhY3Rpb25CbG9ja0lucHV0XG4gICk7XG4gIF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5pbnB1dHMucHVzaChpbnB1dCk7XG4gIHJldHVybiBpbnB1dDtcbn07XG5fbm9ybWFsaXplVHJhbnNhY3Rpb25Bcmd1bWVudCA9IG5ldyBXZWFrU2V0KCk7XG5ub3JtYWxpemVUcmFuc2FjdGlvbkFyZ3VtZW50X2ZuID0gZnVuY3Rpb24oYXJnKSB7XG4gIGlmIChpc1NlcmlhbGl6ZWRCY3MoYXJnKSkge1xuICAgIHJldHVybiB0aGlzLnB1cmUoYXJnKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufTtcbl9nZXRDb25maWcgPSBuZXcgV2Vha1NldCgpO1xuZ2V0Q29uZmlnX2ZuID0gZnVuY3Rpb24oa2V5LCB7IHByb3RvY29sQ29uZmlnLCBsaW1pdHMgfSkge1xuICBpZiAobGltaXRzICYmIHR5cGVvZiBsaW1pdHNba2V5XSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBsaW1pdHNba2V5XTtcbiAgfVxuICBpZiAoIXByb3RvY29sQ29uZmlnKSB7XG4gICAgcmV0dXJuIERlZmF1bHRPZmZsaW5lTGltaXRzW2tleV07XG4gIH1cbiAgY29uc3QgYXR0cmlidXRlID0gcHJvdG9jb2xDb25maWc/LmF0dHJpYnV0ZXNbTElNSVRTW2tleV1dO1xuICBpZiAoIWF0dHJpYnV0ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBleHBlY3RlZCBwcm90b2NvbCBjb25maWc6IFwiJHtMSU1JVFNba2V5XX1cImApO1xuICB9XG4gIGNvbnN0IHZhbHVlID0gXCJ1NjRcIiBpbiBhdHRyaWJ1dGUgPyBhdHRyaWJ1dGUudTY0IDogXCJ1MzJcIiBpbiBhdHRyaWJ1dGUgPyBhdHRyaWJ1dGUudTMyIDogYXR0cmlidXRlLmY2NDtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBwcm90b2NvbCBjb25maWcgdmFsdWUgZm91bmQgZm9yOiBcIiR7TElNSVRTW2tleV19XCJgKTtcbiAgfVxuICByZXR1cm4gTnVtYmVyKHZhbHVlKTtcbn07XG5fdmFsaWRhdGUgPSBuZXcgV2Vha1NldCgpO1xudmFsaWRhdGVfZm4gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGNvbnN0IG1heFB1cmVBcmd1bWVudFNpemUgPSBfX3ByaXZhdGVNZXRob2QodGhpcywgX2dldENvbmZpZywgZ2V0Q29uZmlnX2ZuKS5jYWxsKHRoaXMsIFwibWF4UHVyZUFyZ3VtZW50U2l6ZVwiLCBvcHRpb25zKTtcbiAgX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLmlucHV0cy5mb3JFYWNoKChpbnB1dCwgaW5kZXgpID0+IHtcbiAgICBpZiAoaXMoaW5wdXQudmFsdWUsIFB1cmVDYWxsQXJnKSkge1xuICAgICAgaWYgKGlucHV0LnZhbHVlLlB1cmUubGVuZ3RoID4gbWF4UHVyZUFyZ3VtZW50U2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYElucHV0IGF0IGluZGV4ICR7aW5kZXh9IGlzIHRvbyBsYXJnZSwgbWF4IHB1cmUgaW5wdXQgc2l6ZSBpcyAke21heFB1cmVBcmd1bWVudFNpemV9IGJ5dGVzLCBnb3QgJHtpbnB1dC52YWx1ZS5QdXJlLmxlbmd0aH0gYnl0ZXNgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5fcHJlcGFyZUdhc1BheW1lbnQgPSBuZXcgV2Vha1NldCgpO1xucHJlcGFyZUdhc1BheW1lbnRfZm4gPSBhc3luYyBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuZ2FzQ29uZmlnLnBheW1lbnQpIHtcbiAgICBjb25zdCBtYXhHYXNPYmplY3RzID0gX19wcml2YXRlTWV0aG9kKHRoaXMsIF9nZXRDb25maWcsIGdldENvbmZpZ19mbikuY2FsbCh0aGlzLCBcIm1heEdhc09iamVjdHNcIiwgb3B0aW9ucyk7XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5nYXNDb25maWcucGF5bWVudC5sZW5ndGggPiBtYXhHYXNPYmplY3RzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBheW1lbnQgb2JqZWN0cyBleGNlZWQgbWF4aW11bSBhbW91bnQ6ICR7bWF4R2FzT2JqZWN0c31gKTtcbiAgICB9XG4gIH1cbiAgaWYgKG9wdGlvbnMub25seVRyYW5zYWN0aW9uS2luZCB8fCBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuZ2FzQ29uZmlnLnBheW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZ2FzT3duZXIgPSBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuZ2FzQ29uZmlnLm93bmVyID8/IF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5zZW5kZXI7XG4gIGNvbnN0IGNvaW5zID0gYXdhaXQgZXhwZWN0Q2xpZW50KG9wdGlvbnMpLmdldENvaW5zKHtcbiAgICBvd25lcjogZ2FzT3duZXIsXG4gICAgY29pblR5cGU6IFNVSV9UWVBFX0FSR1xuICB9KTtcbiAgY29uc3QgcGF5bWVudENvaW5zID0gY29pbnMuZGF0YS5maWx0ZXIoKGNvaW4pID0+IHtcbiAgICBjb25zdCBtYXRjaGluZ0lucHV0ID0gX19wcml2YXRlR2V0KHRoaXMsIF9ibG9ja0RhdGEpLmlucHV0cy5maW5kKChpbnB1dCkgPT4ge1xuICAgICAgaWYgKGlzKGlucHV0LnZhbHVlLCBCdWlsZGVyQ2FsbEFyZykgJiYgXCJPYmplY3RcIiBpbiBpbnB1dC52YWx1ZSAmJiBcIkltbU9yT3duZWRcIiBpbiBpbnB1dC52YWx1ZS5PYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGNvaW4uY29pbk9iamVjdElkID09PSBpbnB1dC52YWx1ZS5PYmplY3QuSW1tT3JPd25lZC5vYmplY3RJZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICByZXR1cm4gIW1hdGNoaW5nSW5wdXQ7XG4gIH0pLnNsaWNlKDAsIF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfZ2V0Q29uZmlnLCBnZXRDb25maWdfZm4pLmNhbGwodGhpcywgXCJtYXhHYXNPYmplY3RzXCIsIG9wdGlvbnMpIC0gMSkubWFwKChjb2luKSA9PiAoe1xuICAgIG9iamVjdElkOiBjb2luLmNvaW5PYmplY3RJZCxcbiAgICBkaWdlc3Q6IGNvaW4uZGlnZXN0LFxuICAgIHZlcnNpb246IGNvaW4udmVyc2lvblxuICB9KSk7XG4gIGlmICghcGF5bWVudENvaW5zLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbGlkIGdhcyBjb2lucyBmb3VuZCBmb3IgdGhlIHRyYW5zYWN0aW9uLlwiKTtcbiAgfVxuICB0aGlzLnNldEdhc1BheW1lbnQocGF5bWVudENvaW5zKTtcbn07XG5fcHJlcGFyZUdhc1ByaWNlID0gbmV3IFdlYWtTZXQoKTtcbnByZXBhcmVHYXNQcmljZV9mbiA9IGFzeW5jIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMub25seVRyYW5zYWN0aW9uS2luZCB8fCBfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuZ2FzQ29uZmlnLnByaWNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuc2V0R2FzUHJpY2UoYXdhaXQgZXhwZWN0Q2xpZW50KG9wdGlvbnMpLmdldFJlZmVyZW5jZUdhc1ByaWNlKCkpO1xufTtcbl9wcmVwYXJlVHJhbnNhY3Rpb25zID0gbmV3IFdlYWtTZXQoKTtcbnByZXBhcmVUcmFuc2FjdGlvbnNfZm4gPSBhc3luYyBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGNvbnN0IHsgaW5wdXRzLCB0cmFuc2FjdGlvbnMgfSA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKTtcbiAgY29uc3QgbW92ZU1vZHVsZXNUb1Jlc29sdmUgPSBbXTtcbiAgY29uc3Qgb2JqZWN0c1RvUmVzb2x2ZSA9IFtdO1xuICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBpZiAoaW5wdXQudHlwZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgaW5wdXQudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG9iamVjdHNUb1Jlc29sdmUucHVzaCh7IGlkOiBub3JtYWxpemVTdWlBZGRyZXNzKGlucHV0LnZhbHVlKSwgaW5wdXQgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcbiAgdHJhbnNhY3Rpb25zLmZvckVhY2goKHRyYW5zYWN0aW9uKSA9PiB7XG4gICAgaWYgKHRyYW5zYWN0aW9uLmtpbmQgPT09IFwiTW92ZUNhbGxcIikge1xuICAgICAgY29uc3QgbmVlZHNSZXNvbHV0aW9uID0gdHJhbnNhY3Rpb24uYXJndW1lbnRzLnNvbWUoXG4gICAgICAgIChhcmcpID0+IGFyZy5raW5kID09PSBcIklucHV0XCIgJiYgIWlzKGlucHV0c1thcmcuaW5kZXhdLnZhbHVlLCBCdWlsZGVyQ2FsbEFyZylcbiAgICAgICk7XG4gICAgICBpZiAobmVlZHNSZXNvbHV0aW9uKSB7XG4gICAgICAgIG1vdmVNb2R1bGVzVG9SZXNvbHZlLnB1c2godHJhbnNhY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHJhbnNhY3Rpb24ua2luZCA9PT0gXCJTcGxpdENvaW5zXCIpIHtcbiAgICAgIHRyYW5zYWN0aW9uLmFtb3VudHMuZm9yRWFjaCgoYW1vdW50KSA9PiB7XG4gICAgICAgIGlmIChhbW91bnQua2luZCA9PT0gXCJJbnB1dFwiKSB7XG4gICAgICAgICAgY29uc3QgaW5wdXQgPSBpbnB1dHNbYW1vdW50LmluZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGlucHV0LnZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IElucHV0cy5QdXJlKGJjcy5VNjQuc2VyaWFsaXplKGlucHV0LnZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRyYW5zYWN0aW9uLmtpbmQgPT09IFwiVHJhbnNmZXJPYmplY3RzXCIpIHtcbiAgICAgIGlmICh0cmFuc2FjdGlvbi5hZGRyZXNzLmtpbmQgPT09IFwiSW5wdXRcIikge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGlucHV0c1t0cmFuc2FjdGlvbi5hZGRyZXNzLmluZGV4XTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC52YWx1ZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlucHV0LnZhbHVlID0gSW5wdXRzLlB1cmUoYmNzLkFkZHJlc3Muc2VyaWFsaXplKGlucHV0LnZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAobW92ZU1vZHVsZXNUb1Jlc29sdmUubGVuZ3RoKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBtb3ZlTW9kdWxlc1RvUmVzb2x2ZS5tYXAoYXN5bmMgKG1vdmVDYWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IFtwYWNrYWdlSWQsIG1vZHVsZU5hbWUsIGZ1bmN0aW9uTmFtZV0gPSBtb3ZlQ2FsbC50YXJnZXQuc3BsaXQoXCI6OlwiKTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGF3YWl0IGV4cGVjdENsaWVudChvcHRpb25zKS5nZXROb3JtYWxpemVkTW92ZUZ1bmN0aW9uKHtcbiAgICAgICAgICBwYWNrYWdlOiBub3JtYWxpemVTdWlPYmplY3RJZChwYWNrYWdlSWQpLFxuICAgICAgICAgIG1vZHVsZTogbW9kdWxlTmFtZSxcbiAgICAgICAgICBmdW5jdGlvbjogZnVuY3Rpb25OYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBoYXNUeENvbnRleHQgPSBub3JtYWxpemVkLnBhcmFtZXRlcnMubGVuZ3RoID4gMCAmJiBpc1R4Q29udGV4dChub3JtYWxpemVkLnBhcmFtZXRlcnMuYXQoLTEpKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gaGFzVHhDb250ZXh0ID8gbm9ybWFsaXplZC5wYXJhbWV0ZXJzLnNsaWNlKDAsIG5vcm1hbGl6ZWQucGFyYW1ldGVycy5sZW5ndGggLSAxKSA6IG5vcm1hbGl6ZWQucGFyYW1ldGVycztcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggIT09IG1vdmVDYWxsLmFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvcnJlY3QgbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zLmZvckVhY2goKHBhcmFtLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXJnID0gbW92ZUNhbGwuYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGlmIChhcmcua2luZCAhPT0gXCJJbnB1dFwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzW2FyZy5pbmRleF07XG4gICAgICAgICAgaWYgKGlzKGlucHV0LnZhbHVlLCBCdWlsZGVyQ2FsbEFyZykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IGlucHV0LnZhbHVlO1xuICAgICAgICAgIGNvbnN0IHNlclR5cGUgPSBnZXRQdXJlU2VyaWFsaXphdGlvblR5cGUocGFyYW0sIGlucHV0VmFsdWUpO1xuICAgICAgICAgIGlmIChzZXJUeXBlKSB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IElucHV0cy5QdXJlKGlucHV0VmFsdWUsIHNlclR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdHJ1Y3RWYWwgPSBleHRyYWN0U3RydWN0VGFnKHBhcmFtKTtcbiAgICAgICAgICBpZiAoc3RydWN0VmFsICE9IG51bGwgfHwgdHlwZW9mIHBhcmFtID09PSBcIm9iamVjdFwiICYmIFwiVHlwZVBhcmFtZXRlclwiIGluIHBhcmFtKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0VmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGBFeHBlY3QgdGhlIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCBpZCBzdHJpbmcsIGdvdCAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgKX1gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmplY3RzVG9SZXNvbHZlLnB1c2goe1xuICAgICAgICAgICAgICBpZDogaW5wdXRWYWx1ZSxcbiAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgIG5vcm1hbGl6ZWRUeXBlOiBwYXJhbVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBVbmtub3duIGNhbGwgYXJnIHR5cGUgJHtKU09OLnN0cmluZ2lmeShwYXJhbSwgbnVsbCwgMil9IGZvciB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICBpbnB1dFZhbHVlLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAyXG4gICAgICAgICAgICApfWBcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBpZiAob2JqZWN0c1RvUmVzb2x2ZS5sZW5ndGgpIHtcbiAgICBjb25zdCBkZWR1cGVkSWRzID0gWy4uLm5ldyBTZXQob2JqZWN0c1RvUmVzb2x2ZS5tYXAoKHsgaWQgfSkgPT4gaWQpKV07XG4gICAgY29uc3Qgb2JqZWN0Q2h1bmtzID0gY2h1bmsoZGVkdXBlZElkcywgTUFYX09CSkVDVFNfUEVSX0ZFVENIKTtcbiAgICBjb25zdCBvYmplY3RzID0gKGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgb2JqZWN0Q2h1bmtzLm1hcChcbiAgICAgICAgKGNodW5rMikgPT4gZXhwZWN0Q2xpZW50KG9wdGlvbnMpLm11bHRpR2V0T2JqZWN0cyh7XG4gICAgICAgICAgaWRzOiBjaHVuazIsXG4gICAgICAgICAgb3B0aW9uczogeyBzaG93T3duZXI6IHRydWUgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICkpLmZsYXQoKTtcbiAgICBsZXQgb2JqZWN0c0J5SWQgPSBuZXcgTWFwKFxuICAgICAgZGVkdXBlZElkcy5tYXAoKGlkLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gW2lkLCBvYmplY3RzW2luZGV4XV07XG4gICAgICB9KVxuICAgICk7XG4gICAgY29uc3QgaW52YWxpZE9iamVjdHMgPSBBcnJheS5mcm9tKG9iamVjdHNCeUlkKS5maWx0ZXIoKFtfLCBvYmpdKSA9PiBvYmouZXJyb3IpLm1hcCgoW2lkLCBfXSkgPT4gaWQpO1xuICAgIGlmIChpbnZhbGlkT2JqZWN0cy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGZvbGxvd2luZyBpbnB1dCBvYmplY3RzIGFyZSBpbnZhbGlkOiAke2ludmFsaWRPYmplY3RzLmpvaW4oXCIsIFwiKX1gKTtcbiAgICB9XG4gICAgb2JqZWN0c1RvUmVzb2x2ZS5mb3JFYWNoKCh7IGlkLCBpbnB1dCwgbm9ybWFsaXplZFR5cGUgfSkgPT4ge1xuICAgICAgY29uc3Qgb2JqZWN0ID0gb2JqZWN0c0J5SWQuZ2V0KGlkKTtcbiAgICAgIGNvbnN0IG93bmVyID0gb2JqZWN0LmRhdGE/Lm93bmVyO1xuICAgICAgY29uc3QgaW5pdGlhbFNoYXJlZFZlcnNpb24gPSBvd25lciAmJiB0eXBlb2Ygb3duZXIgPT09IFwib2JqZWN0XCIgJiYgXCJTaGFyZWRcIiBpbiBvd25lciA/IG93bmVyLlNoYXJlZC5pbml0aWFsX3NoYXJlZF92ZXJzaW9uIDogdm9pZCAwO1xuICAgICAgaWYgKGluaXRpYWxTaGFyZWRWZXJzaW9uKSB7XG4gICAgICAgIGNvbnN0IGlzQnlWYWx1ZSA9IG5vcm1hbGl6ZWRUeXBlICE9IG51bGwgJiYgZXh0cmFjdE11dGFibGVSZWZlcmVuY2Uobm9ybWFsaXplZFR5cGUpID09IG51bGwgJiYgZXh0cmFjdFJlZmVyZW5jZShub3JtYWxpemVkVHlwZSkgPT0gbnVsbDtcbiAgICAgICAgY29uc3QgbXV0YWJsZSA9IGlzTXV0YWJsZVNoYXJlZE9iamVjdElucHV0KGlucHV0LnZhbHVlKSB8fCBpc0J5VmFsdWUgfHwgbm9ybWFsaXplZFR5cGUgIT0gbnVsbCAmJiBleHRyYWN0TXV0YWJsZVJlZmVyZW5jZShub3JtYWxpemVkVHlwZSkgIT0gbnVsbDtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBJbnB1dHMuU2hhcmVkT2JqZWN0UmVmKHtcbiAgICAgICAgICBvYmplY3RJZDogaWQsXG4gICAgICAgICAgaW5pdGlhbFNoYXJlZFZlcnNpb24sXG4gICAgICAgICAgbXV0YWJsZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFR5cGUgJiYgaXNSZWNlaXZpbmdUeXBlKG5vcm1hbGl6ZWRUeXBlKSkge1xuICAgICAgICBpbnB1dC52YWx1ZSA9IElucHV0cy5SZWNlaXZpbmdSZWYoZ2V0T2JqZWN0UmVmZXJlbmNlKG9iamVjdCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBJbnB1dHMuT2JqZWN0UmVmKGdldE9iamVjdFJlZmVyZW5jZShvYmplY3QpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbl9wcmVwYXJlID0gbmV3IFdlYWtTZXQoKTtcbnByZXBhcmVfZm4gPSBhc3luYyBmdW5jdGlvbihvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucy5vbmx5VHJhbnNhY3Rpb25LaW5kICYmICFfX3ByaXZhdGVHZXQodGhpcywgX2Jsb2NrRGF0YSkuc2VuZGVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB0cmFuc2FjdGlvbiBzZW5kZXJcIik7XG4gIH1cbiAgaWYgKCFvcHRpb25zLnByb3RvY29sQ29uZmlnICYmICFvcHRpb25zLmxpbWl0cyAmJiBvcHRpb25zLmNsaWVudCkge1xuICAgIG9wdGlvbnMucHJvdG9jb2xDb25maWcgPSBhd2FpdCBvcHRpb25zLmNsaWVudC5nZXRQcm90b2NvbENvbmZpZygpO1xuICB9XG4gIGF3YWl0IFByb21pc2UuYWxsKFtfX3ByaXZhdGVNZXRob2QodGhpcywgX3ByZXBhcmVHYXNQcmljZSwgcHJlcGFyZUdhc1ByaWNlX2ZuKS5jYWxsKHRoaXMsIG9wdGlvbnMpLCBfX3ByaXZhdGVNZXRob2QodGhpcywgX3ByZXBhcmVUcmFuc2FjdGlvbnMsIHByZXBhcmVUcmFuc2FjdGlvbnNfZm4pLmNhbGwodGhpcywgb3B0aW9ucyldKTtcbiAgaWYgKCFvcHRpb25zLm9ubHlUcmFuc2FjdGlvbktpbmQpIHtcbiAgICBhd2FpdCBfX3ByaXZhdGVNZXRob2QodGhpcywgX3ByZXBhcmVHYXNQYXltZW50LCBwcmVwYXJlR2FzUGF5bWVudF9mbikuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5nYXNDb25maWcuYnVkZ2V0KSB7XG4gICAgICBjb25zdCBkcnlSdW5SZXN1bHQgPSBhd2FpdCBleHBlY3RDbGllbnQob3B0aW9ucykuZHJ5UnVuVHJhbnNhY3Rpb25CbG9jayh7XG4gICAgICAgIHRyYW5zYWN0aW9uQmxvY2s6IF9fcHJpdmF0ZUdldCh0aGlzLCBfYmxvY2tEYXRhKS5idWlsZCh7XG4gICAgICAgICAgbWF4U2l6ZUJ5dGVzOiBfX3ByaXZhdGVNZXRob2QodGhpcywgX2dldENvbmZpZywgZ2V0Q29uZmlnX2ZuKS5jYWxsKHRoaXMsIFwibWF4VHhTaXplQnl0ZXNcIiwgb3B0aW9ucyksXG4gICAgICAgICAgb3ZlcnJpZGVzOiB7XG4gICAgICAgICAgICBnYXNDb25maWc6IHtcbiAgICAgICAgICAgICAgYnVkZ2V0OiBTdHJpbmcoX19wcml2YXRlTWV0aG9kKHRoaXMsIF9nZXRDb25maWcsIGdldENvbmZpZ19mbikuY2FsbCh0aGlzLCBcIm1heFR4R2FzXCIsIG9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgcGF5bWVudDogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIGlmIChkcnlSdW5SZXN1bHQuZWZmZWN0cy5zdGF0dXMuc3RhdHVzICE9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYERyeSBydW4gZmFpbGVkLCBjb3VsZCBub3QgYXV0b21hdGljYWxseSBkZXRlcm1pbmUgYSBidWRnZXQ6ICR7ZHJ5UnVuUmVzdWx0LmVmZmVjdHMuc3RhdHVzLmVycm9yfWAsXG4gICAgICAgICAgeyBjYXVzZTogZHJ5UnVuUmVzdWx0IH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNhZmVPdmVyaGVhZCA9IEdBU19TQUZFX09WRVJIRUFEICogQmlnSW50KHRoaXMuYmxvY2tEYXRhLmdhc0NvbmZpZy5wcmljZSB8fCAxbik7XG4gICAgICBjb25zdCBiYXNlQ29tcHV0YXRpb25Db3N0V2l0aE92ZXJoZWFkID0gQmlnSW50KGRyeVJ1blJlc3VsdC5lZmZlY3RzLmdhc1VzZWQuY29tcHV0YXRpb25Db3N0KSArIHNhZmVPdmVyaGVhZDtcbiAgICAgIGNvbnN0IGdhc0J1ZGdldCA9IGJhc2VDb21wdXRhdGlvbkNvc3RXaXRoT3ZlcmhlYWQgKyBCaWdJbnQoZHJ5UnVuUmVzdWx0LmVmZmVjdHMuZ2FzVXNlZC5zdG9yYWdlQ29zdCkgLSBCaWdJbnQoZHJ5UnVuUmVzdWx0LmVmZmVjdHMuZ2FzVXNlZC5zdG9yYWdlUmViYXRlKTtcbiAgICAgIHRoaXMuc2V0R2FzQnVkZ2V0KFxuICAgICAgICBnYXNCdWRnZXQgPiBiYXNlQ29tcHV0YXRpb25Db3N0V2l0aE92ZXJoZWFkID8gZ2FzQnVkZ2V0IDogYmFzZUNvbXB1dGF0aW9uQ29zdFdpdGhPdmVyaGVhZFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgX19wcml2YXRlTWV0aG9kKHRoaXMsIF92YWxpZGF0ZSwgdmFsaWRhdGVfZm4pLmNhbGwodGhpcywgb3B0aW9ucyk7XG59O1xuZXhwb3J0IHtcbiAgVHJhbnNhY3Rpb25CbG9jayxcbiAgaXNUcmFuc2FjdGlvbkJsb2NrXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNhY3Rpb25CbG9jay5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlock.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlockData.js":
/*!**********************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlockData.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SerializedTransactionDataBuilder: () => (/* binding */ SerializedTransactionDataBuilder),\n/* harmony export */   TransactionBlockDataBuilder: () => (/* binding */ TransactionBlockDataBuilder),\n/* harmony export */   TransactionExpiration: () => (/* binding */ TransactionExpiration)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _bcs_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../bcs/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js\");\n/* harmony import */ var _types_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/objects.js\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _hash_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./hash.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/hash.js\");\n/* harmony import */ var _Inputs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Inputs.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Inputs.js\");\n/* harmony import */ var _Transactions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Transactions.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Transactions.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/utils.js\");\n\n\n\n\n\n\n\n\n\nconst TransactionExpiration = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)(\n    (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ Epoch: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)() }), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ None: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(true), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(null)]) })])\n  )\n);\nconst StringEncodedBigint = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.define)(\"StringEncodedBigint\", (val) => {\n  if (![\"string\", \"number\", \"bigint\"].includes(typeof val))\n    return false;\n  try {\n    BigInt(val);\n    return true;\n  } catch {\n    return false;\n  }\n});\nconst GasConfig = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  budget: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(StringEncodedBigint),\n  price: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(StringEncodedBigint),\n  payment: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(_types_index_js__WEBPACK_IMPORTED_MODULE_1__.SuiObjectRef)),\n  owner: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())\n});\nconst SerializedTransactionDataBuilder = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(1),\n  sender: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  expiration: TransactionExpiration,\n  gasConfig: GasConfig,\n  inputs: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(_Transactions_js__WEBPACK_IMPORTED_MODULE_2__.TransactionBlockInput),\n  transactions: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(_Transactions_js__WEBPACK_IMPORTED_MODULE_2__.TransactionType)\n});\nfunction prepareSuiAddress(address) {\n  return (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_3__.normalizeSuiAddress)(address).replace(\"0x\", \"\");\n}\nclass TransactionBlockDataBuilder {\n  constructor(clone) {\n    this.version = 1;\n    this.sender = clone?.sender;\n    this.expiration = clone?.expiration;\n    this.gasConfig = clone?.gasConfig ?? {};\n    this.inputs = clone?.inputs ?? [];\n    this.transactions = clone?.transactions ?? [];\n  }\n  static fromKindBytes(bytes) {\n    const kind = _bcs_index_js__WEBPACK_IMPORTED_MODULE_4__.bcs.TransactionKind.parse(bytes);\n    const programmableTx = \"ProgrammableTransaction\" in kind ? kind.ProgrammableTransaction : null;\n    if (!programmableTx) {\n      throw new Error(\"Unable to deserialize from bytes.\");\n    }\n    const serialized = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.create)(\n      {\n        version: 1,\n        gasConfig: {},\n        inputs: programmableTx.inputs.map(\n          (value, index) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.create)(\n            {\n              kind: \"Input\",\n              value,\n              index,\n              type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.PureCallArg) ? \"pure\" : \"object\"\n            },\n            _Transactions_js__WEBPACK_IMPORTED_MODULE_2__.TransactionBlockInput\n          )\n        ),\n        transactions: programmableTx.transactions\n      },\n      SerializedTransactionDataBuilder\n    );\n    return TransactionBlockDataBuilder.restore(serialized);\n  }\n  static fromBytes(bytes) {\n    const rawData = _bcs_index_js__WEBPACK_IMPORTED_MODULE_4__.bcs.TransactionData.parse(bytes);\n    const data = rawData?.V1;\n    const programmableTx = \"ProgrammableTransaction\" in data.kind ? data?.kind?.ProgrammableTransaction : null;\n    if (!data || !programmableTx) {\n      throw new Error(\"Unable to deserialize from bytes.\");\n    }\n    const serialized = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.create)(\n      {\n        version: 1,\n        sender: data.sender,\n        expiration: data.expiration,\n        gasConfig: data.gasData,\n        inputs: programmableTx.inputs.map(\n          (value, index) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.create)(\n            {\n              kind: \"Input\",\n              value,\n              index,\n              type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.PureCallArg) ? \"pure\" : \"object\"\n            },\n            _Transactions_js__WEBPACK_IMPORTED_MODULE_2__.TransactionBlockInput\n          )\n        ),\n        transactions: programmableTx.transactions\n      },\n      SerializedTransactionDataBuilder\n    );\n    return TransactionBlockDataBuilder.restore(serialized);\n  }\n  static restore(data) {\n    (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assert)(data, SerializedTransactionDataBuilder);\n    const transactionData = new TransactionBlockDataBuilder();\n    Object.assign(transactionData, data);\n    return transactionData;\n  }\n  /**\n   * Generate transaction digest.\n   *\n   * @param bytes BCS serialized transaction data\n   * @returns transaction digest.\n   */\n  static getDigestFromBytes(bytes) {\n    const hash = (0,_hash_js__WEBPACK_IMPORTED_MODULE_7__.hashTypedData)(\"TransactionData\", bytes);\n    return (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_8__.toB58)(hash);\n  }\n  build({\n    maxSizeBytes = Infinity,\n    overrides,\n    onlyTransactionKind\n  } = {}) {\n    const inputs = this.inputs.map((input) => {\n      (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assert)(input.value, _Inputs_js__WEBPACK_IMPORTED_MODULE_6__.BuilderCallArg);\n      return input.value;\n    });\n    const kind = {\n      ProgrammableTransaction: {\n        inputs,\n        transactions: this.transactions\n      }\n    };\n    if (onlyTransactionKind) {\n      return _bcs_index_js__WEBPACK_IMPORTED_MODULE_4__.bcs.TransactionKind.serialize(kind, { maxSize: maxSizeBytes }).toBytes();\n    }\n    const expiration = overrides?.expiration ?? this.expiration;\n    const sender = overrides?.sender ?? this.sender;\n    const gasConfig = { ...this.gasConfig, ...overrides?.gasConfig };\n    if (!sender) {\n      throw new Error(\"Missing transaction sender\");\n    }\n    if (!gasConfig.budget) {\n      throw new Error(\"Missing gas budget\");\n    }\n    if (!gasConfig.payment) {\n      throw new Error(\"Missing gas payment\");\n    }\n    if (!gasConfig.price) {\n      throw new Error(\"Missing gas price\");\n    }\n    const transactionData = {\n      sender: prepareSuiAddress(sender),\n      expiration: expiration ? expiration : { None: true },\n      gasData: {\n        payment: gasConfig.payment,\n        owner: prepareSuiAddress(this.gasConfig.owner ?? sender),\n        price: BigInt(gasConfig.price),\n        budget: BigInt(gasConfig.budget)\n      },\n      kind: {\n        ProgrammableTransaction: {\n          inputs,\n          transactions: this.transactions\n        }\n      }\n    };\n    return _bcs_index_js__WEBPACK_IMPORTED_MODULE_4__.bcs.TransactionData.serialize(\n      { V1: transactionData },\n      { maxSize: maxSizeBytes }\n    ).toBytes();\n  }\n  getDigest() {\n    const bytes = this.build({ onlyTransactionKind: false });\n    return TransactionBlockDataBuilder.getDigestFromBytes(bytes);\n  }\n  snapshot() {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.create)(this, SerializedTransactionDataBuilder);\n  }\n}\n\n//# sourceMappingURL=TransactionBlockData.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvVHJhbnNhY3Rpb25CbG9ja0RhdGEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQW9DO0FBYWY7QUFDaUI7QUFDVztBQUNXO0FBQ2xCO0FBQ2dCO0FBQ2lCO0FBQ3ZDO0FBQ3BDLDhCQUE4QixxREFBUTtBQUN0QyxFQUFFLHFEQUFRO0FBQ1YsSUFBSSxrREFBSyxFQUFFLG1EQUFNLEdBQUcsT0FBTyxvREFBTyxJQUFJLEdBQUcsbURBQU0sR0FBRyxNQUFNLGtEQUFLLEVBQUUsb0RBQU8sUUFBUSxvREFBTyxVQUFVO0FBQy9GO0FBQ0E7QUFDQSw0QkFBNEIsbURBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFrQixtREFBTTtBQUN4QixVQUFVLHFEQUFRO0FBQ2xCLFNBQVMscURBQVE7QUFDakIsV0FBVyxxREFBUSxDQUFDLGtEQUFLLENBQUMseURBQVk7QUFDdEMsU0FBUyxxREFBUSxDQUFDLG1EQUFNO0FBQ3hCLENBQUM7QUFDRCx5Q0FBeUMsbURBQU07QUFDL0MsV0FBVyxvREFBTztBQUNsQixVQUFVLHFEQUFRLENBQUMsbURBQU07QUFDekI7QUFDQTtBQUNBLFVBQVUsa0RBQUssQ0FBQyxtRUFBcUI7QUFDckMsZ0JBQWdCLGtEQUFLLENBQUMsNkRBQWU7QUFDckMsQ0FBQztBQUNEO0FBQ0EsU0FBUyx3RUFBbUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBRztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpREFBTTtBQUM3QjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsNEJBQTRCLGlEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUFFLFFBQVEsbURBQVc7QUFDekMsYUFBYTtBQUNiLFlBQVksbUVBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFHO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaURBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtDQUFFLFFBQVEsbURBQVc7QUFDekMsYUFBYTtBQUNiLFlBQVksbUVBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtREFBTTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdURBQWE7QUFDOUIsV0FBVyxrREFBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1I7QUFDQSxNQUFNLG1EQUFNLGNBQWMsc0RBQWM7QUFDeEM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhDQUFHLG1DQUFtQyx1QkFBdUI7QUFDMUU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsWUFBWTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4Q0FBRztBQUNkLFFBQVEscUJBQXFCO0FBQzdCLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNEJBQTRCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQU07QUFDakI7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vYnVpbGRlci9UcmFuc2FjdGlvbkJsb2NrRGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b0I1OCB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHtcbiAgYXJyYXksXG4gIGFzc2VydCxcbiAgZGVmaW5lLFxuICBpbnRlZ2VyLFxuICBpcyxcbiAgbGl0ZXJhbCxcbiAgbnVsbGFibGUsXG4gIG9iamVjdCxcbiAgb3B0aW9uYWwsXG4gIHN0cmluZyxcbiAgdW5pb25cbn0gZnJvbSBcInN1cGVyc3RydWN0XCI7XG5pbXBvcnQgeyBiY3MgfSBmcm9tIFwiLi4vYmNzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBTdWlPYmplY3RSZWYgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZVN1aUFkZHJlc3MgfSBmcm9tIFwiLi4vdXRpbHMvc3VpLXR5cGVzLmpzXCI7XG5pbXBvcnQgeyBoYXNoVHlwZWREYXRhIH0gZnJvbSBcIi4vaGFzaC5qc1wiO1xuaW1wb3J0IHsgQnVpbGRlckNhbGxBcmcsIFB1cmVDYWxsQXJnIH0gZnJvbSBcIi4vSW5wdXRzLmpzXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbkJsb2NrSW5wdXQsIFRyYW5zYWN0aW9uVHlwZSB9IGZyb20gXCIuL1RyYW5zYWN0aW9ucy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmNvbnN0IFRyYW5zYWN0aW9uRXhwaXJhdGlvbiA9IG9wdGlvbmFsKFxuICBudWxsYWJsZShcbiAgICB1bmlvbihbb2JqZWN0KHsgRXBvY2g6IGludGVnZXIoKSB9KSwgb2JqZWN0KHsgTm9uZTogdW5pb24oW2xpdGVyYWwodHJ1ZSksIGxpdGVyYWwobnVsbCldKSB9KV0pXG4gIClcbik7XG5jb25zdCBTdHJpbmdFbmNvZGVkQmlnaW50ID0gZGVmaW5lKFwiU3RyaW5nRW5jb2RlZEJpZ2ludFwiLCAodmFsKSA9PiB7XG4gIGlmICghW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiYmlnaW50XCJdLmluY2x1ZGVzKHR5cGVvZiB2YWwpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgdHJ5IHtcbiAgICBCaWdJbnQodmFsKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KTtcbmNvbnN0IEdhc0NvbmZpZyA9IG9iamVjdCh7XG4gIGJ1ZGdldDogb3B0aW9uYWwoU3RyaW5nRW5jb2RlZEJpZ2ludCksXG4gIHByaWNlOiBvcHRpb25hbChTdHJpbmdFbmNvZGVkQmlnaW50KSxcbiAgcGF5bWVudDogb3B0aW9uYWwoYXJyYXkoU3VpT2JqZWN0UmVmKSksXG4gIG93bmVyOiBvcHRpb25hbChzdHJpbmcoKSlcbn0pO1xuY29uc3QgU2VyaWFsaXplZFRyYW5zYWN0aW9uRGF0YUJ1aWxkZXIgPSBvYmplY3Qoe1xuICB2ZXJzaW9uOiBsaXRlcmFsKDEpLFxuICBzZW5kZXI6IG9wdGlvbmFsKHN0cmluZygpKSxcbiAgZXhwaXJhdGlvbjogVHJhbnNhY3Rpb25FeHBpcmF0aW9uLFxuICBnYXNDb25maWc6IEdhc0NvbmZpZyxcbiAgaW5wdXRzOiBhcnJheShUcmFuc2FjdGlvbkJsb2NrSW5wdXQpLFxuICB0cmFuc2FjdGlvbnM6IGFycmF5KFRyYW5zYWN0aW9uVHlwZSlcbn0pO1xuZnVuY3Rpb24gcHJlcGFyZVN1aUFkZHJlc3MoYWRkcmVzcykge1xuICByZXR1cm4gbm9ybWFsaXplU3VpQWRkcmVzcyhhZGRyZXNzKS5yZXBsYWNlKFwiMHhcIiwgXCJcIik7XG59XG5jbGFzcyBUcmFuc2FjdGlvbkJsb2NrRGF0YUJ1aWxkZXIge1xuICBjb25zdHJ1Y3RvcihjbG9uZSkge1xuICAgIHRoaXMudmVyc2lvbiA9IDE7XG4gICAgdGhpcy5zZW5kZXIgPSBjbG9uZT8uc2VuZGVyO1xuICAgIHRoaXMuZXhwaXJhdGlvbiA9IGNsb25lPy5leHBpcmF0aW9uO1xuICAgIHRoaXMuZ2FzQ29uZmlnID0gY2xvbmU/Lmdhc0NvbmZpZyA/PyB7fTtcbiAgICB0aGlzLmlucHV0cyA9IGNsb25lPy5pbnB1dHMgPz8gW107XG4gICAgdGhpcy50cmFuc2FjdGlvbnMgPSBjbG9uZT8udHJhbnNhY3Rpb25zID8/IFtdO1xuICB9XG4gIHN0YXRpYyBmcm9tS2luZEJ5dGVzKGJ5dGVzKSB7XG4gICAgY29uc3Qga2luZCA9IGJjcy5UcmFuc2FjdGlvbktpbmQucGFyc2UoYnl0ZXMpO1xuICAgIGNvbnN0IHByb2dyYW1tYWJsZVR4ID0gXCJQcm9ncmFtbWFibGVUcmFuc2FjdGlvblwiIGluIGtpbmQgPyBraW5kLlByb2dyYW1tYWJsZVRyYW5zYWN0aW9uIDogbnVsbDtcbiAgICBpZiAoIXByb2dyYW1tYWJsZVR4KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVzZXJpYWxpemUgZnJvbSBieXRlcy5cIik7XG4gICAgfVxuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBjcmVhdGUoXG4gICAgICB7XG4gICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgIGdhc0NvbmZpZzoge30sXG4gICAgICAgIGlucHV0czogcHJvZ3JhbW1hYmxlVHguaW5wdXRzLm1hcChcbiAgICAgICAgICAodmFsdWUsIGluZGV4KSA9PiBjcmVhdGUoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGtpbmQ6IFwiSW5wdXRcIixcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICB0eXBlOiBpcyh2YWx1ZSwgUHVyZUNhbGxBcmcpID8gXCJwdXJlXCIgOiBcIm9iamVjdFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVHJhbnNhY3Rpb25CbG9ja0lucHV0XG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICB0cmFuc2FjdGlvbnM6IHByb2dyYW1tYWJsZVR4LnRyYW5zYWN0aW9uc1xuICAgICAgfSxcbiAgICAgIFNlcmlhbGl6ZWRUcmFuc2FjdGlvbkRhdGFCdWlsZGVyXG4gICAgKTtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb25CbG9ja0RhdGFCdWlsZGVyLnJlc3RvcmUoc2VyaWFsaXplZCk7XG4gIH1cbiAgc3RhdGljIGZyb21CeXRlcyhieXRlcykge1xuICAgIGNvbnN0IHJhd0RhdGEgPSBiY3MuVHJhbnNhY3Rpb25EYXRhLnBhcnNlKGJ5dGVzKTtcbiAgICBjb25zdCBkYXRhID0gcmF3RGF0YT8uVjE7XG4gICAgY29uc3QgcHJvZ3JhbW1hYmxlVHggPSBcIlByb2dyYW1tYWJsZVRyYW5zYWN0aW9uXCIgaW4gZGF0YS5raW5kID8gZGF0YT8ua2luZD8uUHJvZ3JhbW1hYmxlVHJhbnNhY3Rpb24gOiBudWxsO1xuICAgIGlmICghZGF0YSB8fCAhcHJvZ3JhbW1hYmxlVHgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZXNlcmlhbGl6ZSBmcm9tIGJ5dGVzLlwiKTtcbiAgICB9XG4gICAgY29uc3Qgc2VyaWFsaXplZCA9IGNyZWF0ZShcbiAgICAgIHtcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgc2VuZGVyOiBkYXRhLnNlbmRlcixcbiAgICAgICAgZXhwaXJhdGlvbjogZGF0YS5leHBpcmF0aW9uLFxuICAgICAgICBnYXNDb25maWc6IGRhdGEuZ2FzRGF0YSxcbiAgICAgICAgaW5wdXRzOiBwcm9ncmFtbWFibGVUeC5pbnB1dHMubWFwKFxuICAgICAgICAgICh2YWx1ZSwgaW5kZXgpID0+IGNyZWF0ZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2luZDogXCJJbnB1dFwiLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgIHR5cGU6IGlzKHZhbHVlLCBQdXJlQ2FsbEFyZykgPyBcInB1cmVcIiA6IFwib2JqZWN0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBUcmFuc2FjdGlvbkJsb2NrSW5wdXRcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIHRyYW5zYWN0aW9uczogcHJvZ3JhbW1hYmxlVHgudHJhbnNhY3Rpb25zXG4gICAgICB9LFxuICAgICAgU2VyaWFsaXplZFRyYW5zYWN0aW9uRGF0YUJ1aWxkZXJcbiAgICApO1xuICAgIHJldHVybiBUcmFuc2FjdGlvbkJsb2NrRGF0YUJ1aWxkZXIucmVzdG9yZShzZXJpYWxpemVkKTtcbiAgfVxuICBzdGF0aWMgcmVzdG9yZShkYXRhKSB7XG4gICAgYXNzZXJ0KGRhdGEsIFNlcmlhbGl6ZWRUcmFuc2FjdGlvbkRhdGFCdWlsZGVyKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvbkRhdGEgPSBuZXcgVHJhbnNhY3Rpb25CbG9ja0RhdGFCdWlsZGVyKCk7XG4gICAgT2JqZWN0LmFzc2lnbih0cmFuc2FjdGlvbkRhdGEsIGRhdGEpO1xuICAgIHJldHVybiB0cmFuc2FjdGlvbkRhdGE7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRyYW5zYWN0aW9uIGRpZ2VzdC5cbiAgICpcbiAgICogQHBhcmFtIGJ5dGVzIEJDUyBzZXJpYWxpemVkIHRyYW5zYWN0aW9uIGRhdGFcbiAgICogQHJldHVybnMgdHJhbnNhY3Rpb24gZGlnZXN0LlxuICAgKi9cbiAgc3RhdGljIGdldERpZ2VzdEZyb21CeXRlcyhieXRlcykge1xuICAgIGNvbnN0IGhhc2ggPSBoYXNoVHlwZWREYXRhKFwiVHJhbnNhY3Rpb25EYXRhXCIsIGJ5dGVzKTtcbiAgICByZXR1cm4gdG9CNTgoaGFzaCk7XG4gIH1cbiAgYnVpbGQoe1xuICAgIG1heFNpemVCeXRlcyA9IEluZmluaXR5LFxuICAgIG92ZXJyaWRlcyxcbiAgICBvbmx5VHJhbnNhY3Rpb25LaW5kXG4gIH0gPSB7fSkge1xuICAgIGNvbnN0IGlucHV0cyA9IHRoaXMuaW5wdXRzLm1hcCgoaW5wdXQpID0+IHtcbiAgICAgIGFzc2VydChpbnB1dC52YWx1ZSwgQnVpbGRlckNhbGxBcmcpO1xuICAgICAgcmV0dXJuIGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGtpbmQgPSB7XG4gICAgICBQcm9ncmFtbWFibGVUcmFuc2FjdGlvbjoge1xuICAgICAgICBpbnB1dHMsXG4gICAgICAgIHRyYW5zYWN0aW9uczogdGhpcy50cmFuc2FjdGlvbnNcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChvbmx5VHJhbnNhY3Rpb25LaW5kKSB7XG4gICAgICByZXR1cm4gYmNzLlRyYW5zYWN0aW9uS2luZC5zZXJpYWxpemUoa2luZCwgeyBtYXhTaXplOiBtYXhTaXplQnl0ZXMgfSkudG9CeXRlcygpO1xuICAgIH1cbiAgICBjb25zdCBleHBpcmF0aW9uID0gb3ZlcnJpZGVzPy5leHBpcmF0aW9uID8/IHRoaXMuZXhwaXJhdGlvbjtcbiAgICBjb25zdCBzZW5kZXIgPSBvdmVycmlkZXM/LnNlbmRlciA/PyB0aGlzLnNlbmRlcjtcbiAgICBjb25zdCBnYXNDb25maWcgPSB7IC4uLnRoaXMuZ2FzQ29uZmlnLCAuLi5vdmVycmlkZXM/Lmdhc0NvbmZpZyB9O1xuICAgIGlmICghc2VuZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRyYW5zYWN0aW9uIHNlbmRlclwiKTtcbiAgICB9XG4gICAgaWYgKCFnYXNDb25maWcuYnVkZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGdhcyBidWRnZXRcIik7XG4gICAgfVxuICAgIGlmICghZ2FzQ29uZmlnLnBheW1lbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZ2FzIHBheW1lbnRcIik7XG4gICAgfVxuICAgIGlmICghZ2FzQ29uZmlnLnByaWNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGdhcyBwcmljZVwiKTtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNhY3Rpb25EYXRhID0ge1xuICAgICAgc2VuZGVyOiBwcmVwYXJlU3VpQWRkcmVzcyhzZW5kZXIpLFxuICAgICAgZXhwaXJhdGlvbjogZXhwaXJhdGlvbiA/IGV4cGlyYXRpb24gOiB7IE5vbmU6IHRydWUgfSxcbiAgICAgIGdhc0RhdGE6IHtcbiAgICAgICAgcGF5bWVudDogZ2FzQ29uZmlnLnBheW1lbnQsXG4gICAgICAgIG93bmVyOiBwcmVwYXJlU3VpQWRkcmVzcyh0aGlzLmdhc0NvbmZpZy5vd25lciA/PyBzZW5kZXIpLFxuICAgICAgICBwcmljZTogQmlnSW50KGdhc0NvbmZpZy5wcmljZSksXG4gICAgICAgIGJ1ZGdldDogQmlnSW50KGdhc0NvbmZpZy5idWRnZXQpXG4gICAgICB9LFxuICAgICAga2luZDoge1xuICAgICAgICBQcm9ncmFtbWFibGVUcmFuc2FjdGlvbjoge1xuICAgICAgICAgIGlucHV0cyxcbiAgICAgICAgICB0cmFuc2FjdGlvbnM6IHRoaXMudHJhbnNhY3Rpb25zXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBiY3MuVHJhbnNhY3Rpb25EYXRhLnNlcmlhbGl6ZShcbiAgICAgIHsgVjE6IHRyYW5zYWN0aW9uRGF0YSB9LFxuICAgICAgeyBtYXhTaXplOiBtYXhTaXplQnl0ZXMgfVxuICAgICkudG9CeXRlcygpO1xuICB9XG4gIGdldERpZ2VzdCgpIHtcbiAgICBjb25zdCBieXRlcyA9IHRoaXMuYnVpbGQoeyBvbmx5VHJhbnNhY3Rpb25LaW5kOiBmYWxzZSB9KTtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb25CbG9ja0RhdGFCdWlsZGVyLmdldERpZ2VzdEZyb21CeXRlcyhieXRlcyk7XG4gIH1cbiAgc25hcHNob3QoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZSh0aGlzLCBTZXJpYWxpemVkVHJhbnNhY3Rpb25EYXRhQnVpbGRlcik7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFNlcmlhbGl6ZWRUcmFuc2FjdGlvbkRhdGFCdWlsZGVyLFxuICBUcmFuc2FjdGlvbkJsb2NrRGF0YUJ1aWxkZXIsXG4gIFRyYW5zYWN0aW9uRXhwaXJhdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRyYW5zYWN0aW9uQmxvY2tEYXRhLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlockData.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Transactions.js":
/*!**************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/Transactions.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MakeMoveVecTransaction: () => (/* binding */ MakeMoveVecTransaction),\n/* harmony export */   MergeCoinsTransaction: () => (/* binding */ MergeCoinsTransaction),\n/* harmony export */   MoveCallTransaction: () => (/* binding */ MoveCallTransaction),\n/* harmony export */   PublishTransaction: () => (/* binding */ PublishTransaction),\n/* harmony export */   SplitCoinsTransaction: () => (/* binding */ SplitCoinsTransaction),\n/* harmony export */   TransactionArgument: () => (/* binding */ TransactionArgument),\n/* harmony export */   TransactionBlockInput: () => (/* binding */ TransactionBlockInput),\n/* harmony export */   TransactionType: () => (/* binding */ TransactionType),\n/* harmony export */   Transactions: () => (/* binding */ Transactions),\n/* harmony export */   TransferObjectsTransaction: () => (/* binding */ TransferObjectsTransaction),\n/* harmony export */   UpgradePolicy: () => (/* binding */ UpgradePolicy),\n/* harmony export */   UpgradeTransaction: () => (/* binding */ UpgradeTransaction),\n/* harmony export */   getTransactionType: () => (/* binding */ getTransactionType)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _bcs_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../bcs/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js\");\n/* harmony import */ var _bcs_type_tag_serializer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../bcs/type-tag-serializer.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/type-tag-serializer.js\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _Inputs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Inputs.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Inputs.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/utils.js\");\n\n\n\n\n\n\n\nconst option = (some) => (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ None: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(true), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(null)]) }), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ Some: some })]);\nconst TransactionBlockInput = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Input\"),\n    index: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)(),\n    value: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.any)()),\n    type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"object\"))\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Input\"),\n    index: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)(),\n    value: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.any)()),\n    type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"pure\")\n  })\n]);\nconst TransactionArgumentTypes = [\n  TransactionBlockInput,\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"GasCoin\") }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Result\"), index: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)() }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"NestedResult\"),\n    index: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)(),\n    resultIndex: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)()\n  })\n];\nconst TransactionArgument = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([...TransactionArgumentTypes]);\nconst MoveCallTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"MoveCall\"),\n  target: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.define)(\"target\", (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)().validator),\n  typeArguments: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  arguments: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(TransactionArgument)\n});\nconst TransferObjectsTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"TransferObjects\"),\n  objects: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(TransactionArgument),\n  address: TransactionArgument\n});\nconst SplitCoinsTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"SplitCoins\"),\n  coin: TransactionArgument,\n  amounts: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(TransactionArgument)\n});\nconst MergeCoinsTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"MergeCoins\"),\n  destination: TransactionArgument,\n  sources: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(TransactionArgument)\n});\nconst MakeMoveVecTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"MakeMoveVec\"),\n  // TODO: ideally we should use `TypeTag` instead of `record()` here,\n  // but TypeTag is recursively defined and it's tricky to define a\n  // recursive struct in superstruct\n  type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(option((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.unknown)()))),\n  objects: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(TransactionArgument)\n});\nconst PublishTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Publish\"),\n  modules: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)())),\n  dependencies: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())\n});\nvar UpgradePolicy = /* @__PURE__ */ ((UpgradePolicy2) => {\n  UpgradePolicy2[UpgradePolicy2[\"COMPATIBLE\"] = 0] = \"COMPATIBLE\";\n  UpgradePolicy2[UpgradePolicy2[\"ADDITIVE\"] = 128] = \"ADDITIVE\";\n  UpgradePolicy2[UpgradePolicy2[\"DEP_ONLY\"] = 192] = \"DEP_ONLY\";\n  return UpgradePolicy2;\n})(UpgradePolicy || {});\nconst UpgradeTransaction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  kind: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Upgrade\"),\n  modules: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.integer)())),\n  dependencies: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  packageId: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  ticket: TransactionArgument\n});\nconst TransactionTypes = [\n  MoveCallTransaction,\n  TransferObjectsTransaction,\n  SplitCoinsTransaction,\n  MergeCoinsTransaction,\n  PublishTransaction,\n  UpgradeTransaction,\n  MakeMoveVecTransaction\n];\nconst TransactionType = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([...TransactionTypes]);\nfunction getTransactionType(data) {\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assert)(data, TransactionType);\n  return TransactionTypes.find((schema) => (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(data, schema));\n}\nconst Transactions = {\n  MoveCall(input) {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)(\n      {\n        kind: \"MoveCall\",\n        target: input.target,\n        arguments: input.arguments ?? [],\n        typeArguments: input.typeArguments ?? []\n      },\n      MoveCallTransaction\n    );\n  },\n  TransferObjects(objects, address) {\n    if (address.kind === \"Input\" && address.type === \"pure\" && typeof address.value !== \"object\") {\n      address.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_2__.Inputs.Pure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_3__.bcs.Address.serialize(address.value));\n    }\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)({ kind: \"TransferObjects\", objects, address }, TransferObjectsTransaction);\n  },\n  SplitCoins(coin, amounts) {\n    amounts.forEach((input) => {\n      if (input.kind === \"Input\" && input.type === \"pure\" && typeof input.value !== \"object\") {\n        input.value = _Inputs_js__WEBPACK_IMPORTED_MODULE_2__.Inputs.Pure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_3__.bcs.U64.serialize(input.value));\n      }\n    });\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)(\n      {\n        kind: \"SplitCoins\",\n        coin,\n        amounts\n      },\n      SplitCoinsTransaction\n    );\n  },\n  MergeCoins(destination, sources) {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)({ kind: \"MergeCoins\", destination, sources }, MergeCoinsTransaction);\n  },\n  Publish({\n    modules,\n    dependencies\n  }) {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)(\n      {\n        kind: \"Publish\",\n        modules: modules.map(\n          (module) => typeof module === \"string\" ? Array.from((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_4__.fromB64)(module)) : module\n        ),\n        dependencies: dependencies.map((dep) => (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_5__.normalizeSuiObjectId)(dep))\n      },\n      PublishTransaction\n    );\n  },\n  Upgrade({\n    modules,\n    dependencies,\n    packageId,\n    ticket\n  }) {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)(\n      {\n        kind: \"Upgrade\",\n        modules: modules.map(\n          (module) => typeof module === \"string\" ? Array.from((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_4__.fromB64)(module)) : module\n        ),\n        dependencies: dependencies.map((dep) => (0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_5__.normalizeSuiObjectId)(dep)),\n        packageId,\n        ticket\n      },\n      UpgradeTransaction\n    );\n  },\n  MakeMoveVec({\n    type,\n    objects\n  }) {\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.create)(\n      {\n        kind: \"MakeMoveVec\",\n        type: type ? { Some: _bcs_type_tag_serializer_js__WEBPACK_IMPORTED_MODULE_6__.TypeTagSerializer.parseFromStr(type) } : { None: null },\n        objects\n      },\n      MakeMoveVecTransaction\n    );\n  }\n};\n\n//# sourceMappingURL=Transactions.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvVHJhbnNhY3Rpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBZWpCO0FBQ2lCO0FBQzRCO0FBQ0w7QUFDeEI7QUFDRDtBQUNwQyx5QkFBeUIsa0RBQUssRUFBRSxtREFBTSxHQUFHLE1BQU0sa0RBQUssRUFBRSxvREFBTyxRQUFRLG9EQUFPLFVBQVUsR0FBRyxtREFBTSxHQUFHLFlBQVk7QUFDOUcsOEJBQThCLGtEQUFLO0FBQ25DLEVBQUUsbURBQU07QUFDUixVQUFVLG9EQUFPO0FBQ2pCLFdBQVcsb0RBQU87QUFDbEIsV0FBVyxxREFBUSxDQUFDLGdEQUFHO0FBQ3ZCLFVBQVUscURBQVEsQ0FBQyxvREFBTztBQUMxQixHQUFHO0FBQ0gsRUFBRSxtREFBTTtBQUNSLFVBQVUsb0RBQU87QUFDakIsV0FBVyxvREFBTztBQUNsQixXQUFXLHFEQUFRLENBQUMsZ0RBQUc7QUFDdkIsVUFBVSxvREFBTztBQUNqQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRSxtREFBTSxHQUFHLE1BQU0sb0RBQU8sYUFBYTtBQUNyQyxFQUFFLG1EQUFNLEdBQUcsTUFBTSxvREFBTyxtQkFBbUIsb0RBQU8sSUFBSTtBQUN0RCxFQUFFLG1EQUFNO0FBQ1IsVUFBVSxvREFBTztBQUNqQixXQUFXLG9EQUFPO0FBQ2xCLGlCQUFpQixvREFBTztBQUN4QixHQUFHO0FBQ0g7QUFDQSw0QkFBNEIsa0RBQUs7QUFDakMsNEJBQTRCLG1EQUFNO0FBQ2xDLFFBQVEsb0RBQU87QUFDZixVQUFVLG1EQUFNLFdBQVcsbURBQU07QUFDakMsaUJBQWlCLGtEQUFLLENBQUMsbURBQU07QUFDN0IsYUFBYSxrREFBSztBQUNsQixDQUFDO0FBQ0QsbUNBQW1DLG1EQUFNO0FBQ3pDLFFBQVEsb0RBQU87QUFDZixXQUFXLGtEQUFLO0FBQ2hCO0FBQ0EsQ0FBQztBQUNELDhCQUE4QixtREFBTTtBQUNwQyxRQUFRLG9EQUFPO0FBQ2Y7QUFDQSxXQUFXLGtEQUFLO0FBQ2hCLENBQUM7QUFDRCw4QkFBOEIsbURBQU07QUFDcEMsUUFBUSxvREFBTztBQUNmO0FBQ0EsV0FBVyxrREFBSztBQUNoQixDQUFDO0FBQ0QsK0JBQStCLG1EQUFNO0FBQ3JDLFFBQVEsb0RBQU87QUFDZjtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFRLFFBQVEsbURBQU0sQ0FBQyxtREFBTSxJQUFJLG9EQUFPO0FBQ2hELFdBQVcsa0RBQUs7QUFDaEIsQ0FBQztBQUNELDJCQUEyQixtREFBTTtBQUNqQyxRQUFRLG9EQUFPO0FBQ2YsV0FBVyxrREFBSyxDQUFDLGtEQUFLLENBQUMsb0RBQU87QUFDOUIsZ0JBQWdCLGtEQUFLLENBQUMsbURBQU07QUFDNUIsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHFCQUFxQjtBQUN0QiwyQkFBMkIsbURBQU07QUFDakMsUUFBUSxvREFBTztBQUNmLFdBQVcsa0RBQUssQ0FBQyxrREFBSyxDQUFDLG9EQUFPO0FBQzlCLGdCQUFnQixrREFBSyxDQUFDLG1EQUFNO0FBQzVCLGFBQWEsbURBQU07QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFLO0FBQzdCO0FBQ0EsRUFBRSxtREFBTTtBQUNSLDJDQUEyQywrQ0FBRTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFNLE1BQU0sOENBQUc7QUFDckM7QUFDQSxXQUFXLGlEQUFNLEdBQUcsMkNBQTJDO0FBQy9ELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOENBQU0sTUFBTSw4Q0FBRztBQUNyQztBQUNBLEtBQUs7QUFDTCxXQUFXLGlEQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxXQUFXLGlEQUFNLEdBQUcsMENBQTBDO0FBQzlELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVyxpREFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsb0RBQU87QUFDckU7QUFDQSxnREFBZ0QseUVBQW9CO0FBQ3BFLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVyxpREFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsb0RBQU87QUFDckU7QUFDQSxnREFBZ0QseUVBQW9CO0FBQ3BFO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVyxpREFBTTtBQUNqQjtBQUNBO0FBQ0EsdUJBQXVCLE1BQU0sMEVBQWlCLHNCQUFzQixJQUFJLFlBQVk7QUFDcEY7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFlRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvVHJhbnNhY3Rpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21CNjQgfSBmcm9tIFwiQG15c3Rlbi9iY3NcIjtcbmltcG9ydCB7XG4gIGFueSxcbiAgYXJyYXksXG4gIGFzc2VydCxcbiAgZGVmaW5lLFxuICBpbnRlZ2VyLFxuICBpcyxcbiAgbGl0ZXJhbCxcbiAgb2JqZWN0LFxuICBvcHRpb25hbCxcbiAgcmVjb3JkLFxuICBzdHJpbmcsXG4gIHVuaW9uLFxuICB1bmtub3duXG59IGZyb20gXCJzdXBlcnN0cnVjdFwiO1xuaW1wb3J0IHsgYmNzIH0gZnJvbSBcIi4uL2Jjcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgVHlwZVRhZ1NlcmlhbGl6ZXIgfSBmcm9tIFwiLi4vYmNzL3R5cGUtdGFnLXNlcmlhbGl6ZXIuanNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZVN1aU9iamVjdElkIH0gZnJvbSBcIi4uL3V0aWxzL3N1aS10eXBlcy5qc1wiO1xuaW1wb3J0IHsgSW5wdXRzIH0gZnJvbSBcIi4vSW5wdXRzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuY29uc3Qgb3B0aW9uID0gKHNvbWUpID0+IHVuaW9uKFtvYmplY3QoeyBOb25lOiB1bmlvbihbbGl0ZXJhbCh0cnVlKSwgbGl0ZXJhbChudWxsKV0pIH0pLCBvYmplY3QoeyBTb21lOiBzb21lIH0pXSk7XG5jb25zdCBUcmFuc2FjdGlvbkJsb2NrSW5wdXQgPSB1bmlvbihbXG4gIG9iamVjdCh7XG4gICAga2luZDogbGl0ZXJhbChcIklucHV0XCIpLFxuICAgIGluZGV4OiBpbnRlZ2VyKCksXG4gICAgdmFsdWU6IG9wdGlvbmFsKGFueSgpKSxcbiAgICB0eXBlOiBvcHRpb25hbChsaXRlcmFsKFwib2JqZWN0XCIpKVxuICB9KSxcbiAgb2JqZWN0KHtcbiAgICBraW5kOiBsaXRlcmFsKFwiSW5wdXRcIiksXG4gICAgaW5kZXg6IGludGVnZXIoKSxcbiAgICB2YWx1ZTogb3B0aW9uYWwoYW55KCkpLFxuICAgIHR5cGU6IGxpdGVyYWwoXCJwdXJlXCIpXG4gIH0pXG5dKTtcbmNvbnN0IFRyYW5zYWN0aW9uQXJndW1lbnRUeXBlcyA9IFtcbiAgVHJhbnNhY3Rpb25CbG9ja0lucHV0LFxuICBvYmplY3QoeyBraW5kOiBsaXRlcmFsKFwiR2FzQ29pblwiKSB9KSxcbiAgb2JqZWN0KHsga2luZDogbGl0ZXJhbChcIlJlc3VsdFwiKSwgaW5kZXg6IGludGVnZXIoKSB9KSxcbiAgb2JqZWN0KHtcbiAgICBraW5kOiBsaXRlcmFsKFwiTmVzdGVkUmVzdWx0XCIpLFxuICAgIGluZGV4OiBpbnRlZ2VyKCksXG4gICAgcmVzdWx0SW5kZXg6IGludGVnZXIoKVxuICB9KVxuXTtcbmNvbnN0IFRyYW5zYWN0aW9uQXJndW1lbnQgPSB1bmlvbihbLi4uVHJhbnNhY3Rpb25Bcmd1bWVudFR5cGVzXSk7XG5jb25zdCBNb3ZlQ2FsbFRyYW5zYWN0aW9uID0gb2JqZWN0KHtcbiAga2luZDogbGl0ZXJhbChcIk1vdmVDYWxsXCIpLFxuICB0YXJnZXQ6IGRlZmluZShcInRhcmdldFwiLCBzdHJpbmcoKS52YWxpZGF0b3IpLFxuICB0eXBlQXJndW1lbnRzOiBhcnJheShzdHJpbmcoKSksXG4gIGFyZ3VtZW50czogYXJyYXkoVHJhbnNhY3Rpb25Bcmd1bWVudClcbn0pO1xuY29uc3QgVHJhbnNmZXJPYmplY3RzVHJhbnNhY3Rpb24gPSBvYmplY3Qoe1xuICBraW5kOiBsaXRlcmFsKFwiVHJhbnNmZXJPYmplY3RzXCIpLFxuICBvYmplY3RzOiBhcnJheShUcmFuc2FjdGlvbkFyZ3VtZW50KSxcbiAgYWRkcmVzczogVHJhbnNhY3Rpb25Bcmd1bWVudFxufSk7XG5jb25zdCBTcGxpdENvaW5zVHJhbnNhY3Rpb24gPSBvYmplY3Qoe1xuICBraW5kOiBsaXRlcmFsKFwiU3BsaXRDb2luc1wiKSxcbiAgY29pbjogVHJhbnNhY3Rpb25Bcmd1bWVudCxcbiAgYW1vdW50czogYXJyYXkoVHJhbnNhY3Rpb25Bcmd1bWVudClcbn0pO1xuY29uc3QgTWVyZ2VDb2luc1RyYW5zYWN0aW9uID0gb2JqZWN0KHtcbiAga2luZDogbGl0ZXJhbChcIk1lcmdlQ29pbnNcIiksXG4gIGRlc3RpbmF0aW9uOiBUcmFuc2FjdGlvbkFyZ3VtZW50LFxuICBzb3VyY2VzOiBhcnJheShUcmFuc2FjdGlvbkFyZ3VtZW50KVxufSk7XG5jb25zdCBNYWtlTW92ZVZlY1RyYW5zYWN0aW9uID0gb2JqZWN0KHtcbiAga2luZDogbGl0ZXJhbChcIk1ha2VNb3ZlVmVjXCIpLFxuICAvLyBUT0RPOiBpZGVhbGx5IHdlIHNob3VsZCB1c2UgYFR5cGVUYWdgIGluc3RlYWQgb2YgYHJlY29yZCgpYCBoZXJlLFxuICAvLyBidXQgVHlwZVRhZyBpcyByZWN1cnNpdmVseSBkZWZpbmVkIGFuZCBpdCdzIHRyaWNreSB0byBkZWZpbmUgYVxuICAvLyByZWN1cnNpdmUgc3RydWN0IGluIHN1cGVyc3RydWN0XG4gIHR5cGU6IG9wdGlvbmFsKG9wdGlvbihyZWNvcmQoc3RyaW5nKCksIHVua25vd24oKSkpKSxcbiAgb2JqZWN0czogYXJyYXkoVHJhbnNhY3Rpb25Bcmd1bWVudClcbn0pO1xuY29uc3QgUHVibGlzaFRyYW5zYWN0aW9uID0gb2JqZWN0KHtcbiAga2luZDogbGl0ZXJhbChcIlB1Ymxpc2hcIiksXG4gIG1vZHVsZXM6IGFycmF5KGFycmF5KGludGVnZXIoKSkpLFxuICBkZXBlbmRlbmNpZXM6IGFycmF5KHN0cmluZygpKVxufSk7XG52YXIgVXBncmFkZVBvbGljeSA9IC8qIEBfX1BVUkVfXyAqLyAoKFVwZ3JhZGVQb2xpY3kyKSA9PiB7XG4gIFVwZ3JhZGVQb2xpY3kyW1VwZ3JhZGVQb2xpY3kyW1wiQ09NUEFUSUJMRVwiXSA9IDBdID0gXCJDT01QQVRJQkxFXCI7XG4gIFVwZ3JhZGVQb2xpY3kyW1VwZ3JhZGVQb2xpY3kyW1wiQURESVRJVkVcIl0gPSAxMjhdID0gXCJBRERJVElWRVwiO1xuICBVcGdyYWRlUG9saWN5MltVcGdyYWRlUG9saWN5MltcIkRFUF9PTkxZXCJdID0gMTkyXSA9IFwiREVQX09OTFlcIjtcbiAgcmV0dXJuIFVwZ3JhZGVQb2xpY3kyO1xufSkoVXBncmFkZVBvbGljeSB8fCB7fSk7XG5jb25zdCBVcGdyYWRlVHJhbnNhY3Rpb24gPSBvYmplY3Qoe1xuICBraW5kOiBsaXRlcmFsKFwiVXBncmFkZVwiKSxcbiAgbW9kdWxlczogYXJyYXkoYXJyYXkoaW50ZWdlcigpKSksXG4gIGRlcGVuZGVuY2llczogYXJyYXkoc3RyaW5nKCkpLFxuICBwYWNrYWdlSWQ6IHN0cmluZygpLFxuICB0aWNrZXQ6IFRyYW5zYWN0aW9uQXJndW1lbnRcbn0pO1xuY29uc3QgVHJhbnNhY3Rpb25UeXBlcyA9IFtcbiAgTW92ZUNhbGxUcmFuc2FjdGlvbixcbiAgVHJhbnNmZXJPYmplY3RzVHJhbnNhY3Rpb24sXG4gIFNwbGl0Q29pbnNUcmFuc2FjdGlvbixcbiAgTWVyZ2VDb2luc1RyYW5zYWN0aW9uLFxuICBQdWJsaXNoVHJhbnNhY3Rpb24sXG4gIFVwZ3JhZGVUcmFuc2FjdGlvbixcbiAgTWFrZU1vdmVWZWNUcmFuc2FjdGlvblxuXTtcbmNvbnN0IFRyYW5zYWN0aW9uVHlwZSA9IHVuaW9uKFsuLi5UcmFuc2FjdGlvblR5cGVzXSk7XG5mdW5jdGlvbiBnZXRUcmFuc2FjdGlvblR5cGUoZGF0YSkge1xuICBhc3NlcnQoZGF0YSwgVHJhbnNhY3Rpb25UeXBlKTtcbiAgcmV0dXJuIFRyYW5zYWN0aW9uVHlwZXMuZmluZCgoc2NoZW1hKSA9PiBpcyhkYXRhLCBzY2hlbWEpKTtcbn1cbmNvbnN0IFRyYW5zYWN0aW9ucyA9IHtcbiAgTW92ZUNhbGwoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlKFxuICAgICAge1xuICAgICAgICBraW5kOiBcIk1vdmVDYWxsXCIsXG4gICAgICAgIHRhcmdldDogaW5wdXQudGFyZ2V0LFxuICAgICAgICBhcmd1bWVudHM6IGlucHV0LmFyZ3VtZW50cyA/PyBbXSxcbiAgICAgICAgdHlwZUFyZ3VtZW50czogaW5wdXQudHlwZUFyZ3VtZW50cyA/PyBbXVxuICAgICAgfSxcbiAgICAgIE1vdmVDYWxsVHJhbnNhY3Rpb25cbiAgICApO1xuICB9LFxuICBUcmFuc2Zlck9iamVjdHMob2JqZWN0cywgYWRkcmVzcykge1xuICAgIGlmIChhZGRyZXNzLmtpbmQgPT09IFwiSW5wdXRcIiAmJiBhZGRyZXNzLnR5cGUgPT09IFwicHVyZVwiICYmIHR5cGVvZiBhZGRyZXNzLnZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICBhZGRyZXNzLnZhbHVlID0gSW5wdXRzLlB1cmUoYmNzLkFkZHJlc3Muc2VyaWFsaXplKGFkZHJlc3MudmFsdWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZSh7IGtpbmQ6IFwiVHJhbnNmZXJPYmplY3RzXCIsIG9iamVjdHMsIGFkZHJlc3MgfSwgVHJhbnNmZXJPYmplY3RzVHJhbnNhY3Rpb24pO1xuICB9LFxuICBTcGxpdENvaW5zKGNvaW4sIGFtb3VudHMpIHtcbiAgICBhbW91bnRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAoaW5wdXQua2luZCA9PT0gXCJJbnB1dFwiICYmIGlucHV0LnR5cGUgPT09IFwicHVyZVwiICYmIHR5cGVvZiBpbnB1dC52YWx1ZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBpbnB1dC52YWx1ZSA9IElucHV0cy5QdXJlKGJjcy5VNjQuc2VyaWFsaXplKGlucHV0LnZhbHVlKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWF0ZShcbiAgICAgIHtcbiAgICAgICAga2luZDogXCJTcGxpdENvaW5zXCIsXG4gICAgICAgIGNvaW4sXG4gICAgICAgIGFtb3VudHNcbiAgICAgIH0sXG4gICAgICBTcGxpdENvaW5zVHJhbnNhY3Rpb25cbiAgICApO1xuICB9LFxuICBNZXJnZUNvaW5zKGRlc3RpbmF0aW9uLCBzb3VyY2VzKSB7XG4gICAgcmV0dXJuIGNyZWF0ZSh7IGtpbmQ6IFwiTWVyZ2VDb2luc1wiLCBkZXN0aW5hdGlvbiwgc291cmNlcyB9LCBNZXJnZUNvaW5zVHJhbnNhY3Rpb24pO1xuICB9LFxuICBQdWJsaXNoKHtcbiAgICBtb2R1bGVzLFxuICAgIGRlcGVuZGVuY2llc1xuICB9KSB7XG4gICAgcmV0dXJuIGNyZWF0ZShcbiAgICAgIHtcbiAgICAgICAga2luZDogXCJQdWJsaXNoXCIsXG4gICAgICAgIG1vZHVsZXM6IG1vZHVsZXMubWFwKFxuICAgICAgICAgIChtb2R1bGUpID0+IHR5cGVvZiBtb2R1bGUgPT09IFwic3RyaW5nXCIgPyBBcnJheS5mcm9tKGZyb21CNjQobW9kdWxlKSkgOiBtb2R1bGVcbiAgICAgICAgKSxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBkZXBlbmRlbmNpZXMubWFwKChkZXApID0+IG5vcm1hbGl6ZVN1aU9iamVjdElkKGRlcCkpXG4gICAgICB9LFxuICAgICAgUHVibGlzaFRyYW5zYWN0aW9uXG4gICAgKTtcbiAgfSxcbiAgVXBncmFkZSh7XG4gICAgbW9kdWxlcyxcbiAgICBkZXBlbmRlbmNpZXMsXG4gICAgcGFja2FnZUlkLFxuICAgIHRpY2tldFxuICB9KSB7XG4gICAgcmV0dXJuIGNyZWF0ZShcbiAgICAgIHtcbiAgICAgICAga2luZDogXCJVcGdyYWRlXCIsXG4gICAgICAgIG1vZHVsZXM6IG1vZHVsZXMubWFwKFxuICAgICAgICAgIChtb2R1bGUpID0+IHR5cGVvZiBtb2R1bGUgPT09IFwic3RyaW5nXCIgPyBBcnJheS5mcm9tKGZyb21CNjQobW9kdWxlKSkgOiBtb2R1bGVcbiAgICAgICAgKSxcbiAgICAgICAgZGVwZW5kZW5jaWVzOiBkZXBlbmRlbmNpZXMubWFwKChkZXApID0+IG5vcm1hbGl6ZVN1aU9iamVjdElkKGRlcCkpLFxuICAgICAgICBwYWNrYWdlSWQsXG4gICAgICAgIHRpY2tldFxuICAgICAgfSxcbiAgICAgIFVwZ3JhZGVUcmFuc2FjdGlvblxuICAgICk7XG4gIH0sXG4gIE1ha2VNb3ZlVmVjKHtcbiAgICB0eXBlLFxuICAgIG9iamVjdHNcbiAgfSkge1xuICAgIHJldHVybiBjcmVhdGUoXG4gICAgICB7XG4gICAgICAgIGtpbmQ6IFwiTWFrZU1vdmVWZWNcIixcbiAgICAgICAgdHlwZTogdHlwZSA/IHsgU29tZTogVHlwZVRhZ1NlcmlhbGl6ZXIucGFyc2VGcm9tU3RyKHR5cGUpIH0gOiB7IE5vbmU6IG51bGwgfSxcbiAgICAgICAgb2JqZWN0c1xuICAgICAgfSxcbiAgICAgIE1ha2VNb3ZlVmVjVHJhbnNhY3Rpb25cbiAgICApO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgTWFrZU1vdmVWZWNUcmFuc2FjdGlvbixcbiAgTWVyZ2VDb2luc1RyYW5zYWN0aW9uLFxuICBNb3ZlQ2FsbFRyYW5zYWN0aW9uLFxuICBQdWJsaXNoVHJhbnNhY3Rpb24sXG4gIFNwbGl0Q29pbnNUcmFuc2FjdGlvbixcbiAgVHJhbnNhY3Rpb25Bcmd1bWVudCxcbiAgVHJhbnNhY3Rpb25CbG9ja0lucHV0LFxuICBUcmFuc2FjdGlvblR5cGUsXG4gIFRyYW5zYWN0aW9ucyxcbiAgVHJhbnNmZXJPYmplY3RzVHJhbnNhY3Rpb24sXG4gIFVwZ3JhZGVQb2xpY3ksXG4gIFVwZ3JhZGVUcmFuc2FjdGlvbixcbiAgZ2V0VHJhbnNhY3Rpb25UeXBlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNhY3Rpb25zLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/Transactions.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/hash.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/hash.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hashTypedData: () => (/* binding */ hashTypedData)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_blake2b__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/hashes/blake2b */ \"(ssr)/../../node_modules/@noble/hashes/esm/blake2b.js\");\n\nfunction hashTypedData(typeTag, data) {\n  const typeTagBytes = Array.from(`${typeTag}::`).map((e) => e.charCodeAt(0));\n  const dataWithTag = new Uint8Array(typeTagBytes.length + data.length);\n  dataWithTag.set(typeTagBytes);\n  dataWithTag.set(data, typeTagBytes.length);\n  return (0,_noble_hashes_blake2b__WEBPACK_IMPORTED_MODULE_0__.blake2b)(dataWithTag, { dkLen: 32 });\n}\n\n//# sourceMappingURL=hash.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvaGFzaC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRDtBQUNoRDtBQUNBLHFDQUFxQyxRQUFRO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOERBQU8sZ0JBQWdCLFdBQVc7QUFDM0M7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvaGFzaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBibGFrZTJiIH0gZnJvbSBcIkBub2JsZS9oYXNoZXMvYmxha2UyYlwiO1xuZnVuY3Rpb24gaGFzaFR5cGVkRGF0YSh0eXBlVGFnLCBkYXRhKSB7XG4gIGNvbnN0IHR5cGVUYWdCeXRlcyA9IEFycmF5LmZyb20oYCR7dHlwZVRhZ306OmApLm1hcCgoZSkgPT4gZS5jaGFyQ29kZUF0KDApKTtcbiAgY29uc3QgZGF0YVdpdGhUYWcgPSBuZXcgVWludDhBcnJheSh0eXBlVGFnQnl0ZXMubGVuZ3RoICsgZGF0YS5sZW5ndGgpO1xuICBkYXRhV2l0aFRhZy5zZXQodHlwZVRhZ0J5dGVzKTtcbiAgZGF0YVdpdGhUYWcuc2V0KGRhdGEsIHR5cGVUYWdCeXRlcy5sZW5ndGgpO1xuICByZXR1cm4gYmxha2UyYihkYXRhV2l0aFRhZywgeyBka0xlbjogMzIgfSk7XG59XG5leHBvcnQge1xuICBoYXNoVHlwZWREYXRhXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFzaC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/hash.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/pure.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/pure.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createPure: () => (/* binding */ createPure)\n/* harmony export */ });\n/* harmony import */ var _bcs_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bcs/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/bcs/index.js\");\n\nfunction createPure(makePure) {\n  function pure(value, type) {\n    return makePure(value, type);\n  }\n  pure.u8 = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.U8.serialize(value));\n  pure.u16 = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.U16.serialize(value));\n  pure.u32 = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.U32.serialize(value));\n  pure.u64 = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.U64.serialize(value));\n  pure.u128 = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.U128.serialize(value));\n  pure.u256 = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.U256.serialize(value));\n  pure.bool = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.Bool.serialize(value));\n  pure.string = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.String.serialize(value));\n  pure.address = (value) => makePure(_bcs_index_js__WEBPACK_IMPORTED_MODULE_0__.bcs.Address.serialize(value));\n  pure.id = pure.address;\n  return pure;\n}\n\n//# sourceMappingURL=pure.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvcHVyZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4Q0FBRztBQUNuQyxpQ0FBaUMsOENBQUc7QUFDcEMsaUNBQWlDLDhDQUFHO0FBQ3BDLGlDQUFpQyw4Q0FBRztBQUNwQyxrQ0FBa0MsOENBQUc7QUFDckMsa0NBQWtDLDhDQUFHO0FBQ3JDLGtDQUFrQyw4Q0FBRztBQUNyQyxvQ0FBb0MsOENBQUc7QUFDdkMscUNBQXFDLDhDQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vYnVpbGRlci9wdXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJjcyB9IGZyb20gXCIuLi9iY3MvaW5kZXguanNcIjtcbmZ1bmN0aW9uIGNyZWF0ZVB1cmUobWFrZVB1cmUpIHtcbiAgZnVuY3Rpb24gcHVyZSh2YWx1ZSwgdHlwZSkge1xuICAgIHJldHVybiBtYWtlUHVyZSh2YWx1ZSwgdHlwZSk7XG4gIH1cbiAgcHVyZS51OCA9ICh2YWx1ZSkgPT4gbWFrZVB1cmUoYmNzLlU4LnNlcmlhbGl6ZSh2YWx1ZSkpO1xuICBwdXJlLnUxNiA9ICh2YWx1ZSkgPT4gbWFrZVB1cmUoYmNzLlUxNi5zZXJpYWxpemUodmFsdWUpKTtcbiAgcHVyZS51MzIgPSAodmFsdWUpID0+IG1ha2VQdXJlKGJjcy5VMzIuc2VyaWFsaXplKHZhbHVlKSk7XG4gIHB1cmUudTY0ID0gKHZhbHVlKSA9PiBtYWtlUHVyZShiY3MuVTY0LnNlcmlhbGl6ZSh2YWx1ZSkpO1xuICBwdXJlLnUxMjggPSAodmFsdWUpID0+IG1ha2VQdXJlKGJjcy5VMTI4LnNlcmlhbGl6ZSh2YWx1ZSkpO1xuICBwdXJlLnUyNTYgPSAodmFsdWUpID0+IG1ha2VQdXJlKGJjcy5VMjU2LnNlcmlhbGl6ZSh2YWx1ZSkpO1xuICBwdXJlLmJvb2wgPSAodmFsdWUpID0+IG1ha2VQdXJlKGJjcy5Cb29sLnNlcmlhbGl6ZSh2YWx1ZSkpO1xuICBwdXJlLnN0cmluZyA9ICh2YWx1ZSkgPT4gbWFrZVB1cmUoYmNzLlN0cmluZy5zZXJpYWxpemUodmFsdWUpKTtcbiAgcHVyZS5hZGRyZXNzID0gKHZhbHVlKSA9PiBtYWtlUHVyZShiY3MuQWRkcmVzcy5zZXJpYWxpemUodmFsdWUpKTtcbiAgcHVyZS5pZCA9IHB1cmUuYWRkcmVzcztcbiAgcmV0dXJuIHB1cmU7XG59XG5leHBvcnQge1xuICBjcmVhdGVQdXJlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVyZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/pure.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/serializer.js":
/*!************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/serializer.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPureSerializationType: () => (/* binding */ getPureSerializationType),\n/* harmony export */   isTxContext: () => (/* binding */ isTxContext)\n/* harmony export */ });\n/* harmony import */ var _types_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/normalized.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/index.js\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n\n\n\nconst OBJECT_MODULE_NAME = \"object\";\nconst ID_STRUCT_NAME = \"ID\";\nconst STD_ASCII_MODULE_NAME = \"ascii\";\nconst STD_ASCII_STRUCT_NAME = \"String\";\nconst STD_UTF8_MODULE_NAME = \"string\";\nconst STD_UTF8_STRUCT_NAME = \"String\";\nconst STD_OPTION_MODULE_NAME = \"option\";\nconst STD_OPTION_STRUCT_NAME = \"Option\";\nconst RESOLVED_SUI_ID = {\n  address: _utils_index_js__WEBPACK_IMPORTED_MODULE_0__.SUI_FRAMEWORK_ADDRESS,\n  module: OBJECT_MODULE_NAME,\n  name: ID_STRUCT_NAME\n};\nconst RESOLVED_ASCII_STR = {\n  address: _utils_index_js__WEBPACK_IMPORTED_MODULE_0__.MOVE_STDLIB_ADDRESS,\n  module: STD_ASCII_MODULE_NAME,\n  name: STD_ASCII_STRUCT_NAME\n};\nconst RESOLVED_UTF8_STR = {\n  address: _utils_index_js__WEBPACK_IMPORTED_MODULE_0__.MOVE_STDLIB_ADDRESS,\n  module: STD_UTF8_MODULE_NAME,\n  name: STD_UTF8_STRUCT_NAME\n};\nconst RESOLVED_STD_OPTION = {\n  address: _utils_index_js__WEBPACK_IMPORTED_MODULE_0__.MOVE_STDLIB_ADDRESS,\n  module: STD_OPTION_MODULE_NAME,\n  name: STD_OPTION_STRUCT_NAME\n};\nconst isSameStruct = (a, b) => a.address === b.address && a.module === b.module && a.name === b.name;\nfunction isTxContext(param) {\n  const struct = (0,_types_index_js__WEBPACK_IMPORTED_MODULE_1__.extractStructTag)(param)?.Struct;\n  return struct?.address === \"0x2\" && struct?.module === \"tx_context\" && struct?.name === \"TxContext\";\n}\nfunction expectType(typeName, argVal) {\n  if (typeof argVal === \"undefined\") {\n    return;\n  }\n  if (typeof argVal !== typeName) {\n    throw new Error(`Expect ${argVal} to be ${typeName}, received ${typeof argVal}`);\n  }\n}\nconst allowedTypes = [\"Address\", \"Bool\", \"U8\", \"U16\", \"U32\", \"U64\", \"U128\", \"U256\"];\nfunction getPureSerializationType(normalizedType, argVal) {\n  if (typeof normalizedType === \"string\" && allowedTypes.includes(normalizedType)) {\n    if (normalizedType in [\"U8\", \"U16\", \"U32\", \"U64\", \"U128\", \"U256\"]) {\n      expectType(\"number\", argVal);\n    } else if (normalizedType === \"Bool\") {\n      expectType(\"boolean\", argVal);\n    } else if (normalizedType === \"Address\") {\n      expectType(\"string\", argVal);\n      if (argVal && !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_2__.isValidSuiAddress)(argVal)) {\n        throw new Error(\"Invalid Sui Address\");\n      }\n    }\n    return normalizedType.toLowerCase();\n  } else if (typeof normalizedType === \"string\") {\n    throw new Error(`Unknown pure normalized type ${JSON.stringify(normalizedType, null, 2)}`);\n  }\n  if (\"Vector\" in normalizedType) {\n    if ((argVal === void 0 || typeof argVal === \"string\") && normalizedType.Vector === \"U8\") {\n      return \"string\";\n    }\n    if (argVal !== void 0 && !Array.isArray(argVal)) {\n      throw new Error(`Expect ${argVal} to be a array, received ${typeof argVal}`);\n    }\n    const innerType = getPureSerializationType(\n      normalizedType.Vector,\n      // undefined when argVal is empty\n      argVal ? argVal[0] : void 0\n    );\n    if (innerType === void 0) {\n      return;\n    }\n    return `vector<${innerType}>`;\n  }\n  if (\"Struct\" in normalizedType) {\n    if (isSameStruct(normalizedType.Struct, RESOLVED_ASCII_STR)) {\n      return \"string\";\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_UTF8_STR)) {\n      return \"utf8string\";\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_SUI_ID)) {\n      return \"address\";\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_STD_OPTION)) {\n      const optionToVec = {\n        Vector: normalizedType.Struct.typeArguments[0]\n      };\n      return getPureSerializationType(optionToVec, argVal);\n    }\n  }\n  return void 0;\n}\n\n//# sourceMappingURL=serializer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvc2VyaWFsaXplci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxRDtBQUMwQjtBQUNyQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtFQUFxQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0VBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnRUFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdFQUFtQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlFQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixRQUFRLFFBQVEsU0FBUyxhQUFhLGNBQWM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxxQkFBcUIsc0VBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLG9EQUFvRCx3Q0FBd0M7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFFBQVEsMEJBQTBCLGNBQWM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFVBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vYnVpbGRlci9zZXJpYWxpemVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4dHJhY3RTdHJ1Y3RUYWcgfSBmcm9tIFwiLi4vdHlwZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IE1PVkVfU1RETElCX0FERFJFU1MsIFNVSV9GUkFNRVdPUktfQUREUkVTUyB9IGZyb20gXCIuLi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgaXNWYWxpZFN1aUFkZHJlc3MgfSBmcm9tIFwiLi4vdXRpbHMvc3VpLXR5cGVzLmpzXCI7XG5jb25zdCBPQkpFQ1RfTU9EVUxFX05BTUUgPSBcIm9iamVjdFwiO1xuY29uc3QgSURfU1RSVUNUX05BTUUgPSBcIklEXCI7XG5jb25zdCBTVERfQVNDSUlfTU9EVUxFX05BTUUgPSBcImFzY2lpXCI7XG5jb25zdCBTVERfQVNDSUlfU1RSVUNUX05BTUUgPSBcIlN0cmluZ1wiO1xuY29uc3QgU1REX1VURjhfTU9EVUxFX05BTUUgPSBcInN0cmluZ1wiO1xuY29uc3QgU1REX1VURjhfU1RSVUNUX05BTUUgPSBcIlN0cmluZ1wiO1xuY29uc3QgU1REX09QVElPTl9NT0RVTEVfTkFNRSA9IFwib3B0aW9uXCI7XG5jb25zdCBTVERfT1BUSU9OX1NUUlVDVF9OQU1FID0gXCJPcHRpb25cIjtcbmNvbnN0IFJFU09MVkVEX1NVSV9JRCA9IHtcbiAgYWRkcmVzczogU1VJX0ZSQU1FV09SS19BRERSRVNTLFxuICBtb2R1bGU6IE9CSkVDVF9NT0RVTEVfTkFNRSxcbiAgbmFtZTogSURfU1RSVUNUX05BTUVcbn07XG5jb25zdCBSRVNPTFZFRF9BU0NJSV9TVFIgPSB7XG4gIGFkZHJlc3M6IE1PVkVfU1RETElCX0FERFJFU1MsXG4gIG1vZHVsZTogU1REX0FTQ0lJX01PRFVMRV9OQU1FLFxuICBuYW1lOiBTVERfQVNDSUlfU1RSVUNUX05BTUVcbn07XG5jb25zdCBSRVNPTFZFRF9VVEY4X1NUUiA9IHtcbiAgYWRkcmVzczogTU9WRV9TVERMSUJfQUREUkVTUyxcbiAgbW9kdWxlOiBTVERfVVRGOF9NT0RVTEVfTkFNRSxcbiAgbmFtZTogU1REX1VURjhfU1RSVUNUX05BTUVcbn07XG5jb25zdCBSRVNPTFZFRF9TVERfT1BUSU9OID0ge1xuICBhZGRyZXNzOiBNT1ZFX1NURExJQl9BRERSRVNTLFxuICBtb2R1bGU6IFNURF9PUFRJT05fTU9EVUxFX05BTUUsXG4gIG5hbWU6IFNURF9PUFRJT05fU1RSVUNUX05BTUVcbn07XG5jb25zdCBpc1NhbWVTdHJ1Y3QgPSAoYSwgYikgPT4gYS5hZGRyZXNzID09PSBiLmFkZHJlc3MgJiYgYS5tb2R1bGUgPT09IGIubW9kdWxlICYmIGEubmFtZSA9PT0gYi5uYW1lO1xuZnVuY3Rpb24gaXNUeENvbnRleHQocGFyYW0pIHtcbiAgY29uc3Qgc3RydWN0ID0gZXh0cmFjdFN0cnVjdFRhZyhwYXJhbSk/LlN0cnVjdDtcbiAgcmV0dXJuIHN0cnVjdD8uYWRkcmVzcyA9PT0gXCIweDJcIiAmJiBzdHJ1Y3Q/Lm1vZHVsZSA9PT0gXCJ0eF9jb250ZXh0XCIgJiYgc3RydWN0Py5uYW1lID09PSBcIlR4Q29udGV4dFwiO1xufVxuZnVuY3Rpb24gZXhwZWN0VHlwZSh0eXBlTmFtZSwgYXJnVmFsKSB7XG4gIGlmICh0eXBlb2YgYXJnVmFsID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgYXJnVmFsICE9PSB0eXBlTmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ICR7YXJnVmFsfSB0byBiZSAke3R5cGVOYW1lfSwgcmVjZWl2ZWQgJHt0eXBlb2YgYXJnVmFsfWApO1xuICB9XG59XG5jb25zdCBhbGxvd2VkVHlwZXMgPSBbXCJBZGRyZXNzXCIsIFwiQm9vbFwiLCBcIlU4XCIsIFwiVTE2XCIsIFwiVTMyXCIsIFwiVTY0XCIsIFwiVTEyOFwiLCBcIlUyNTZcIl07XG5mdW5jdGlvbiBnZXRQdXJlU2VyaWFsaXphdGlvblR5cGUobm9ybWFsaXplZFR5cGUsIGFyZ1ZhbCkge1xuICBpZiAodHlwZW9mIG5vcm1hbGl6ZWRUeXBlID09PSBcInN0cmluZ1wiICYmIGFsbG93ZWRUeXBlcy5pbmNsdWRlcyhub3JtYWxpemVkVHlwZSkpIHtcbiAgICBpZiAobm9ybWFsaXplZFR5cGUgaW4gW1wiVThcIiwgXCJVMTZcIiwgXCJVMzJcIiwgXCJVNjRcIiwgXCJVMTI4XCIsIFwiVTI1NlwiXSkge1xuICAgICAgZXhwZWN0VHlwZShcIm51bWJlclwiLCBhcmdWYWwpO1xuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFR5cGUgPT09IFwiQm9vbFwiKSB7XG4gICAgICBleHBlY3RUeXBlKFwiYm9vbGVhblwiLCBhcmdWYWwpO1xuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFR5cGUgPT09IFwiQWRkcmVzc1wiKSB7XG4gICAgICBleHBlY3RUeXBlKFwic3RyaW5nXCIsIGFyZ1ZhbCk7XG4gICAgICBpZiAoYXJnVmFsICYmICFpc1ZhbGlkU3VpQWRkcmVzcyhhcmdWYWwpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3VpIEFkZHJlc3NcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBub3JtYWxpemVkVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwdXJlIG5vcm1hbGl6ZWQgdHlwZSAke0pTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWRUeXBlLCBudWxsLCAyKX1gKTtcbiAgfVxuICBpZiAoXCJWZWN0b3JcIiBpbiBub3JtYWxpemVkVHlwZSkge1xuICAgIGlmICgoYXJnVmFsID09PSB2b2lkIDAgfHwgdHlwZW9mIGFyZ1ZhbCA9PT0gXCJzdHJpbmdcIikgJiYgbm9ybWFsaXplZFR5cGUuVmVjdG9yID09PSBcIlU4XCIpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgIH1cbiAgICBpZiAoYXJnVmFsICE9PSB2b2lkIDAgJiYgIUFycmF5LmlzQXJyYXkoYXJnVmFsKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3QgJHthcmdWYWx9IHRvIGJlIGEgYXJyYXksIHJlY2VpdmVkICR7dHlwZW9mIGFyZ1ZhbH1gKTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXJUeXBlID0gZ2V0UHVyZVNlcmlhbGl6YXRpb25UeXBlKFxuICAgICAgbm9ybWFsaXplZFR5cGUuVmVjdG9yLFxuICAgICAgLy8gdW5kZWZpbmVkIHdoZW4gYXJnVmFsIGlzIGVtcHR5XG4gICAgICBhcmdWYWwgPyBhcmdWYWxbMF0gOiB2b2lkIDBcbiAgICApO1xuICAgIGlmIChpbm5lclR5cGUgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gYHZlY3Rvcjwke2lubmVyVHlwZX0+YDtcbiAgfVxuICBpZiAoXCJTdHJ1Y3RcIiBpbiBub3JtYWxpemVkVHlwZSkge1xuICAgIGlmIChpc1NhbWVTdHJ1Y3Qobm9ybWFsaXplZFR5cGUuU3RydWN0LCBSRVNPTFZFRF9BU0NJSV9TVFIpKSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9IGVsc2UgaWYgKGlzU2FtZVN0cnVjdChub3JtYWxpemVkVHlwZS5TdHJ1Y3QsIFJFU09MVkVEX1VURjhfU1RSKSkge1xuICAgICAgcmV0dXJuIFwidXRmOHN0cmluZ1wiO1xuICAgIH0gZWxzZSBpZiAoaXNTYW1lU3RydWN0KG5vcm1hbGl6ZWRUeXBlLlN0cnVjdCwgUkVTT0xWRURfU1VJX0lEKSkge1xuICAgICAgcmV0dXJuIFwiYWRkcmVzc1wiO1xuICAgIH0gZWxzZSBpZiAoaXNTYW1lU3RydWN0KG5vcm1hbGl6ZWRUeXBlLlN0cnVjdCwgUkVTT0xWRURfU1REX09QVElPTikpIHtcbiAgICAgIGNvbnN0IG9wdGlvblRvVmVjID0ge1xuICAgICAgICBWZWN0b3I6IG5vcm1hbGl6ZWRUeXBlLlN0cnVjdC50eXBlQXJndW1lbnRzWzBdXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGdldFB1cmVTZXJpYWxpemF0aW9uVHlwZShvcHRpb25Ub1ZlYywgYXJnVmFsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmV4cG9ydCB7XG4gIGdldFB1cmVTZXJpYWxpemF0aW9uVHlwZSxcbiAgaXNUeENvbnRleHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/serializer.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/utils.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/builder/utils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n\nfunction create(value, struct) {\n  return (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.create)(value, struct);\n}\n\n//# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2J1aWxkZXIvdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEQ7QUFDMUQ7QUFDQSxTQUFTLG1EQUFpQjtBQUMxQjtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vYnVpbGRlci91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGUgYXMgc3VwZXJzdHJ1Y3RDcmVhdGUgfSBmcm9tIFwic3VwZXJzdHJ1Y3RcIjtcbmZ1bmN0aW9uIGNyZWF0ZSh2YWx1ZSwgc3RydWN0KSB7XG4gIHJldHVybiBzdXBlcnN0cnVjdENyZWF0ZSh2YWx1ZSwgc3RydWN0KTtcbn1cbmV4cG9ydCB7XG4gIGNyZWF0ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/utils.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/client.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/client/client.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUI_CLIENT_BRAND: () => (/* binding */ SUI_CLIENT_BRAND),\n/* harmony export */   SuiClient: () => (/* binding */ SuiClient),\n/* harmony export */   isSuiClient: () => (/* binding */ isSuiClient)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var _builder_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../builder/index.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/builder/TransactionBlock.js\");\n/* harmony import */ var _utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _http_transport_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http-transport.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/http-transport.js\");\n\n\n\n\nconst SUI_CLIENT_BRAND = Symbol.for(\"@mysten/SuiClient\");\nfunction isSuiClient(client) {\n  return typeof client === \"object\" && client !== null && client[SUI_CLIENT_BRAND] === true;\n}\nclass SuiClient {\n  get [SUI_CLIENT_BRAND]() {\n    return true;\n  }\n  /**\n   * Establish a connection to a Sui RPC endpoint\n   *\n   * @param options configuration options for the API Client\n   */\n  constructor(options) {\n    this.transport = options.transport ?? new _http_transport_js__WEBPACK_IMPORTED_MODULE_0__.SuiHTTPTransport({ url: options.url });\n  }\n  async getRpcApiVersion() {\n    const resp = await this.transport.request({\n      method: \"rpc.discover\",\n      params: []\n    });\n    return resp.info.version;\n  }\n  /**\n   * Get all Coin<`coin_type`> objects owned by an address.\n   */\n  async getCoins(input) {\n    if (!input.owner || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(input.owner))) {\n      throw new Error(\"Invalid Sui address\");\n    }\n    return await this.transport.request({\n      method: \"suix_getCoins\",\n      params: [input.owner, input.coinType, input.cursor, input.limit]\n    });\n  }\n  /**\n   * Get all Coin objects owned by an address.\n   */\n  async getAllCoins(input) {\n    if (!input.owner || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(input.owner))) {\n      throw new Error(\"Invalid Sui address\");\n    }\n    return await this.transport.request({\n      method: \"suix_getAllCoins\",\n      params: [input.owner, input.cursor, input.limit]\n    });\n  }\n  /**\n   * Get the total coin balance for one coin type, owned by the address owner.\n   */\n  async getBalance(input) {\n    if (!input.owner || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(input.owner))) {\n      throw new Error(\"Invalid Sui address\");\n    }\n    return await this.transport.request({\n      method: \"suix_getBalance\",\n      params: [input.owner, input.coinType]\n    });\n  }\n  /**\n   * Get the total coin balance for all coin types, owned by the address owner.\n   */\n  async getAllBalances(input) {\n    if (!input.owner || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(input.owner))) {\n      throw new Error(\"Invalid Sui address\");\n    }\n    return await this.transport.request({ method: \"suix_getAllBalances\", params: [input.owner] });\n  }\n  /**\n   * Fetch CoinMetadata for a given coin type\n   */\n  async getCoinMetadata(input) {\n    return await this.transport.request({\n      method: \"suix_getCoinMetadata\",\n      params: [input.coinType]\n    });\n  }\n  /**\n   *  Fetch total supply for a coin\n   */\n  async getTotalSupply(input) {\n    return await this.transport.request({\n      method: \"suix_getTotalSupply\",\n      params: [input.coinType]\n    });\n  }\n  /**\n   * Invoke any RPC method\n   * @param method the method to be invoked\n   * @param args the arguments to be passed to the RPC request\n   */\n  async call(method, params) {\n    return await this.transport.request({ method, params });\n  }\n  /**\n   * Get Move function argument types like read, write and full access\n   */\n  async getMoveFunctionArgTypes(input) {\n    return await this.transport.request({\n      method: \"sui_getMoveFunctionArgTypes\",\n      params: [input.package, input.module, input.function]\n    });\n  }\n  /**\n   * Get a map from module name to\n   * structured representations of Move modules\n   */\n  async getNormalizedMoveModulesByPackage(input) {\n    return await this.transport.request({\n      method: \"sui_getNormalizedMoveModulesByPackage\",\n      params: [input.package]\n    });\n  }\n  /**\n   * Get a structured representation of Move module\n   */\n  async getNormalizedMoveModule(input) {\n    return await this.transport.request({\n      method: \"sui_getNormalizedMoveModule\",\n      params: [input.package, input.module]\n    });\n  }\n  /**\n   * Get a structured representation of Move function\n   */\n  async getNormalizedMoveFunction(input) {\n    return await this.transport.request({\n      method: \"sui_getNormalizedMoveFunction\",\n      params: [input.package, input.module, input.function]\n    });\n  }\n  /**\n   * Get a structured representation of Move struct\n   */\n  async getNormalizedMoveStruct(input) {\n    return await this.transport.request({\n      method: \"sui_getNormalizedMoveStruct\",\n      params: [input.package, input.module, input.struct]\n    });\n  }\n  /**\n   * Get all objects owned by an address\n   */\n  async getOwnedObjects(input) {\n    if (!input.owner || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(input.owner))) {\n      throw new Error(\"Invalid Sui address\");\n    }\n    return await this.transport.request({\n      method: \"suix_getOwnedObjects\",\n      params: [\n        input.owner,\n        {\n          filter: input.filter,\n          options: input.options\n        },\n        input.cursor,\n        input.limit\n      ]\n    });\n  }\n  /**\n   * Get details about an object\n   */\n  async getObject(input) {\n    if (!input.id || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiObjectId)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiObjectId)(input.id))) {\n      throw new Error(\"Invalid Sui Object id\");\n    }\n    return await this.transport.request({\n      method: \"sui_getObject\",\n      params: [input.id, input.options]\n    });\n  }\n  async tryGetPastObject(input) {\n    return await this.transport.request({\n      method: \"sui_tryGetPastObject\",\n      params: [input.id, input.version, input.options]\n    });\n  }\n  /**\n   * Batch get details about a list of objects. If any of the object ids are duplicates the call will fail\n   */\n  async multiGetObjects(input) {\n    input.ids.forEach((id) => {\n      if (!id || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiObjectId)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiObjectId)(id))) {\n        throw new Error(`Invalid Sui Object id ${id}`);\n      }\n    });\n    const hasDuplicates = input.ids.length !== new Set(input.ids).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate object ids in batch call ${input.ids}`);\n    }\n    return await this.transport.request({\n      method: \"sui_multiGetObjects\",\n      params: [input.ids, input.options]\n    });\n  }\n  /**\n   * Get transaction blocks for a given query criteria\n   */\n  async queryTransactionBlocks(input) {\n    return await this.transport.request({\n      method: \"suix_queryTransactionBlocks\",\n      params: [\n        {\n          filter: input.filter,\n          options: input.options\n        },\n        input.cursor,\n        input.limit,\n        (input.order || \"descending\") === \"descending\"\n      ]\n    });\n  }\n  async getTransactionBlock(input) {\n    if (!(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidTransactionDigest)(input.digest)) {\n      throw new Error(\"Invalid Transaction digest\");\n    }\n    return await this.transport.request({\n      method: \"sui_getTransactionBlock\",\n      params: [input.digest, input.options]\n    });\n  }\n  async multiGetTransactionBlocks(input) {\n    input.digests.forEach((d) => {\n      if (!(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidTransactionDigest)(d)) {\n        throw new Error(`Invalid Transaction digest ${d}`);\n      }\n    });\n    const hasDuplicates = input.digests.length !== new Set(input.digests).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate digests in batch call ${input.digests}`);\n    }\n    return await this.transport.request({\n      method: \"sui_multiGetTransactionBlocks\",\n      params: [input.digests, input.options]\n    });\n  }\n  async executeTransactionBlock(input) {\n    return await this.transport.request({\n      method: \"sui_executeTransactionBlock\",\n      params: [\n        typeof input.transactionBlock === \"string\" ? input.transactionBlock : (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.toB64)(input.transactionBlock),\n        Array.isArray(input.signature) ? input.signature : [input.signature],\n        input.options,\n        input.requestType\n      ]\n    });\n  }\n  async signAndExecuteTransactionBlock({\n    transactionBlock,\n    signer,\n    ...input\n  }) {\n    let transactionBytes;\n    if (transactionBlock instanceof Uint8Array) {\n      transactionBytes = transactionBlock;\n    } else {\n      transactionBlock.setSenderIfNotSet(signer.toSuiAddress());\n      transactionBytes = await transactionBlock.build({ client: this });\n    }\n    const { signature, bytes } = await signer.signTransactionBlock(transactionBytes);\n    return this.executeTransactionBlock({\n      transactionBlock: bytes,\n      signature,\n      ...input\n    });\n  }\n  /**\n   * Get total number of transactions\n   */\n  async getTotalTransactionBlocks() {\n    const resp = await this.transport.request({\n      method: \"sui_getTotalTransactionBlocks\",\n      params: []\n    });\n    return BigInt(resp);\n  }\n  /**\n   * Getting the reference gas price for the network\n   */\n  async getReferenceGasPrice() {\n    const resp = await this.transport.request({\n      method: \"suix_getReferenceGasPrice\",\n      params: []\n    });\n    return BigInt(resp);\n  }\n  /**\n   * Return the delegated stakes for an address\n   */\n  async getStakes(input) {\n    if (!input.owner || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiAddress)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiAddress)(input.owner))) {\n      throw new Error(\"Invalid Sui address\");\n    }\n    return await this.transport.request({ method: \"suix_getStakes\", params: [input.owner] });\n  }\n  /**\n   * Return the delegated stakes queried by id.\n   */\n  async getStakesByIds(input) {\n    input.stakedSuiIds.forEach((id) => {\n      if (!id || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiObjectId)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiObjectId)(id))) {\n        throw new Error(`Invalid Sui Stake id ${id}`);\n      }\n    });\n    return await this.transport.request({\n      method: \"suix_getStakesByIds\",\n      params: [input.stakedSuiIds]\n    });\n  }\n  /**\n   * Return the latest system state content.\n   */\n  async getLatestSuiSystemState() {\n    return await this.transport.request({ method: \"suix_getLatestSuiSystemState\", params: [] });\n  }\n  /**\n   * Get events for a given query criteria\n   */\n  async queryEvents(input) {\n    return await this.transport.request({\n      method: \"suix_queryEvents\",\n      params: [\n        input.query,\n        input.cursor,\n        input.limit,\n        (input.order || \"descending\") === \"descending\"\n      ]\n    });\n  }\n  /**\n   * Subscribe to get notifications whenever an event matching the filter occurs\n   */\n  async subscribeEvent(input) {\n    return this.transport.subscribe({\n      method: \"suix_subscribeEvent\",\n      unsubscribe: \"suix_unsubscribeEvent\",\n      params: [input.filter],\n      onMessage: input.onMessage\n    });\n  }\n  async subscribeTransaction(input) {\n    return this.transport.subscribe({\n      method: \"suix_subscribeTransaction\",\n      unsubscribe: \"suix_unsubscribeTransaction\",\n      params: [input.filter],\n      onMessage: input.onMessage\n    });\n  }\n  /**\n   * Runs the transaction block in dev-inspect mode. Which allows for nearly any\n   * transaction (or Move call) with any arguments. Detailed results are\n   * provided, including both the transaction effects and any return values.\n   */\n  async devInspectTransactionBlock(input) {\n    let devInspectTxBytes;\n    if ((0,_builder_index_js__WEBPACK_IMPORTED_MODULE_3__.isTransactionBlock)(input.transactionBlock)) {\n      input.transactionBlock.setSenderIfNotSet(input.sender);\n      devInspectTxBytes = (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.toB64)(\n        await input.transactionBlock.build({\n          client: this,\n          onlyTransactionKind: true\n        })\n      );\n    } else if (typeof input.transactionBlock === \"string\") {\n      devInspectTxBytes = input.transactionBlock;\n    } else if (input.transactionBlock instanceof Uint8Array) {\n      devInspectTxBytes = (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.toB64)(input.transactionBlock);\n    } else {\n      throw new Error(\"Unknown transaction block format.\");\n    }\n    return await this.transport.request({\n      method: \"sui_devInspectTransactionBlock\",\n      params: [input.sender, devInspectTxBytes, input.gasPrice?.toString(), input.epoch]\n    });\n  }\n  /**\n   * Dry run a transaction block and return the result.\n   */\n  async dryRunTransactionBlock(input) {\n    return await this.transport.request({\n      method: \"sui_dryRunTransactionBlock\",\n      params: [\n        typeof input.transactionBlock === \"string\" ? input.transactionBlock : (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.toB64)(input.transactionBlock)\n      ]\n    });\n  }\n  /**\n   * Return the list of dynamic field objects owned by an object\n   */\n  async getDynamicFields(input) {\n    if (!input.parentId || !(0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.isValidSuiObjectId)((0,_utils_sui_types_js__WEBPACK_IMPORTED_MODULE_1__.normalizeSuiObjectId)(input.parentId))) {\n      throw new Error(\"Invalid Sui Object id\");\n    }\n    return await this.transport.request({\n      method: \"suix_getDynamicFields\",\n      params: [input.parentId, input.cursor, input.limit]\n    });\n  }\n  /**\n   * Return the dynamic field object information for a specified object\n   */\n  async getDynamicFieldObject(input) {\n    return await this.transport.request({\n      method: \"suix_getDynamicFieldObject\",\n      params: [input.parentId, input.name]\n    });\n  }\n  /**\n   * Get the sequence number of the latest checkpoint that has been executed\n   */\n  async getLatestCheckpointSequenceNumber() {\n    const resp = await this.transport.request({\n      method: \"sui_getLatestCheckpointSequenceNumber\",\n      params: []\n    });\n    return String(resp);\n  }\n  /**\n   * Returns information about a given checkpoint\n   */\n  async getCheckpoint(input) {\n    return await this.transport.request({ method: \"sui_getCheckpoint\", params: [input.id] });\n  }\n  /**\n   * Returns historical checkpoints paginated\n   */\n  async getCheckpoints(input) {\n    return await this.transport.request({\n      method: \"sui_getCheckpoints\",\n      params: [input.cursor, input?.limit, input.descendingOrder]\n    });\n  }\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCommitteeInfo(input) {\n    return await this.transport.request({\n      method: \"suix_getCommitteeInfo\",\n      params: [input?.epoch]\n    });\n  }\n  async getNetworkMetrics() {\n    return await this.transport.request({ method: \"suix_getNetworkMetrics\", params: [] });\n  }\n  async getAddressMetrics() {\n    return await this.transport.request({ method: \"suix_getLatestAddressMetrics\", params: [] });\n  }\n  async getEpochMetrics(input) {\n    return await this.transport.request({\n      method: \"suix_getEpochMetrics\",\n      params: [input?.cursor, input?.limit, input?.descendingOrder]\n    });\n  }\n  async getAllEpochAddressMetrics(input) {\n    return await this.transport.request({\n      method: \"suix_getAllEpochAddressMetrics\",\n      params: [input?.descendingOrder]\n    });\n  }\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getEpochs(input) {\n    return await this.transport.request({\n      method: \"suix_getEpochs\",\n      params: [input?.cursor, input?.limit, input?.descendingOrder]\n    });\n  }\n  /**\n   * Returns list of top move calls by usage\n   */\n  async getMoveCallMetrics() {\n    return await this.transport.request({ method: \"suix_getMoveCallMetrics\", params: [] });\n  }\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCurrentEpoch() {\n    return await this.transport.request({ method: \"suix_getCurrentEpoch\", params: [] });\n  }\n  /**\n   * Return the Validators APYs\n   */\n  async getValidatorsApy() {\n    return await this.transport.request({ method: \"suix_getValidatorsApy\", params: [] });\n  }\n  // TODO: Migrate this to `sui_getChainIdentifier` once it is widely available.\n  async getChainIdentifier() {\n    const checkpoint = await this.getCheckpoint({ id: \"0\" });\n    const bytes = (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.fromB58)(checkpoint.digest);\n    return (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.toHEX)(bytes.slice(0, 4));\n  }\n  async resolveNameServiceAddress(input) {\n    return await this.transport.request({\n      method: \"suix_resolveNameServiceAddress\",\n      params: [input.name]\n    });\n  }\n  async resolveNameServiceNames(input) {\n    return await this.transport.request({\n      method: \"suix_resolveNameServiceNames\",\n      params: [input.address, input.cursor, input.limit]\n    });\n  }\n  async getProtocolConfig(input) {\n    return await this.transport.request({\n      method: \"sui_getProtocolConfig\",\n      params: [input?.version]\n    });\n  }\n  /**\n   * Wait for a transaction block result to be available over the API.\n   * This can be used in conjunction with `executeTransactionBlock` to wait for the transaction to\n   * be available via the API.\n   * This currently polls the `getTransactionBlock` API to check for the transaction.\n   */\n  async waitForTransactionBlock({\n    signal,\n    timeout = 60 * 1e3,\n    pollInterval = 2 * 1e3,\n    ...input\n  }) {\n    const timeoutSignal = AbortSignal.timeout(timeout);\n    const timeoutPromise = new Promise((_, reject) => {\n      timeoutSignal.addEventListener(\"abort\", () => reject(timeoutSignal.reason));\n    });\n    timeoutPromise.catch(() => {\n    });\n    while (!timeoutSignal.aborted) {\n      signal?.throwIfAborted();\n      try {\n        return await this.getTransactionBlock(input);\n      } catch (e) {\n        await Promise.race([\n          new Promise((resolve) => setTimeout(resolve, pollInterval)),\n          timeoutPromise\n        ]);\n      }\n    }\n    timeoutSignal.throwIfAborted();\n    throw new Error(\"Unexpected error while waiting for transaction block.\");\n  }\n}\n\n//# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2NsaWVudC9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFvRDtBQUNLO0FBTzFCO0FBQ3dCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZ0VBQWdCLEdBQUcsa0JBQWtCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNFQUFpQixDQUFDLHdFQUFtQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0VBQWlCLENBQUMsd0VBQW1CO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzRUFBaUIsQ0FBQyx3RUFBbUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNFQUFpQixDQUFDLHdFQUFtQjtBQUM5RDtBQUNBO0FBQ0EsMENBQTBDLHNEQUFzRDtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsZ0JBQWdCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztB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LEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS9jbGllbnQvY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21CNTgsIHRvQjY0LCB0b0hFWCB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgaXNUcmFuc2FjdGlvbkJsb2NrIH0gZnJvbSBcIi4uL2J1aWxkZXIvaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIGlzVmFsaWRTdWlBZGRyZXNzLFxuICBpc1ZhbGlkU3VpT2JqZWN0SWQsXG4gIGlzVmFsaWRUcmFuc2FjdGlvbkRpZ2VzdCxcbiAgbm9ybWFsaXplU3VpQWRkcmVzcyxcbiAgbm9ybWFsaXplU3VpT2JqZWN0SWRcbn0gZnJvbSBcIi4uL3V0aWxzL3N1aS10eXBlcy5qc1wiO1xuaW1wb3J0IHsgU3VpSFRUUFRyYW5zcG9ydCB9IGZyb20gXCIuL2h0dHAtdHJhbnNwb3J0LmpzXCI7XG5jb25zdCBTVUlfQ0xJRU5UX0JSQU5EID0gU3ltYm9sLmZvcihcIkBteXN0ZW4vU3VpQ2xpZW50XCIpO1xuZnVuY3Rpb24gaXNTdWlDbGllbnQoY2xpZW50KSB7XG4gIHJldHVybiB0eXBlb2YgY2xpZW50ID09PSBcIm9iamVjdFwiICYmIGNsaWVudCAhPT0gbnVsbCAmJiBjbGllbnRbU1VJX0NMSUVOVF9CUkFORF0gPT09IHRydWU7XG59XG5jbGFzcyBTdWlDbGllbnQge1xuICBnZXQgW1NVSV9DTElFTlRfQlJBTkRdKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBFc3RhYmxpc2ggYSBjb25uZWN0aW9uIHRvIGEgU3VpIFJQQyBlbmRwb2ludFxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBBUEkgQ2xpZW50XG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy50cmFuc3BvcnQgPSBvcHRpb25zLnRyYW5zcG9ydCA/PyBuZXcgU3VpSFRUUFRyYW5zcG9ydCh7IHVybDogb3B0aW9ucy51cmwgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0UnBjQXBpVmVyc2lvbigpIHtcbiAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwicnBjLmRpc2NvdmVyXCIsXG4gICAgICBwYXJhbXM6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3AuaW5mby52ZXJzaW9uO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYWxsIENvaW48YGNvaW5fdHlwZWA+IG9iamVjdHMgb3duZWQgYnkgYW4gYWRkcmVzcy5cbiAgICovXG4gIGFzeW5jIGdldENvaW5zKGlucHV0KSB7XG4gICAgaWYgKCFpbnB1dC5vd25lciB8fCAhaXNWYWxpZFN1aUFkZHJlc3Mobm9ybWFsaXplU3VpQWRkcmVzcyhpbnB1dC5vd25lcikpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFN1aSBhZGRyZXNzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXRDb2luc1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQub3duZXIsIGlucHV0LmNvaW5UeXBlLCBpbnB1dC5jdXJzb3IsIGlucHV0LmxpbWl0XVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYWxsIENvaW4gb2JqZWN0cyBvd25lZCBieSBhbiBhZGRyZXNzLlxuICAgKi9cbiAgYXN5bmMgZ2V0QWxsQ29pbnMoaW5wdXQpIHtcbiAgICBpZiAoIWlucHV0Lm93bmVyIHx8ICFpc1ZhbGlkU3VpQWRkcmVzcyhub3JtYWxpemVTdWlBZGRyZXNzKGlucHV0Lm93bmVyKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3VpIGFkZHJlc3NcIik7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWl4X2dldEFsbENvaW5zXCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5vd25lciwgaW5wdXQuY3Vyc29yLCBpbnB1dC5saW1pdF1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSB0b3RhbCBjb2luIGJhbGFuY2UgZm9yIG9uZSBjb2luIHR5cGUsIG93bmVkIGJ5IHRoZSBhZGRyZXNzIG93bmVyLlxuICAgKi9cbiAgYXN5bmMgZ2V0QmFsYW5jZShpbnB1dCkge1xuICAgIGlmICghaW5wdXQub3duZXIgfHwgIWlzVmFsaWRTdWlBZGRyZXNzKG5vcm1hbGl6ZVN1aUFkZHJlc3MoaW5wdXQub3duZXIpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdWkgYWRkcmVzc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcInN1aXhfZ2V0QmFsYW5jZVwiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQub3duZXIsIGlucHV0LmNvaW5UeXBlXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHRvdGFsIGNvaW4gYmFsYW5jZSBmb3IgYWxsIGNvaW4gdHlwZXMsIG93bmVkIGJ5IHRoZSBhZGRyZXNzIG93bmVyLlxuICAgKi9cbiAgYXN5bmMgZ2V0QWxsQmFsYW5jZXMoaW5wdXQpIHtcbiAgICBpZiAoIWlucHV0Lm93bmVyIHx8ICFpc1ZhbGlkU3VpQWRkcmVzcyhub3JtYWxpemVTdWlBZGRyZXNzKGlucHV0Lm93bmVyKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgU3VpIGFkZHJlc3NcIik7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHsgbWV0aG9kOiBcInN1aXhfZ2V0QWxsQmFsYW5jZXNcIiwgcGFyYW1zOiBbaW5wdXQub3duZXJdIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBDb2luTWV0YWRhdGEgZm9yIGEgZ2l2ZW4gY29pbiB0eXBlXG4gICAqL1xuICBhc3luYyBnZXRDb2luTWV0YWRhdGEoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXRDb2luTWV0YWRhdGFcIixcbiAgICAgIHBhcmFtczogW2lucHV0LmNvaW5UeXBlXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiAgRmV0Y2ggdG90YWwgc3VwcGx5IGZvciBhIGNvaW5cbiAgICovXG4gIGFzeW5jIGdldFRvdGFsU3VwcGx5KGlucHV0KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcInN1aXhfZ2V0VG90YWxTdXBwbHlcIixcbiAgICAgIHBhcmFtczogW2lucHV0LmNvaW5UeXBlXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbnZva2UgYW55IFJQQyBtZXRob2RcbiAgICogQHBhcmFtIG1ldGhvZCB0aGUgbWV0aG9kIHRvIGJlIGludm9rZWRcbiAgICogQHBhcmFtIGFyZ3MgdGhlIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gdGhlIFJQQyByZXF1ZXN0XG4gICAqL1xuICBhc3luYyBjYWxsKG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3QoeyBtZXRob2QsIHBhcmFtcyB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IE1vdmUgZnVuY3Rpb24gYXJndW1lbnQgdHlwZXMgbGlrZSByZWFkLCB3cml0ZSBhbmQgZnVsbCBhY2Nlc3NcbiAgICovXG4gIGFzeW5jIGdldE1vdmVGdW5jdGlvbkFyZ1R5cGVzKGlucHV0KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcInN1aV9nZXRNb3ZlRnVuY3Rpb25BcmdUeXBlc1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQucGFja2FnZSwgaW5wdXQubW9kdWxlLCBpbnB1dC5mdW5jdGlvbl1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgbWFwIGZyb20gbW9kdWxlIG5hbWUgdG9cbiAgICogc3RydWN0dXJlZCByZXByZXNlbnRhdGlvbnMgb2YgTW92ZSBtb2R1bGVzXG4gICAqL1xuICBhc3luYyBnZXROb3JtYWxpemVkTW92ZU1vZHVsZXNCeVBhY2thZ2UoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX2dldE5vcm1hbGl6ZWRNb3ZlTW9kdWxlc0J5UGFja2FnZVwiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQucGFja2FnZV1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgc3RydWN0dXJlZCByZXByZXNlbnRhdGlvbiBvZiBNb3ZlIG1vZHVsZVxuICAgKi9cbiAgYXN5bmMgZ2V0Tm9ybWFsaXplZE1vdmVNb2R1bGUoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX2dldE5vcm1hbGl6ZWRNb3ZlTW9kdWxlXCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5wYWNrYWdlLCBpbnB1dC5tb2R1bGVdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHN0cnVjdHVyZWQgcmVwcmVzZW50YXRpb24gb2YgTW92ZSBmdW5jdGlvblxuICAgKi9cbiAgYXN5bmMgZ2V0Tm9ybWFsaXplZE1vdmVGdW5jdGlvbihpbnB1dCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfZ2V0Tm9ybWFsaXplZE1vdmVGdW5jdGlvblwiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQucGFja2FnZSwgaW5wdXQubW9kdWxlLCBpbnB1dC5mdW5jdGlvbl1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgc3RydWN0dXJlZCByZXByZXNlbnRhdGlvbiBvZiBNb3ZlIHN0cnVjdFxuICAgKi9cbiAgYXN5bmMgZ2V0Tm9ybWFsaXplZE1vdmVTdHJ1Y3QoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX2dldE5vcm1hbGl6ZWRNb3ZlU3RydWN0XCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5wYWNrYWdlLCBpbnB1dC5tb2R1bGUsIGlucHV0LnN0cnVjdF1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFsbCBvYmplY3RzIG93bmVkIGJ5IGFuIGFkZHJlc3NcbiAgICovXG4gIGFzeW5jIGdldE93bmVkT2JqZWN0cyhpbnB1dCkge1xuICAgIGlmICghaW5wdXQub3duZXIgfHwgIWlzVmFsaWRTdWlBZGRyZXNzKG5vcm1hbGl6ZVN1aUFkZHJlc3MoaW5wdXQub3duZXIpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdWkgYWRkcmVzc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcInN1aXhfZ2V0T3duZWRPYmplY3RzXCIsXG4gICAgICBwYXJhbXM6IFtcbiAgICAgICAgaW5wdXQub3duZXIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWx0ZXI6IGlucHV0LmZpbHRlcixcbiAgICAgICAgICBvcHRpb25zOiBpbnB1dC5vcHRpb25zXG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0LmN1cnNvcixcbiAgICAgICAgaW5wdXQubGltaXRcbiAgICAgIF1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGRldGFpbHMgYWJvdXQgYW4gb2JqZWN0XG4gICAqL1xuICBhc3luYyBnZXRPYmplY3QoaW5wdXQpIHtcbiAgICBpZiAoIWlucHV0LmlkIHx8ICFpc1ZhbGlkU3VpT2JqZWN0SWQobm9ybWFsaXplU3VpT2JqZWN0SWQoaW5wdXQuaWQpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdWkgT2JqZWN0IGlkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX2dldE9iamVjdFwiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuaWQsIGlucHV0Lm9wdGlvbnNdXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgdHJ5R2V0UGFzdE9iamVjdChpbnB1dCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfdHJ5R2V0UGFzdE9iamVjdFwiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuaWQsIGlucHV0LnZlcnNpb24sIGlucHV0Lm9wdGlvbnNdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEJhdGNoIGdldCBkZXRhaWxzIGFib3V0IGEgbGlzdCBvZiBvYmplY3RzLiBJZiBhbnkgb2YgdGhlIG9iamVjdCBpZHMgYXJlIGR1cGxpY2F0ZXMgdGhlIGNhbGwgd2lsbCBmYWlsXG4gICAqL1xuICBhc3luYyBtdWx0aUdldE9iamVjdHMoaW5wdXQpIHtcbiAgICBpbnB1dC5pZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlmICghaWQgfHwgIWlzVmFsaWRTdWlPYmplY3RJZChub3JtYWxpemVTdWlPYmplY3RJZChpZCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBTdWkgT2JqZWN0IGlkICR7aWR9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgaGFzRHVwbGljYXRlcyA9IGlucHV0Lmlkcy5sZW5ndGggIT09IG5ldyBTZXQoaW5wdXQuaWRzKS5zaXplO1xuICAgIGlmIChoYXNEdXBsaWNhdGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBvYmplY3QgaWRzIGluIGJhdGNoIGNhbGwgJHtpbnB1dC5pZHN9YCk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfbXVsdGlHZXRPYmplY3RzXCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5pZHMsIGlucHV0Lm9wdGlvbnNdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0cmFuc2FjdGlvbiBibG9ja3MgZm9yIGEgZ2l2ZW4gcXVlcnkgY3JpdGVyaWFcbiAgICovXG4gIGFzeW5jIHF1ZXJ5VHJhbnNhY3Rpb25CbG9ja3MoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9xdWVyeVRyYW5zYWN0aW9uQmxvY2tzXCIsXG4gICAgICBwYXJhbXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGZpbHRlcjogaW5wdXQuZmlsdGVyLFxuICAgICAgICAgIG9wdGlvbnM6IGlucHV0Lm9wdGlvbnNcbiAgICAgICAgfSxcbiAgICAgICAgaW5wdXQuY3Vyc29yLFxuICAgICAgICBpbnB1dC5saW1pdCxcbiAgICAgICAgKGlucHV0Lm9yZGVyIHx8IFwiZGVzY2VuZGluZ1wiKSA9PT0gXCJkZXNjZW5kaW5nXCJcbiAgICAgIF1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBnZXRUcmFuc2FjdGlvbkJsb2NrKGlucHV0KSB7XG4gICAgaWYgKCFpc1ZhbGlkVHJhbnNhY3Rpb25EaWdlc3QoaW5wdXQuZGlnZXN0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBUcmFuc2FjdGlvbiBkaWdlc3RcIik7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfZ2V0VHJhbnNhY3Rpb25CbG9ja1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuZGlnZXN0LCBpbnB1dC5vcHRpb25zXVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIG11bHRpR2V0VHJhbnNhY3Rpb25CbG9ja3MoaW5wdXQpIHtcbiAgICBpbnB1dC5kaWdlc3RzLmZvckVhY2goKGQpID0+IHtcbiAgICAgIGlmICghaXNWYWxpZFRyYW5zYWN0aW9uRGlnZXN0KGQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBUcmFuc2FjdGlvbiBkaWdlc3QgJHtkfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGhhc0R1cGxpY2F0ZXMgPSBpbnB1dC5kaWdlc3RzLmxlbmd0aCAhPT0gbmV3IFNldChpbnB1dC5kaWdlc3RzKS5zaXplO1xuICAgIGlmIChoYXNEdXBsaWNhdGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBkaWdlc3RzIGluIGJhdGNoIGNhbGwgJHtpbnB1dC5kaWdlc3RzfWApO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX211bHRpR2V0VHJhbnNhY3Rpb25CbG9ja3NcIixcbiAgICAgIHBhcmFtczogW2lucHV0LmRpZ2VzdHMsIGlucHV0Lm9wdGlvbnNdXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgZXhlY3V0ZVRyYW5zYWN0aW9uQmxvY2soaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX2V4ZWN1dGVUcmFuc2FjdGlvbkJsb2NrXCIsXG4gICAgICBwYXJhbXM6IFtcbiAgICAgICAgdHlwZW9mIGlucHV0LnRyYW5zYWN0aW9uQmxvY2sgPT09IFwic3RyaW5nXCIgPyBpbnB1dC50cmFuc2FjdGlvbkJsb2NrIDogdG9CNjQoaW5wdXQudHJhbnNhY3Rpb25CbG9jayksXG4gICAgICAgIEFycmF5LmlzQXJyYXkoaW5wdXQuc2lnbmF0dXJlKSA/IGlucHV0LnNpZ25hdHVyZSA6IFtpbnB1dC5zaWduYXR1cmVdLFxuICAgICAgICBpbnB1dC5vcHRpb25zLFxuICAgICAgICBpbnB1dC5yZXF1ZXN0VHlwZVxuICAgICAgXVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIHNpZ25BbmRFeGVjdXRlVHJhbnNhY3Rpb25CbG9jayh7XG4gICAgdHJhbnNhY3Rpb25CbG9jayxcbiAgICBzaWduZXIsXG4gICAgLi4uaW5wdXRcbiAgfSkge1xuICAgIGxldCB0cmFuc2FjdGlvbkJ5dGVzO1xuICAgIGlmICh0cmFuc2FjdGlvbkJsb2NrIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgdHJhbnNhY3Rpb25CeXRlcyA9IHRyYW5zYWN0aW9uQmxvY2s7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zYWN0aW9uQmxvY2suc2V0U2VuZGVySWZOb3RTZXQoc2lnbmVyLnRvU3VpQWRkcmVzcygpKTtcbiAgICAgIHRyYW5zYWN0aW9uQnl0ZXMgPSBhd2FpdCB0cmFuc2FjdGlvbkJsb2NrLmJ1aWxkKHsgY2xpZW50OiB0aGlzIH0pO1xuICAgIH1cbiAgICBjb25zdCB7IHNpZ25hdHVyZSwgYnl0ZXMgfSA9IGF3YWl0IHNpZ25lci5zaWduVHJhbnNhY3Rpb25CbG9jayh0cmFuc2FjdGlvbkJ5dGVzKTtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlVHJhbnNhY3Rpb25CbG9jayh7XG4gICAgICB0cmFuc2FjdGlvbkJsb2NrOiBieXRlcyxcbiAgICAgIHNpZ25hdHVyZSxcbiAgICAgIC4uLmlucHV0XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0b3RhbCBudW1iZXIgb2YgdHJhbnNhY3Rpb25zXG4gICAqL1xuICBhc3luYyBnZXRUb3RhbFRyYW5zYWN0aW9uQmxvY2tzKCkge1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfZ2V0VG90YWxUcmFuc2FjdGlvbkJsb2Nrc1wiLFxuICAgICAgcGFyYW1zOiBbXVxuICAgIH0pO1xuICAgIHJldHVybiBCaWdJbnQocmVzcCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHRpbmcgdGhlIHJlZmVyZW5jZSBnYXMgcHJpY2UgZm9yIHRoZSBuZXR3b3JrXG4gICAqL1xuICBhc3luYyBnZXRSZWZlcmVuY2VHYXNQcmljZSgpIHtcbiAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXRSZWZlcmVuY2VHYXNQcmljZVwiLFxuICAgICAgcGFyYW1zOiBbXVxuICAgIH0pO1xuICAgIHJldHVybiBCaWdJbnQocmVzcCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGVsZWdhdGVkIHN0YWtlcyBmb3IgYW4gYWRkcmVzc1xuICAgKi9cbiAgYXN5bmMgZ2V0U3Rha2VzKGlucHV0KSB7XG4gICAgaWYgKCFpbnB1dC5vd25lciB8fCAhaXNWYWxpZFN1aUFkZHJlc3Mobm9ybWFsaXplU3VpQWRkcmVzcyhpbnB1dC5vd25lcikpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFN1aSBhZGRyZXNzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7IG1ldGhvZDogXCJzdWl4X2dldFN0YWtlc1wiLCBwYXJhbXM6IFtpbnB1dC5vd25lcl0gfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZGVsZWdhdGVkIHN0YWtlcyBxdWVyaWVkIGJ5IGlkLlxuICAgKi9cbiAgYXN5bmMgZ2V0U3Rha2VzQnlJZHMoaW5wdXQpIHtcbiAgICBpbnB1dC5zdGFrZWRTdWlJZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlmICghaWQgfHwgIWlzVmFsaWRTdWlPYmplY3RJZChub3JtYWxpemVTdWlPYmplY3RJZChpZCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBTdWkgU3Rha2UgaWQgJHtpZH1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXRTdGFrZXNCeUlkc1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuc3Rha2VkU3VpSWRzXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxhdGVzdCBzeXN0ZW0gc3RhdGUgY29udGVudC5cbiAgICovXG4gIGFzeW5jIGdldExhdGVzdFN1aVN5c3RlbVN0YXRlKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHsgbWV0aG9kOiBcInN1aXhfZ2V0TGF0ZXN0U3VpU3lzdGVtU3RhdGVcIiwgcGFyYW1zOiBbXSB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGV2ZW50cyBmb3IgYSBnaXZlbiBxdWVyeSBjcml0ZXJpYVxuICAgKi9cbiAgYXN5bmMgcXVlcnlFdmVudHMoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9xdWVyeUV2ZW50c1wiLFxuICAgICAgcGFyYW1zOiBbXG4gICAgICAgIGlucHV0LnF1ZXJ5LFxuICAgICAgICBpbnB1dC5jdXJzb3IsXG4gICAgICAgIGlucHV0LmxpbWl0LFxuICAgICAgICAoaW5wdXQub3JkZXIgfHwgXCJkZXNjZW5kaW5nXCIpID09PSBcImRlc2NlbmRpbmdcIlxuICAgICAgXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gZ2V0IG5vdGlmaWNhdGlvbnMgd2hlbmV2ZXIgYW4gZXZlbnQgbWF0Y2hpbmcgdGhlIGZpbHRlciBvY2N1cnNcbiAgICovXG4gIGFzeW5jIHN1YnNjcmliZUV2ZW50KGlucHV0KSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnN1YnNjcmliZSh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9zdWJzY3JpYmVFdmVudFwiLFxuICAgICAgdW5zdWJzY3JpYmU6IFwic3VpeF91bnN1YnNjcmliZUV2ZW50XCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5maWx0ZXJdLFxuICAgICAgb25NZXNzYWdlOiBpbnB1dC5vbk1lc3NhZ2VcbiAgICB9KTtcbiAgfVxuICBhc3luYyBzdWJzY3JpYmVUcmFuc2FjdGlvbihpbnB1dCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5zdWJzY3JpYmUoe1xuICAgICAgbWV0aG9kOiBcInN1aXhfc3Vic2NyaWJlVHJhbnNhY3Rpb25cIixcbiAgICAgIHVuc3Vic2NyaWJlOiBcInN1aXhfdW5zdWJzY3JpYmVUcmFuc2FjdGlvblwiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuZmlsdGVyXSxcbiAgICAgIG9uTWVzc2FnZTogaW5wdXQub25NZXNzYWdlXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJ1bnMgdGhlIHRyYW5zYWN0aW9uIGJsb2NrIGluIGRldi1pbnNwZWN0IG1vZGUuIFdoaWNoIGFsbG93cyBmb3IgbmVhcmx5IGFueVxuICAgKiB0cmFuc2FjdGlvbiAob3IgTW92ZSBjYWxsKSB3aXRoIGFueSBhcmd1bWVudHMuIERldGFpbGVkIHJlc3VsdHMgYXJlXG4gICAqIHByb3ZpZGVkLCBpbmNsdWRpbmcgYm90aCB0aGUgdHJhbnNhY3Rpb24gZWZmZWN0cyBhbmQgYW55IHJldHVybiB2YWx1ZXMuXG4gICAqL1xuICBhc3luYyBkZXZJbnNwZWN0VHJhbnNhY3Rpb25CbG9jayhpbnB1dCkge1xuICAgIGxldCBkZXZJbnNwZWN0VHhCeXRlcztcbiAgICBpZiAoaXNUcmFuc2FjdGlvbkJsb2NrKGlucHV0LnRyYW5zYWN0aW9uQmxvY2spKSB7XG4gICAgICBpbnB1dC50cmFuc2FjdGlvbkJsb2NrLnNldFNlbmRlcklmTm90U2V0KGlucHV0LnNlbmRlcik7XG4gICAgICBkZXZJbnNwZWN0VHhCeXRlcyA9IHRvQjY0KFxuICAgICAgICBhd2FpdCBpbnB1dC50cmFuc2FjdGlvbkJsb2NrLmJ1aWxkKHtcbiAgICAgICAgICBjbGllbnQ6IHRoaXMsXG4gICAgICAgICAgb25seVRyYW5zYWN0aW9uS2luZDogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dC50cmFuc2FjdGlvbkJsb2NrID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBkZXZJbnNwZWN0VHhCeXRlcyA9IGlucHV0LnRyYW5zYWN0aW9uQmxvY2s7XG4gICAgfSBlbHNlIGlmIChpbnB1dC50cmFuc2FjdGlvbkJsb2NrIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgZGV2SW5zcGVjdFR4Qnl0ZXMgPSB0b0I2NChpbnB1dC50cmFuc2FjdGlvbkJsb2NrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0cmFuc2FjdGlvbiBibG9jayBmb3JtYXQuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpX2Rldkluc3BlY3RUcmFuc2FjdGlvbkJsb2NrXCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5zZW5kZXIsIGRldkluc3BlY3RUeEJ5dGVzLCBpbnB1dC5nYXNQcmljZT8udG9TdHJpbmcoKSwgaW5wdXQuZXBvY2hdXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERyeSBydW4gYSB0cmFuc2FjdGlvbiBibG9jayBhbmQgcmV0dXJuIHRoZSByZXN1bHQuXG4gICAqL1xuICBhc3luYyBkcnlSdW5UcmFuc2FjdGlvbkJsb2NrKGlucHV0KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcInN1aV9kcnlSdW5UcmFuc2FjdGlvbkJsb2NrXCIsXG4gICAgICBwYXJhbXM6IFtcbiAgICAgICAgdHlwZW9mIGlucHV0LnRyYW5zYWN0aW9uQmxvY2sgPT09IFwic3RyaW5nXCIgPyBpbnB1dC50cmFuc2FjdGlvbkJsb2NrIDogdG9CNjQoaW5wdXQudHJhbnNhY3Rpb25CbG9jaylcbiAgICAgIF1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBsaXN0IG9mIGR5bmFtaWMgZmllbGQgb2JqZWN0cyBvd25lZCBieSBhbiBvYmplY3RcbiAgICovXG4gIGFzeW5jIGdldER5bmFtaWNGaWVsZHMoaW5wdXQpIHtcbiAgICBpZiAoIWlucHV0LnBhcmVudElkIHx8ICFpc1ZhbGlkU3VpT2JqZWN0SWQobm9ybWFsaXplU3VpT2JqZWN0SWQoaW5wdXQucGFyZW50SWQpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTdWkgT2JqZWN0IGlkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXREeW5hbWljRmllbGRzXCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dC5wYXJlbnRJZCwgaW5wdXQuY3Vyc29yLCBpbnB1dC5saW1pdF1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBkeW5hbWljIGZpZWxkIG9iamVjdCBpbmZvcm1hdGlvbiBmb3IgYSBzcGVjaWZpZWQgb2JqZWN0XG4gICAqL1xuICBhc3luYyBnZXREeW5hbWljRmllbGRPYmplY3QoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXREeW5hbWljRmllbGRPYmplY3RcIixcbiAgICAgIHBhcmFtczogW2lucHV0LnBhcmVudElkLCBpbnB1dC5uYW1lXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIHNlcXVlbmNlIG51bWJlciBvZiB0aGUgbGF0ZXN0IGNoZWNrcG9pbnQgdGhhdCBoYXMgYmVlbiBleGVjdXRlZFxuICAgKi9cbiAgYXN5bmMgZ2V0TGF0ZXN0Q2hlY2twb2ludFNlcXVlbmNlTnVtYmVyKCkge1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfZ2V0TGF0ZXN0Q2hlY2twb2ludFNlcXVlbmNlTnVtYmVyXCIsXG4gICAgICBwYXJhbXM6IFtdXG4gICAgfSk7XG4gICAgcmV0dXJuIFN0cmluZyhyZXNwKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIGdpdmVuIGNoZWNrcG9pbnRcbiAgICovXG4gIGFzeW5jIGdldENoZWNrcG9pbnQoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7IG1ldGhvZDogXCJzdWlfZ2V0Q2hlY2twb2ludFwiLCBwYXJhbXM6IFtpbnB1dC5pZF0gfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaGlzdG9yaWNhbCBjaGVja3BvaW50cyBwYWdpbmF0ZWRcbiAgICovXG4gIGFzeW5jIGdldENoZWNrcG9pbnRzKGlucHV0KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgbWV0aG9kOiBcInN1aV9nZXRDaGVja3BvaW50c1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuY3Vyc29yLCBpbnB1dD8ubGltaXQsIGlucHV0LmRlc2NlbmRpbmdPcmRlcl1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjb21taXR0ZWUgaW5mb3JtYXRpb24gZm9yIHRoZSBhc2tlZCBlcG9jaFxuICAgKi9cbiAgYXN5bmMgZ2V0Q29tbWl0dGVlSW5mbyhpbnB1dCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWl4X2dldENvbW1pdHRlZUluZm9cIixcbiAgICAgIHBhcmFtczogW2lucHV0Py5lcG9jaF1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBnZXROZXR3b3JrTWV0cmljcygpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7IG1ldGhvZDogXCJzdWl4X2dldE5ldHdvcmtNZXRyaWNzXCIsIHBhcmFtczogW10gfSk7XG4gIH1cbiAgYXN5bmMgZ2V0QWRkcmVzc01ldHJpY3MoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3QoeyBtZXRob2Q6IFwic3VpeF9nZXRMYXRlc3RBZGRyZXNzTWV0cmljc1wiLCBwYXJhbXM6IFtdIH0pO1xuICB9XG4gIGFzeW5jIGdldEVwb2NoTWV0cmljcyhpbnB1dCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWl4X2dldEVwb2NoTWV0cmljc1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQ/LmN1cnNvciwgaW5wdXQ/LmxpbWl0LCBpbnB1dD8uZGVzY2VuZGluZ09yZGVyXVxuICAgIH0pO1xuICB9XG4gIGFzeW5jIGdldEFsbEVwb2NoQWRkcmVzc01ldHJpY3MoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXRBbGxFcG9jaEFkZHJlc3NNZXRyaWNzXCIsXG4gICAgICBwYXJhbXM6IFtpbnB1dD8uZGVzY2VuZGluZ09yZGVyXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvbW1pdHRlZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGFza2VkIGVwb2NoXG4gICAqL1xuICBhc3luYyBnZXRFcG9jaHMoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9nZXRFcG9jaHNcIixcbiAgICAgIHBhcmFtczogW2lucHV0Py5jdXJzb3IsIGlucHV0Py5saW1pdCwgaW5wdXQ/LmRlc2NlbmRpbmdPcmRlcl1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIHRvcCBtb3ZlIGNhbGxzIGJ5IHVzYWdlXG4gICAqL1xuICBhc3luYyBnZXRNb3ZlQ2FsbE1ldHJpY3MoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMudHJhbnNwb3J0LnJlcXVlc3QoeyBtZXRob2Q6IFwic3VpeF9nZXRNb3ZlQ2FsbE1ldHJpY3NcIiwgcGFyYW1zOiBbXSB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjb21taXR0ZWUgaW5mb3JtYXRpb24gZm9yIHRoZSBhc2tlZCBlcG9jaFxuICAgKi9cbiAgYXN5bmMgZ2V0Q3VycmVudEVwb2NoKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHsgbWV0aG9kOiBcInN1aXhfZ2V0Q3VycmVudEVwb2NoXCIsIHBhcmFtczogW10gfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgVmFsaWRhdG9ycyBBUFlzXG4gICAqL1xuICBhc3luYyBnZXRWYWxpZGF0b3JzQXB5KCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHsgbWV0aG9kOiBcInN1aXhfZ2V0VmFsaWRhdG9yc0FweVwiLCBwYXJhbXM6IFtdIH0pO1xuICB9XG4gIC8vIFRPRE86IE1pZ3JhdGUgdGhpcyB0byBgc3VpX2dldENoYWluSWRlbnRpZmllcmAgb25jZSBpdCBpcyB3aWRlbHkgYXZhaWxhYmxlLlxuICBhc3luYyBnZXRDaGFpbklkZW50aWZpZXIoKSB7XG4gICAgY29uc3QgY2hlY2twb2ludCA9IGF3YWl0IHRoaXMuZ2V0Q2hlY2twb2ludCh7IGlkOiBcIjBcIiB9KTtcbiAgICBjb25zdCBieXRlcyA9IGZyb21CNTgoY2hlY2twb2ludC5kaWdlc3QpO1xuICAgIHJldHVybiB0b0hFWChieXRlcy5zbGljZSgwLCA0KSk7XG4gIH1cbiAgYXN5bmMgcmVzb2x2ZU5hbWVTZXJ2aWNlQWRkcmVzcyhpbnB1dCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWl4X3Jlc29sdmVOYW1lU2VydmljZUFkZHJlc3NcIixcbiAgICAgIHBhcmFtczogW2lucHV0Lm5hbWVdXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgcmVzb2x2ZU5hbWVTZXJ2aWNlTmFtZXMoaW5wdXQpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy50cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICBtZXRob2Q6IFwic3VpeF9yZXNvbHZlTmFtZVNlcnZpY2VOYW1lc1wiLFxuICAgICAgcGFyYW1zOiBbaW5wdXQuYWRkcmVzcywgaW5wdXQuY3Vyc29yLCBpbnB1dC5saW1pdF1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBnZXRQcm90b2NvbENvbmZpZyhpbnB1dCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJzdWlfZ2V0UHJvdG9jb2xDb25maWdcIixcbiAgICAgIHBhcmFtczogW2lucHV0Py52ZXJzaW9uXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBXYWl0IGZvciBhIHRyYW5zYWN0aW9uIGJsb2NrIHJlc3VsdCB0byBiZSBhdmFpbGFibGUgb3ZlciB0aGUgQVBJLlxuICAgKiBUaGlzIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYGV4ZWN1dGVUcmFuc2FjdGlvbkJsb2NrYCB0byB3YWl0IGZvciB0aGUgdHJhbnNhY3Rpb24gdG9cbiAgICogYmUgYXZhaWxhYmxlIHZpYSB0aGUgQVBJLlxuICAgKiBUaGlzIGN1cnJlbnRseSBwb2xscyB0aGUgYGdldFRyYW5zYWN0aW9uQmxvY2tgIEFQSSB0byBjaGVjayBmb3IgdGhlIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgYXN5bmMgd2FpdEZvclRyYW5zYWN0aW9uQmxvY2soe1xuICAgIHNpZ25hbCxcbiAgICB0aW1lb3V0ID0gNjAgKiAxZTMsXG4gICAgcG9sbEludGVydmFsID0gMiAqIDFlMyxcbiAgICAuLi5pbnB1dFxuICB9KSB7XG4gICAgY29uc3QgdGltZW91dFNpZ25hbCA9IEFib3J0U2lnbmFsLnRpbWVvdXQodGltZW91dCk7XG4gICAgY29uc3QgdGltZW91dFByb21pc2UgPSBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PiB7XG4gICAgICB0aW1lb3V0U2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiByZWplY3QodGltZW91dFNpZ25hbC5yZWFzb24pKTtcbiAgICB9KTtcbiAgICB0aW1lb3V0UHJvbWlzZS5jYXRjaCgoKSA9PiB7XG4gICAgfSk7XG4gICAgd2hpbGUgKCF0aW1lb3V0U2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFRyYW5zYWN0aW9uQmxvY2soaW5wdXQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHBvbGxJbnRlcnZhbCkpLFxuICAgICAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aW1lb3V0U2lnbmFsLnRocm93SWZBYm9ydGVkKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBlcnJvciB3aGlsZSB3YWl0aW5nIGZvciB0cmFuc2FjdGlvbiBibG9jay5cIik7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFNVSV9DTElFTlRfQlJBTkQsXG4gIFN1aUNsaWVudCxcbiAgaXNTdWlDbGllbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/client.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/errors.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/client/errors.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JsonRpcError: () => (/* binding */ JsonRpcError),\n/* harmony export */   SuiHTTPStatusError: () => (/* binding */ SuiHTTPStatusError),\n/* harmony export */   SuiHTTPTransportError: () => (/* binding */ SuiHTTPTransportError)\n/* harmony export */ });\nconst CODE_TO_ERROR_TYPE = {\n  \"-32700\": \"ParseError\",\n  \"-32600\": \"InvalidRequest\",\n  \"-32601\": \"MethodNotFound\",\n  \"-32602\": \"InvalidParams\",\n  \"-32603\": \"InternalError\"\n};\nclass SuiHTTPTransportError extends Error {\n}\nclass JsonRpcError extends SuiHTTPTransportError {\n  constructor(message, code) {\n    super(message);\n    this.code = code;\n    this.type = CODE_TO_ERROR_TYPE[code] ?? \"ServerError\";\n  }\n}\nclass SuiHTTPStatusError extends SuiHTTPTransportError {\n  constructor(message, status, statusText) {\n    super(message);\n    this.status = status;\n    this.statusText = statusText;\n  }\n}\n\n//# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2NsaWVudC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vY2xpZW50L2Vycm9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDT0RFX1RPX0VSUk9SX1RZUEUgPSB7XG4gIFwiLTMyNzAwXCI6IFwiUGFyc2VFcnJvclwiLFxuICBcIi0zMjYwMFwiOiBcIkludmFsaWRSZXF1ZXN0XCIsXG4gIFwiLTMyNjAxXCI6IFwiTWV0aG9kTm90Rm91bmRcIixcbiAgXCItMzI2MDJcIjogXCJJbnZhbGlkUGFyYW1zXCIsXG4gIFwiLTMyNjAzXCI6IFwiSW50ZXJuYWxFcnJvclwiXG59O1xuY2xhc3MgU3VpSFRUUFRyYW5zcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuY2xhc3MgSnNvblJwY0Vycm9yIGV4dGVuZHMgU3VpSFRUUFRyYW5zcG9ydEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy50eXBlID0gQ09ERV9UT19FUlJPUl9UWVBFW2NvZGVdID8/IFwiU2VydmVyRXJyb3JcIjtcbiAgfVxufVxuY2xhc3MgU3VpSFRUUFN0YXR1c0Vycm9yIGV4dGVuZHMgU3VpSFRUUFRyYW5zcG9ydEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzLCBzdGF0dXNUZXh0KSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dDtcbiAgfVxufVxuZXhwb3J0IHtcbiAgSnNvblJwY0Vycm9yLFxuICBTdWlIVFRQU3RhdHVzRXJyb3IsXG4gIFN1aUhUVFBUcmFuc3BvcnRFcnJvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/errors.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/http-transport.js":
/*!***************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/client/http-transport.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SuiHTTPTransport: () => (/* binding */ SuiHTTPTransport)\n/* harmony export */ });\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../version.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/version.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/errors.js\");\n/* harmony import */ var _rpc_websocket_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rpc-websocket-client.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/rpc-websocket-client.js\");\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _requestId, _options, _websocketClient, _getWebsocketClient, getWebsocketClient_fn;\n\n\n\nclass SuiHTTPTransport {\n  constructor(options) {\n    __privateAdd(this, _getWebsocketClient);\n    __privateAdd(this, _requestId, 0);\n    __privateAdd(this, _options, void 0);\n    __privateAdd(this, _websocketClient, void 0);\n    __privateSet(this, _options, options);\n  }\n  fetch(input, init) {\n    const fetch = __privateGet(this, _options).fetch ?? globalThis.fetch;\n    if (!this.fetch) {\n      throw new Error(\n        \"The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.\"\n      );\n    }\n    return fetch(input, init);\n  }\n  async request(input) {\n    __privateSet(this, _requestId, __privateGet(this, _requestId) + 1);\n    const res = await this.fetch(__privateGet(this, _options).rpc?.url ?? __privateGet(this, _options).url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Client-Sdk-Type\": \"typescript\",\n        \"Client-Sdk-Version\": _version_js__WEBPACK_IMPORTED_MODULE_0__.PACKAGE_VERSION,\n        \"Client-Target-Api-Version\": _version_js__WEBPACK_IMPORTED_MODULE_0__.TARGETED_RPC_VERSION,\n        ...__privateGet(this, _options).rpc?.headers\n      },\n      body: JSON.stringify({\n        jsonrpc: \"2.0\",\n        id: __privateGet(this, _requestId),\n        method: input.method,\n        params: input.params\n      })\n    });\n    if (!res.ok) {\n      throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.SuiHTTPStatusError(\n        `Unexpected status code: ${res.status}`,\n        res.status,\n        res.statusText\n      );\n    }\n    const data = await res.json();\n    if (\"error\" in data && data.error != null) {\n      throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.JsonRpcError(data.error.message, data.error.code);\n    }\n    return data.result;\n  }\n  async subscribe(input) {\n    const unsubscribe = await __privateMethod(this, _getWebsocketClient, getWebsocketClient_fn).call(this).subscribe(input);\n    return async () => !!await unsubscribe();\n  }\n}\n_requestId = new WeakMap();\n_options = new WeakMap();\n_websocketClient = new WeakMap();\n_getWebsocketClient = new WeakSet();\ngetWebsocketClient_fn = function() {\n  if (!__privateGet(this, _websocketClient)) {\n    const WebSocketConstructor = __privateGet(this, _options).WebSocketConstructor ?? globalThis.WebSocket;\n    if (!WebSocketConstructor) {\n      throw new Error(\n        \"The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.\"\n      );\n    }\n    __privateSet(this, _websocketClient, new _rpc_websocket_client_js__WEBPACK_IMPORTED_MODULE_2__.WebsocketClient(\n      __privateGet(this, _options).websocket?.url ?? __privateGet(this, _options).url,\n      {\n        WebSocketConstructor: __privateGet(this, _options).WebSocketConstructor,\n        ...__privateGet(this, _options).websocket\n      }\n    ));\n  }\n  return __privateGet(this, _websocketClient);\n};\n\n//# sourceMappingURL=http-transport.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2NsaWVudC9odHRwLXRyYW5zcG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNzRTtBQUNQO0FBQ0g7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdEQUFlO0FBQzdDLHFDQUFxQyw2REFBb0I7QUFDekQ7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsMERBQWtCO0FBQ2xDLG1DQUFtQyxXQUFXO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixvREFBWTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHFFQUFlO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vY2xpZW50L2h0dHAtdHJhbnNwb3J0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpXG4gICAgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9fcHJpdmF0ZU1ldGhvZCA9IChvYmosIG1lbWJlciwgbWV0aG9kKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwiYWNjZXNzIHByaXZhdGUgbWV0aG9kXCIpO1xuICByZXR1cm4gbWV0aG9kO1xufTtcbnZhciBfcmVxdWVzdElkLCBfb3B0aW9ucywgX3dlYnNvY2tldENsaWVudCwgX2dldFdlYnNvY2tldENsaWVudCwgZ2V0V2Vic29ja2V0Q2xpZW50X2ZuO1xuaW1wb3J0IHsgUEFDS0FHRV9WRVJTSU9OLCBUQVJHRVRFRF9SUENfVkVSU0lPTiB9IGZyb20gXCIuLi92ZXJzaW9uLmpzXCI7XG5pbXBvcnQgeyBKc29uUnBjRXJyb3IsIFN1aUhUVFBTdGF0dXNFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgV2Vic29ja2V0Q2xpZW50IH0gZnJvbSBcIi4vcnBjLXdlYnNvY2tldC1jbGllbnQuanNcIjtcbmNsYXNzIFN1aUhUVFBUcmFuc3BvcnQge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9nZXRXZWJzb2NrZXRDbGllbnQpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcmVxdWVzdElkLCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX29wdGlvbnMsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF93ZWJzb2NrZXRDbGllbnQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9vcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuICBmZXRjaChpbnB1dCwgaW5pdCkge1xuICAgIGNvbnN0IGZldGNoID0gX19wcml2YXRlR2V0KHRoaXMsIF9vcHRpb25zKS5mZXRjaCA/PyBnbG9iYWxUaGlzLmZldGNoO1xuICAgIGlmICghdGhpcy5mZXRjaCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgZmV0Y2gsIHlvdSBjYW4gcHJvdmlkZSBhIGZldGNoIGltcGxlbWVudGF0aW9uIGluIHRoZSBvcHRpb25zIGZvciBTdWlIVFRQVHJhbnNwb3J0LlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmV0Y2goaW5wdXQsIGluaXQpO1xuICB9XG4gIGFzeW5jIHJlcXVlc3QoaW5wdXQpIHtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3JlcXVlc3RJZCwgX19wcml2YXRlR2V0KHRoaXMsIF9yZXF1ZXN0SWQpICsgMSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5mZXRjaChfX3ByaXZhdGVHZXQodGhpcywgX29wdGlvbnMpLnJwYz8udXJsID8/IF9fcHJpdmF0ZUdldCh0aGlzLCBfb3B0aW9ucykudXJsLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJDbGllbnQtU2RrLVR5cGVcIjogXCJ0eXBlc2NyaXB0XCIsXG4gICAgICAgIFwiQ2xpZW50LVNkay1WZXJzaW9uXCI6IFBBQ0tBR0VfVkVSU0lPTixcbiAgICAgICAgXCJDbGllbnQtVGFyZ2V0LUFwaS1WZXJzaW9uXCI6IFRBUkdFVEVEX1JQQ19WRVJTSU9OLFxuICAgICAgICAuLi5fX3ByaXZhdGVHZXQodGhpcywgX29wdGlvbnMpLnJwYz8uaGVhZGVyc1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgaWQ6IF9fcHJpdmF0ZUdldCh0aGlzLCBfcmVxdWVzdElkKSxcbiAgICAgICAgbWV0aG9kOiBpbnB1dC5tZXRob2QsXG4gICAgICAgIHBhcmFtczogaW5wdXQucGFyYW1zXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgU3VpSFRUUFN0YXR1c0Vycm9yKFxuICAgICAgICBgVW5leHBlY3RlZCBzdGF0dXMgY29kZTogJHtyZXMuc3RhdHVzfWAsXG4gICAgICAgIHJlcy5zdGF0dXMsXG4gICAgICAgIHJlcy5zdGF0dXNUZXh0XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoXCJlcnJvclwiIGluIGRhdGEgJiYgZGF0YS5lcnJvciAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSnNvblJwY0Vycm9yKGRhdGEuZXJyb3IubWVzc2FnZSwgZGF0YS5lcnJvci5jb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEucmVzdWx0O1xuICB9XG4gIGFzeW5jIHN1YnNjcmliZShpbnB1dCkge1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gYXdhaXQgX19wcml2YXRlTWV0aG9kKHRoaXMsIF9nZXRXZWJzb2NrZXRDbGllbnQsIGdldFdlYnNvY2tldENsaWVudF9mbikuY2FsbCh0aGlzKS5zdWJzY3JpYmUoaW5wdXQpO1xuICAgIHJldHVybiBhc3luYyAoKSA9PiAhIWF3YWl0IHVuc3Vic2NyaWJlKCk7XG4gIH1cbn1cbl9yZXF1ZXN0SWQgPSBuZXcgV2Vha01hcCgpO1xuX29wdGlvbnMgPSBuZXcgV2Vha01hcCgpO1xuX3dlYnNvY2tldENsaWVudCA9IG5ldyBXZWFrTWFwKCk7XG5fZ2V0V2Vic29ja2V0Q2xpZW50ID0gbmV3IFdlYWtTZXQoKTtcbmdldFdlYnNvY2tldENsaWVudF9mbiA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIV9fcHJpdmF0ZUdldCh0aGlzLCBfd2Vic29ja2V0Q2xpZW50KSkge1xuICAgIGNvbnN0IFdlYlNvY2tldENvbnN0cnVjdG9yID0gX19wcml2YXRlR2V0KHRoaXMsIF9vcHRpb25zKS5XZWJTb2NrZXRDb25zdHJ1Y3RvciA/PyBnbG9iYWxUaGlzLldlYlNvY2tldDtcbiAgICBpZiAoIVdlYlNvY2tldENvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBXZWJTb2NrZXQsIHlvdSBjYW4gcHJvdmlkZSBhIFdlYlNvY2tldENvbnN0cnVjdG9yIGluIHRoZSBvcHRpb25zIGZvciBTdWlIVFRQVHJhbnNwb3J0LlwiXG4gICAgICApO1xuICAgIH1cbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3dlYnNvY2tldENsaWVudCwgbmV3IFdlYnNvY2tldENsaWVudChcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfb3B0aW9ucykud2Vic29ja2V0Py51cmwgPz8gX19wcml2YXRlR2V0KHRoaXMsIF9vcHRpb25zKS51cmwsXG4gICAgICB7XG4gICAgICAgIFdlYlNvY2tldENvbnN0cnVjdG9yOiBfX3ByaXZhdGVHZXQodGhpcywgX29wdGlvbnMpLldlYlNvY2tldENvbnN0cnVjdG9yLFxuICAgICAgICAuLi5fX3ByaXZhdGVHZXQodGhpcywgX29wdGlvbnMpLndlYnNvY2tldFxuICAgICAgfVxuICAgICkpO1xuICB9XG4gIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX3dlYnNvY2tldENsaWVudCk7XG59O1xuZXhwb3J0IHtcbiAgU3VpSFRUUFRyYW5zcG9ydFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAtdHJhbnNwb3J0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/http-transport.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/rpc-websocket-client.js":
/*!*********************************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/client/rpc-websocket-client.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CLIENT_OPTIONS: () => (/* binding */ DEFAULT_CLIENT_OPTIONS),\n/* harmony export */   WebsocketClient: () => (/* binding */ WebsocketClient)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/errors.js\");\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _requestId, _disconnects, _webSocket, _connectionPromise, _subscriptions, _pendingRequests, _setupWebSocket, setupWebSocket_fn, _reconnect, reconnect_fn;\n\nfunction getWebsocketUrl(httpUrl) {\n  const url = new URL(httpUrl);\n  url.protocol = url.protocol.replace(\"http\", \"ws\");\n  return url.toString();\n}\nconst DEFAULT_CLIENT_OPTIONS = {\n  // We fudge the typing because we also check for undefined in the constructor:\n  WebSocketConstructor: typeof WebSocket !== \"undefined\" ? WebSocket : void 0,\n  callTimeout: 3e4,\n  reconnectTimeout: 3e3,\n  maxReconnects: 5\n};\nclass WebsocketClient {\n  constructor(endpoint, options = {}) {\n    __privateAdd(this, _setupWebSocket);\n    __privateAdd(this, _reconnect);\n    __privateAdd(this, _requestId, 0);\n    __privateAdd(this, _disconnects, 0);\n    __privateAdd(this, _webSocket, null);\n    __privateAdd(this, _connectionPromise, null);\n    __privateAdd(this, _subscriptions, /* @__PURE__ */ new Set());\n    __privateAdd(this, _pendingRequests, /* @__PURE__ */ new Map());\n    this.endpoint = endpoint;\n    this.options = { ...DEFAULT_CLIENT_OPTIONS, ...options };\n    if (!this.options.WebSocketConstructor) {\n      throw new Error(\"Missing WebSocket constructor\");\n    }\n    if (this.endpoint.startsWith(\"http\")) {\n      this.endpoint = getWebsocketUrl(this.endpoint);\n    }\n  }\n  async makeRequest(method, params) {\n    const webSocket = await __privateMethod(this, _setupWebSocket, setupWebSocket_fn).call(this);\n    return new Promise((resolve, reject) => {\n      __privateSet(this, _requestId, __privateGet(this, _requestId) + 1);\n      __privateGet(this, _pendingRequests).set(__privateGet(this, _requestId), {\n        resolve,\n        reject,\n        timeout: setTimeout(() => {\n          __privateGet(this, _pendingRequests).delete(__privateGet(this, _requestId));\n          reject(new Error(`Request timeout: ${method}`));\n        }, this.options.callTimeout)\n      });\n      webSocket.send(JSON.stringify({ jsonrpc: \"2.0\", id: __privateGet(this, _requestId), method, params }));\n    }).then(({ error, result }) => {\n      if (error) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JsonRpcError(error.message, error.code);\n      }\n      return result;\n    });\n  }\n  async subscribe(input) {\n    const subscription = new RpcSubscription(input);\n    __privateGet(this, _subscriptions).add(subscription);\n    await subscription.subscribe(this);\n    return () => subscription.unsubscribe(this);\n  }\n}\n_requestId = new WeakMap();\n_disconnects = new WeakMap();\n_webSocket = new WeakMap();\n_connectionPromise = new WeakMap();\n_subscriptions = new WeakMap();\n_pendingRequests = new WeakMap();\n_setupWebSocket = new WeakSet();\nsetupWebSocket_fn = function() {\n  if (__privateGet(this, _connectionPromise)) {\n    return __privateGet(this, _connectionPromise);\n  }\n  __privateSet(this, _connectionPromise, new Promise((resolve) => {\n    __privateGet(this, _webSocket)?.close();\n    __privateSet(this, _webSocket, new this.options.WebSocketConstructor(this.endpoint));\n    __privateGet(this, _webSocket).addEventListener(\"open\", () => {\n      __privateSet(this, _disconnects, 0);\n      resolve(__privateGet(this, _webSocket));\n    });\n    __privateGet(this, _webSocket).addEventListener(\"close\", () => {\n      __privateWrapper(this, _disconnects)._++;\n      if (__privateGet(this, _disconnects) <= this.options.maxReconnects) {\n        setTimeout(() => {\n          __privateMethod(this, _reconnect, reconnect_fn).call(this);\n        }, this.options.reconnectTimeout);\n      }\n    });\n    __privateGet(this, _webSocket).addEventListener(\"message\", ({ data }) => {\n      let json;\n      try {\n        json = JSON.parse(data);\n      } catch (error) {\n        console.error(new Error(`Failed to parse RPC message: ${data}`, { cause: error }));\n        return;\n      }\n      if (\"id\" in json && json.id != null && __privateGet(this, _pendingRequests).has(json.id)) {\n        const { resolve: resolve2, timeout } = __privateGet(this, _pendingRequests).get(json.id);\n        clearTimeout(timeout);\n        resolve2(json);\n      } else if (\"params\" in json) {\n        const { params } = json;\n        __privateGet(this, _subscriptions).forEach((subscription) => {\n          if (subscription.subscriptionId === params.subscription) {\n            if (params.subscription === subscription.subscriptionId) {\n              subscription.onMessage(params.result);\n            }\n          }\n        });\n      }\n    });\n  }));\n  return __privateGet(this, _connectionPromise);\n};\n_reconnect = new WeakSet();\nreconnect_fn = async function() {\n  __privateGet(this, _webSocket)?.close();\n  __privateSet(this, _connectionPromise, null);\n  return Promise.allSettled(\n    [...__privateGet(this, _subscriptions)].map((subscription) => subscription.subscribe(this))\n  );\n};\nclass RpcSubscription {\n  constructor(input) {\n    this.subscriptionId = null;\n    this.subscribed = false;\n    this.input = input;\n  }\n  onMessage(message) {\n    if (this.subscribed) {\n      this.input.onMessage(message);\n    }\n  }\n  async unsubscribe(client) {\n    const { subscriptionId } = this;\n    this.subscribed = false;\n    if (subscriptionId == null)\n      return false;\n    this.subscriptionId = null;\n    return client.makeRequest(this.input.unsubscribe, [subscriptionId]);\n  }\n  async subscribe(client) {\n    this.subscriptionId = null;\n    this.subscribed = true;\n    const newSubscriptionId = await client.makeRequest(\n      this.input.method,\n      this.input.params\n    );\n    if (this.subscribed) {\n      this.subscriptionId = newSubscriptionId;\n    }\n  }\n}\n\n//# sourceMappingURL=rpc-websocket-client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL2NsaWVudC9ycGMtd2Vic29ja2V0LWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE9BQU87QUFDdEQsU0FBUztBQUNULE9BQU87QUFDUCxzQ0FBc0Msb0VBQW9FO0FBQzFHLEtBQUssVUFBVSxlQUFlO0FBQzlCO0FBQ0Esa0JBQWtCLG9EQUFZO0FBQzlCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxrRUFBa0UsTUFBTTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsZ0VBQWdFLEtBQUssS0FBSyxjQUFjO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBLFFBQVE7QUFDUixnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS9jbGllbnQvcnBjLXdlYnNvY2tldC1jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKVxuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX19wcml2YXRlV3JhcHBlciA9IChvYmosIG1lbWJlciwgc2V0dGVyLCBnZXR0ZXIpID0+ICh7XG4gIHNldCBfKHZhbHVlKSB7XG4gICAgX19wcml2YXRlU2V0KG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKTtcbiAgfSxcbiAgZ2V0IF8oKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldChvYmosIG1lbWJlciwgZ2V0dGVyKTtcbiAgfVxufSk7XG52YXIgX19wcml2YXRlTWV0aG9kID0gKG9iaiwgbWVtYmVyLCBtZXRob2QpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIik7XG4gIHJldHVybiBtZXRob2Q7XG59O1xudmFyIF9yZXF1ZXN0SWQsIF9kaXNjb25uZWN0cywgX3dlYlNvY2tldCwgX2Nvbm5lY3Rpb25Qcm9taXNlLCBfc3Vic2NyaXB0aW9ucywgX3BlbmRpbmdSZXF1ZXN0cywgX3NldHVwV2ViU29ja2V0LCBzZXR1cFdlYlNvY2tldF9mbiwgX3JlY29ubmVjdCwgcmVjb25uZWN0X2ZuO1xuaW1wb3J0IHsgSnNvblJwY0Vycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5mdW5jdGlvbiBnZXRXZWJzb2NrZXRVcmwoaHR0cFVybCkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGh0dHBVcmwpO1xuICB1cmwucHJvdG9jb2wgPSB1cmwucHJvdG9jb2wucmVwbGFjZShcImh0dHBcIiwgXCJ3c1wiKTtcbiAgcmV0dXJuIHVybC50b1N0cmluZygpO1xufVxuY29uc3QgREVGQVVMVF9DTElFTlRfT1BUSU9OUyA9IHtcbiAgLy8gV2UgZnVkZ2UgdGhlIHR5cGluZyBiZWNhdXNlIHdlIGFsc28gY2hlY2sgZm9yIHVuZGVmaW5lZCBpbiB0aGUgY29uc3RydWN0b3I6XG4gIFdlYlNvY2tldENvbnN0cnVjdG9yOiB0eXBlb2YgV2ViU29ja2V0ICE9PSBcInVuZGVmaW5lZFwiID8gV2ViU29ja2V0IDogdm9pZCAwLFxuICBjYWxsVGltZW91dDogM2U0LFxuICByZWNvbm5lY3RUaW1lb3V0OiAzZTMsXG4gIG1heFJlY29ubmVjdHM6IDVcbn07XG5jbGFzcyBXZWJzb2NrZXRDbGllbnQge1xuICBjb25zdHJ1Y3RvcihlbmRwb2ludCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9zZXR1cFdlYlNvY2tldCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9yZWNvbm5lY3QpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcmVxdWVzdElkLCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2Rpc2Nvbm5lY3RzLCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3dlYlNvY2tldCwgbnVsbCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jb25uZWN0aW9uUHJvbWlzZSwgbnVsbCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9zdWJzY3JpcHRpb25zLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3BlbmRpbmdSZXF1ZXN0cywgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgdGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uREVGQVVMVF9DTElFTlRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgIGlmICghdGhpcy5vcHRpb25zLldlYlNvY2tldENvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIFdlYlNvY2tldCBjb25zdHJ1Y3RvclwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kcG9pbnQuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICAgIHRoaXMuZW5kcG9pbnQgPSBnZXRXZWJzb2NrZXRVcmwodGhpcy5lbmRwb2ludCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIG1ha2VSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgY29uc3Qgd2ViU29ja2V0ID0gYXdhaXQgX19wcml2YXRlTWV0aG9kKHRoaXMsIF9zZXR1cFdlYlNvY2tldCwgc2V0dXBXZWJTb2NrZXRfZm4pLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcmVxdWVzdElkLCBfX3ByaXZhdGVHZXQodGhpcywgX3JlcXVlc3RJZCkgKyAxKTtcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfcGVuZGluZ1JlcXVlc3RzKS5zZXQoX19wcml2YXRlR2V0KHRoaXMsIF9yZXF1ZXN0SWQpLCB7XG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIHJlamVjdCxcbiAgICAgICAgdGltZW91dDogc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9wZW5kaW5nUmVxdWVzdHMpLmRlbGV0ZShfX3ByaXZhdGVHZXQodGhpcywgX3JlcXVlc3RJZCkpO1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYFJlcXVlc3QgdGltZW91dDogJHttZXRob2R9YCkpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuY2FsbFRpbWVvdXQpXG4gICAgICB9KTtcbiAgICAgIHdlYlNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsganNvbnJwYzogXCIyLjBcIiwgaWQ6IF9fcHJpdmF0ZUdldCh0aGlzLCBfcmVxdWVzdElkKSwgbWV0aG9kLCBwYXJhbXMgfSkpO1xuICAgIH0pLnRoZW4oKHsgZXJyb3IsIHJlc3VsdCB9KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEpzb25ScGNFcnJvcihlcnJvci5tZXNzYWdlLCBlcnJvci5jb2RlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgc3Vic2NyaWJlKGlucHV0KSB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmV3IFJwY1N1YnNjcmlwdGlvbihpbnB1dCk7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9zdWJzY3JpcHRpb25zKS5hZGQoc3Vic2NyaXB0aW9uKTtcbiAgICBhd2FpdCBzdWJzY3JpcHRpb24uc3Vic2NyaWJlKHRoaXMpO1xuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUodGhpcyk7XG4gIH1cbn1cbl9yZXF1ZXN0SWQgPSBuZXcgV2Vha01hcCgpO1xuX2Rpc2Nvbm5lY3RzID0gbmV3IFdlYWtNYXAoKTtcbl93ZWJTb2NrZXQgPSBuZXcgV2Vha01hcCgpO1xuX2Nvbm5lY3Rpb25Qcm9taXNlID0gbmV3IFdlYWtNYXAoKTtcbl9zdWJzY3JpcHRpb25zID0gbmV3IFdlYWtNYXAoKTtcbl9wZW5kaW5nUmVxdWVzdHMgPSBuZXcgV2Vha01hcCgpO1xuX3NldHVwV2ViU29ja2V0ID0gbmV3IFdlYWtTZXQoKTtcbnNldHVwV2ViU29ja2V0X2ZuID0gZnVuY3Rpb24oKSB7XG4gIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2Nvbm5lY3Rpb25Qcm9taXNlKSkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX2Nvbm5lY3Rpb25Qcm9taXNlKTtcbiAgfVxuICBfX3ByaXZhdGVTZXQodGhpcywgX2Nvbm5lY3Rpb25Qcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfd2ViU29ja2V0KT8uY2xvc2UoKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3dlYlNvY2tldCwgbmV3IHRoaXMub3B0aW9ucy5XZWJTb2NrZXRDb25zdHJ1Y3Rvcih0aGlzLmVuZHBvaW50KSk7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF93ZWJTb2NrZXQpLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsICgpID0+IHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfZGlzY29ubmVjdHMsIDApO1xuICAgICAgcmVzb2x2ZShfX3ByaXZhdGVHZXQodGhpcywgX3dlYlNvY2tldCkpO1xuICAgIH0pO1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfd2ViU29ja2V0KS5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgKCkgPT4ge1xuICAgICAgX19wcml2YXRlV3JhcHBlcih0aGlzLCBfZGlzY29ubmVjdHMpLl8rKztcbiAgICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2Rpc2Nvbm5lY3RzKSA8PSB0aGlzLm9wdGlvbnMubWF4UmVjb25uZWN0cykge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBfX3ByaXZhdGVNZXRob2QodGhpcywgX3JlY29ubmVjdCwgcmVjb25uZWN0X2ZuKS5jYWxsKHRoaXMpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMucmVjb25uZWN0VGltZW91dCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF93ZWJTb2NrZXQpLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsICh7IGRhdGEgfSkgPT4ge1xuICAgICAgbGV0IGpzb247XG4gICAgICB0cnkge1xuICAgICAgICBqc29uID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgUlBDIG1lc3NhZ2U6ICR7ZGF0YX1gLCB7IGNhdXNlOiBlcnJvciB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcImlkXCIgaW4ganNvbiAmJiBqc29uLmlkICE9IG51bGwgJiYgX19wcml2YXRlR2V0KHRoaXMsIF9wZW5kaW5nUmVxdWVzdHMpLmhhcyhqc29uLmlkKSkge1xuICAgICAgICBjb25zdCB7IHJlc29sdmU6IHJlc29sdmUyLCB0aW1lb3V0IH0gPSBfX3ByaXZhdGVHZXQodGhpcywgX3BlbmRpbmdSZXF1ZXN0cykuZ2V0KGpzb24uaWQpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHJlc29sdmUyKGpzb24pO1xuICAgICAgfSBlbHNlIGlmIChcInBhcmFtc1wiIGluIGpzb24pIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbXMgfSA9IGpzb247XG4gICAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfc3Vic2NyaXB0aW9ucykuZm9yRWFjaCgoc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25JZCA9PT0gcGFyYW1zLnN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5zdWJzY3JpcHRpb24gPT09IHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25JZCkge1xuICAgICAgICAgICAgICBzdWJzY3JpcHRpb24ub25NZXNzYWdlKHBhcmFtcy5yZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pKTtcbiAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfY29ubmVjdGlvblByb21pc2UpO1xufTtcbl9yZWNvbm5lY3QgPSBuZXcgV2Vha1NldCgpO1xucmVjb25uZWN0X2ZuID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIF9fcHJpdmF0ZUdldCh0aGlzLCBfd2ViU29ja2V0KT8uY2xvc2UoKTtcbiAgX19wcml2YXRlU2V0KHRoaXMsIF9jb25uZWN0aW9uUHJvbWlzZSwgbnVsbCk7XG4gIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgWy4uLl9fcHJpdmF0ZUdldCh0aGlzLCBfc3Vic2NyaXB0aW9ucyldLm1hcCgoc3Vic2NyaXB0aW9uKSA9PiBzdWJzY3JpcHRpb24uc3Vic2NyaWJlKHRoaXMpKVxuICApO1xufTtcbmNsYXNzIFJwY1N1YnNjcmlwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25JZCA9IG51bGw7XG4gICAgdGhpcy5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICB9XG4gIG9uTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaWJlZCkge1xuICAgICAgdGhpcy5pbnB1dC5vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHVuc3Vic2NyaWJlKGNsaWVudCkge1xuICAgIGNvbnN0IHsgc3Vic2NyaXB0aW9uSWQgfSA9IHRoaXM7XG4gICAgdGhpcy5zdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgaWYgKHN1YnNjcmlwdGlvbklkID09IG51bGwpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25JZCA9IG51bGw7XG4gICAgcmV0dXJuIGNsaWVudC5tYWtlUmVxdWVzdCh0aGlzLmlucHV0LnVuc3Vic2NyaWJlLCBbc3Vic2NyaXB0aW9uSWRdKTtcbiAgfVxuICBhc3luYyBzdWJzY3JpYmUoY2xpZW50KSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25JZCA9IG51bGw7XG4gICAgdGhpcy5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICBjb25zdCBuZXdTdWJzY3JpcHRpb25JZCA9IGF3YWl0IGNsaWVudC5tYWtlUmVxdWVzdChcbiAgICAgIHRoaXMuaW5wdXQubWV0aG9kLFxuICAgICAgdGhpcy5pbnB1dC5wYXJhbXNcbiAgICApO1xuICAgIGlmICh0aGlzLnN1YnNjcmliZWQpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uSWQgPSBuZXdTdWJzY3JpcHRpb25JZDtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCB7XG4gIERFRkFVTFRfQ0xJRU5UX09QVElPTlMsXG4gIFdlYnNvY2tldENsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJwYy13ZWJzb2NrZXQtY2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/client/rpc-websocket-client.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/common.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/types/common.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ObjectOwner: () => (/* binding */ ObjectOwner),\n/* harmony export */   ProtocolConfig: () => (/* binding */ ProtocolConfig),\n/* harmony export */   SuiJsonValue: () => (/* binding */ SuiJsonValue)\n/* harmony export */ });\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n\nconst ObjectOwner = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    AddressOwner: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    ObjectOwner: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    Shared: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n      initial_shared_version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())\n    })\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Immutable\")\n]);\nconst SuiJsonValue = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.define)(\"SuiJsonValue\", () => true);\nconst ProtocolConfigValue = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ u32: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)() }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ u64: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)() }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ f64: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)() })\n]);\nconst ProtocolConfig = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  attributes: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)(ProtocolConfigValue)),\n  featureFlags: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)()),\n  maxSupportedProtocolVersion: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  minSupportedProtocolVersion: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  protocolVersion: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n});\n\n//# sourceMappingURL=common.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3R5cGVzL2NvbW1vbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdHO0FBQ2hHLG9CQUFvQixrREFBSztBQUN6QixFQUFFLG1EQUFNO0FBQ1Isa0JBQWtCLG1EQUFNO0FBQ3hCLEdBQUc7QUFDSCxFQUFFLG1EQUFNO0FBQ1IsaUJBQWlCLG1EQUFNO0FBQ3ZCLEdBQUc7QUFDSCxFQUFFLG1EQUFNO0FBQ1IsWUFBWSxtREFBTTtBQUNsQiw4QkFBOEIscURBQVEsQ0FBQyxtREFBTTtBQUM3QyxLQUFLO0FBQ0wsR0FBRztBQUNILEVBQUUsb0RBQU87QUFDVDtBQUNBLHFCQUFxQixtREFBTTtBQUMzQiw0QkFBNEIsa0RBQUs7QUFDakMsRUFBRSxtREFBTSxHQUFHLEtBQUssbURBQU0sSUFBSTtBQUMxQixFQUFFLG1EQUFNLEdBQUcsS0FBSyxtREFBTSxJQUFJO0FBQzFCLEVBQUUsbURBQU0sR0FBRyxLQUFLLG1EQUFNLElBQUk7QUFDMUI7QUFDQSx1QkFBdUIsbURBQU07QUFDN0IsY0FBYyxtREFBTSxDQUFDLG1EQUFNLElBQUkscURBQVE7QUFDdkMsZ0JBQWdCLG1EQUFNLENBQUMsbURBQU0sSUFBSSxvREFBTztBQUN4QywrQkFBK0IsbURBQU07QUFDckMsK0JBQStCLG1EQUFNO0FBQ3JDLG1CQUFtQixtREFBTTtBQUN6QixDQUFDO0FBS0M7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS90eXBlcy9jb21tb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm9vbGVhbiwgZGVmaW5lLCBsaXRlcmFsLCBudWxsYWJsZSwgb2JqZWN0LCByZWNvcmQsIHN0cmluZywgdW5pb24gfSBmcm9tIFwic3VwZXJzdHJ1Y3RcIjtcbmNvbnN0IE9iamVjdE93bmVyID0gdW5pb24oW1xuICBvYmplY3Qoe1xuICAgIEFkZHJlc3NPd25lcjogc3RyaW5nKClcbiAgfSksXG4gIG9iamVjdCh7XG4gICAgT2JqZWN0T3duZXI6IHN0cmluZygpXG4gIH0pLFxuICBvYmplY3Qoe1xuICAgIFNoYXJlZDogb2JqZWN0KHtcbiAgICAgIGluaXRpYWxfc2hhcmVkX3ZlcnNpb246IG51bGxhYmxlKHN0cmluZygpKVxuICAgIH0pXG4gIH0pLFxuICBsaXRlcmFsKFwiSW1tdXRhYmxlXCIpXG5dKTtcbmNvbnN0IFN1aUpzb25WYWx1ZSA9IGRlZmluZShcIlN1aUpzb25WYWx1ZVwiLCAoKSA9PiB0cnVlKTtcbmNvbnN0IFByb3RvY29sQ29uZmlnVmFsdWUgPSB1bmlvbihbXG4gIG9iamVjdCh7IHUzMjogc3RyaW5nKCkgfSksXG4gIG9iamVjdCh7IHU2NDogc3RyaW5nKCkgfSksXG4gIG9iamVjdCh7IGY2NDogc3RyaW5nKCkgfSlcbl0pO1xuY29uc3QgUHJvdG9jb2xDb25maWcgPSBvYmplY3Qoe1xuICBhdHRyaWJ1dGVzOiByZWNvcmQoc3RyaW5nKCksIG51bGxhYmxlKFByb3RvY29sQ29uZmlnVmFsdWUpKSxcbiAgZmVhdHVyZUZsYWdzOiByZWNvcmQoc3RyaW5nKCksIGJvb2xlYW4oKSksXG4gIG1heFN1cHBvcnRlZFByb3RvY29sVmVyc2lvbjogc3RyaW5nKCksXG4gIG1pblN1cHBvcnRlZFByb3RvY29sVmVyc2lvbjogc3RyaW5nKCksXG4gIHByb3RvY29sVmVyc2lvbjogc3RyaW5nKClcbn0pO1xuZXhwb3J0IHtcbiAgT2JqZWN0T3duZXIsXG4gIFByb3RvY29sQ29uZmlnLFxuICBTdWlKc29uVmFsdWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/common.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/normalized.js":
/*!**********************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/types/normalized.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MoveCallMetric: () => (/* binding */ MoveCallMetric),\n/* harmony export */   MoveCallMetrics: () => (/* binding */ MoveCallMetrics),\n/* harmony export */   SuiMoveAbilitySet: () => (/* binding */ SuiMoveAbilitySet),\n/* harmony export */   SuiMoveFunctionArgType: () => (/* binding */ SuiMoveFunctionArgType),\n/* harmony export */   SuiMoveFunctionArgTypes: () => (/* binding */ SuiMoveFunctionArgTypes),\n/* harmony export */   SuiMoveModuleId: () => (/* binding */ SuiMoveModuleId),\n/* harmony export */   SuiMoveNormalizedField: () => (/* binding */ SuiMoveNormalizedField),\n/* harmony export */   SuiMoveNormalizedFunction: () => (/* binding */ SuiMoveNormalizedFunction),\n/* harmony export */   SuiMoveNormalizedModule: () => (/* binding */ SuiMoveNormalizedModule),\n/* harmony export */   SuiMoveNormalizedModules: () => (/* binding */ SuiMoveNormalizedModules),\n/* harmony export */   SuiMoveNormalizedStruct: () => (/* binding */ SuiMoveNormalizedStruct),\n/* harmony export */   SuiMoveNormalizedStructType: () => (/* binding */ SuiMoveNormalizedStructType),\n/* harmony export */   SuiMoveNormalizedType: () => (/* binding */ SuiMoveNormalizedType),\n/* harmony export */   SuiMoveNormalizedTypeParameterType: () => (/* binding */ SuiMoveNormalizedTypeParameterType),\n/* harmony export */   SuiMoveStructTypeParameter: () => (/* binding */ SuiMoveStructTypeParameter),\n/* harmony export */   SuiMoveVisibility: () => (/* binding */ SuiMoveVisibility),\n/* harmony export */   extractMutableReference: () => (/* binding */ extractMutableReference),\n/* harmony export */   extractReference: () => (/* binding */ extractReference),\n/* harmony export */   extractStructTag: () => (/* binding */ extractStructTag)\n/* harmony export */ });\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n\nconst SuiMoveFunctionArgType = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ Object: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)() })]);\nconst SuiMoveFunctionArgTypes = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveFunctionArgType);\nconst SuiMoveModuleId = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  address: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  name: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n});\nconst SuiMoveVisibility = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Private\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Public\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Friend\")]);\nconst SuiMoveAbilitySet = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  abilities: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())\n});\nconst SuiMoveStructTypeParameter = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  constraints: SuiMoveAbilitySet,\n  isPhantom: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)()\n});\nconst SuiMoveNormalizedTypeParameterType = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  TypeParameter: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)()\n});\nconst MoveCallMetric = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.tuple)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    module: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    package: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    function: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n]);\nconst MoveCallMetrics = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  rank3Days: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(MoveCallMetric),\n  rank7Days: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(MoveCallMetric),\n  rank30Days: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(MoveCallMetric)\n});\nfunction isSuiMoveNormalizedType(value) {\n  if (!value)\n    return false;\n  if (typeof value === \"string\")\n    return true;\n  if ((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(value, SuiMoveNormalizedTypeParameterType))\n    return true;\n  if (isSuiMoveNormalizedStructType(value))\n    return true;\n  if (typeof value !== \"object\")\n    return false;\n  const valueProperties = value;\n  if ((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(valueProperties.Reference, SuiMoveNormalizedType))\n    return true;\n  if ((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(valueProperties.MutableReference, SuiMoveNormalizedType))\n    return true;\n  if ((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(valueProperties.Vector, SuiMoveNormalizedType))\n    return true;\n  return false;\n}\nconst SuiMoveNormalizedType = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.define)(\n  \"SuiMoveNormalizedType\",\n  isSuiMoveNormalizedType\n);\nfunction isSuiMoveNormalizedStructType(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const valueProperties = value;\n  if (!valueProperties.Struct || typeof valueProperties.Struct !== \"object\")\n    return false;\n  const structProperties = valueProperties.Struct;\n  if (typeof structProperties.address !== \"string\" || typeof structProperties.module !== \"string\" || typeof structProperties.name !== \"string\" || !Array.isArray(structProperties.typeArguments) || !structProperties.typeArguments.every((value2) => isSuiMoveNormalizedType(value2))) {\n    return false;\n  }\n  return true;\n}\nconst SuiMoveNormalizedStructType = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.define)(\n  \"SuiMoveNormalizedStructType\",\n  isSuiMoveNormalizedStructType\n);\nconst SuiMoveNormalizedFunction = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  visibility: SuiMoveVisibility,\n  isEntry: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)(),\n  typeParameters: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveAbilitySet),\n  parameters: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveNormalizedType),\n  return: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveNormalizedType)\n});\nconst SuiMoveNormalizedField = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  name: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  type: SuiMoveNormalizedType\n});\nconst SuiMoveNormalizedStruct = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  abilities: SuiMoveAbilitySet,\n  typeParameters: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveStructTypeParameter),\n  fields: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveNormalizedField)\n});\nconst SuiMoveNormalizedModule = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  fileFormatVersion: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)(),\n  address: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  name: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  friends: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiMoveModuleId),\n  structs: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), SuiMoveNormalizedStruct),\n  exposedFunctions: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), SuiMoveNormalizedFunction)\n});\nconst SuiMoveNormalizedModules = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), SuiMoveNormalizedModule);\nfunction extractMutableReference(normalizedType) {\n  return typeof normalizedType === \"object\" && \"MutableReference\" in normalizedType ? normalizedType.MutableReference : void 0;\n}\nfunction extractReference(normalizedType) {\n  return typeof normalizedType === \"object\" && \"Reference\" in normalizedType ? normalizedType.Reference : void 0;\n}\nfunction extractStructTag(normalizedType) {\n  if (typeof normalizedType === \"object\" && \"Struct\" in normalizedType) {\n    return normalizedType;\n  }\n  const ref = extractReference(normalizedType);\n  const mutRef = extractMutableReference(normalizedType);\n  if (typeof ref === \"object\" && \"Struct\" in ref) {\n    return ref;\n  }\n  if (typeof mutRef === \"object\" && \"Struct\" in mutRef) {\n    return mutRef;\n  }\n  return void 0;\n}\n\n//# sourceMappingURL=normalized.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3R5cGVzL25vcm1hbGl6ZWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZcUI7QUFDckIsK0JBQStCLGtEQUFLLEVBQUUsbURBQU0sSUFBSSxtREFBTSxHQUFHLFFBQVEsbURBQU0sSUFBSTtBQUMzRSxnQ0FBZ0Msa0RBQUs7QUFDckMsd0JBQXdCLG1EQUFNO0FBQzlCLFdBQVcsbURBQU07QUFDakIsUUFBUSxtREFBTTtBQUNkLENBQUM7QUFDRCwwQkFBMEIsa0RBQUssRUFBRSxvREFBTyxhQUFhLG9EQUFPLFlBQVksb0RBQU87QUFDL0UsMEJBQTBCLG1EQUFNO0FBQ2hDLGFBQWEsa0RBQUssQ0FBQyxtREFBTTtBQUN6QixDQUFDO0FBQ0QsbUNBQW1DLG1EQUFNO0FBQ3pDO0FBQ0EsYUFBYSxvREFBTztBQUNwQixDQUFDO0FBQ0QsMkNBQTJDLG1EQUFNO0FBQ2pELGlCQUFpQixtREFBTTtBQUN2QixDQUFDO0FBQ0QsdUJBQXVCLGtEQUFLO0FBQzVCLEVBQUUsbURBQU07QUFDUixZQUFZLG1EQUFNO0FBQ2xCLGFBQWEsbURBQU07QUFDbkIsY0FBYyxtREFBTTtBQUNwQixHQUFHO0FBQ0gsRUFBRSxtREFBTTtBQUNSO0FBQ0Esd0JBQXdCLG1EQUFNO0FBQzlCLGFBQWEsa0RBQUs7QUFDbEIsYUFBYSxrREFBSztBQUNsQixjQUFjLGtEQUFLO0FBQ25CLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQ0FBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sK0NBQUU7QUFDUjtBQUNBLE1BQU0sK0NBQUU7QUFDUjtBQUNBLE1BQU0sK0NBQUU7QUFDUjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbURBQU07QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG1EQUFNO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtREFBTTtBQUN4QztBQUNBLFdBQVcsb0RBQU87QUFDbEIsa0JBQWtCLGtEQUFLO0FBQ3ZCLGNBQWMsa0RBQUs7QUFDbkIsVUFBVSxrREFBSztBQUNmLENBQUM7QUFDRCwrQkFBK0IsbURBQU07QUFDckMsUUFBUSxtREFBTTtBQUNkO0FBQ0EsQ0FBQztBQUNELGdDQUFnQyxtREFBTTtBQUN0QztBQUNBLGtCQUFrQixrREFBSztBQUN2QixVQUFVLGtEQUFLO0FBQ2YsQ0FBQztBQUNELGdDQUFnQyxtREFBTTtBQUN0QyxxQkFBcUIsbURBQU07QUFDM0IsV0FBVyxtREFBTTtBQUNqQixRQUFRLG1EQUFNO0FBQ2QsV0FBVyxrREFBSztBQUNoQixXQUFXLG1EQUFNLENBQUMsbURBQU07QUFDeEIsb0JBQW9CLG1EQUFNLENBQUMsbURBQU07QUFDakMsQ0FBQztBQUNELGlDQUFpQyxtREFBTSxDQUFDLG1EQUFNO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxQkU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS90eXBlcy9ub3JtYWxpemVkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFycmF5LFxuICBib29sZWFuLFxuICBkZWZpbmUsXG4gIGlzLFxuICBsaXRlcmFsLFxuICBudW1iZXIsXG4gIG9iamVjdCxcbiAgcmVjb3JkLFxuICBzdHJpbmcsXG4gIHR1cGxlLFxuICB1bmlvblxufSBmcm9tIFwic3VwZXJzdHJ1Y3RcIjtcbmNvbnN0IFN1aU1vdmVGdW5jdGlvbkFyZ1R5cGUgPSB1bmlvbihbc3RyaW5nKCksIG9iamVjdCh7IE9iamVjdDogc3RyaW5nKCkgfSldKTtcbmNvbnN0IFN1aU1vdmVGdW5jdGlvbkFyZ1R5cGVzID0gYXJyYXkoU3VpTW92ZUZ1bmN0aW9uQXJnVHlwZSk7XG5jb25zdCBTdWlNb3ZlTW9kdWxlSWQgPSBvYmplY3Qoe1xuICBhZGRyZXNzOiBzdHJpbmcoKSxcbiAgbmFtZTogc3RyaW5nKClcbn0pO1xuY29uc3QgU3VpTW92ZVZpc2liaWxpdHkgPSB1bmlvbihbbGl0ZXJhbChcIlByaXZhdGVcIiksIGxpdGVyYWwoXCJQdWJsaWNcIiksIGxpdGVyYWwoXCJGcmllbmRcIildKTtcbmNvbnN0IFN1aU1vdmVBYmlsaXR5U2V0ID0gb2JqZWN0KHtcbiAgYWJpbGl0aWVzOiBhcnJheShzdHJpbmcoKSlcbn0pO1xuY29uc3QgU3VpTW92ZVN0cnVjdFR5cGVQYXJhbWV0ZXIgPSBvYmplY3Qoe1xuICBjb25zdHJhaW50czogU3VpTW92ZUFiaWxpdHlTZXQsXG4gIGlzUGhhbnRvbTogYm9vbGVhbigpXG59KTtcbmNvbnN0IFN1aU1vdmVOb3JtYWxpemVkVHlwZVBhcmFtZXRlclR5cGUgPSBvYmplY3Qoe1xuICBUeXBlUGFyYW1ldGVyOiBudW1iZXIoKVxufSk7XG5jb25zdCBNb3ZlQ2FsbE1ldHJpYyA9IHR1cGxlKFtcbiAgb2JqZWN0KHtcbiAgICBtb2R1bGU6IHN0cmluZygpLFxuICAgIHBhY2thZ2U6IHN0cmluZygpLFxuICAgIGZ1bmN0aW9uOiBzdHJpbmcoKVxuICB9KSxcbiAgc3RyaW5nKClcbl0pO1xuY29uc3QgTW92ZUNhbGxNZXRyaWNzID0gb2JqZWN0KHtcbiAgcmFuazNEYXlzOiBhcnJheShNb3ZlQ2FsbE1ldHJpYyksXG4gIHJhbms3RGF5czogYXJyYXkoTW92ZUNhbGxNZXRyaWMpLFxuICByYW5rMzBEYXlzOiBhcnJheShNb3ZlQ2FsbE1ldHJpYylcbn0pO1xuZnVuY3Rpb24gaXNTdWlNb3ZlTm9ybWFsaXplZFR5cGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChpcyh2YWx1ZSwgU3VpTW92ZU5vcm1hbGl6ZWRUeXBlUGFyYW1ldGVyVHlwZSkpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChpc1N1aU1vdmVOb3JtYWxpemVkU3RydWN0VHlwZSh2YWx1ZSkpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBjb25zdCB2YWx1ZVByb3BlcnRpZXMgPSB2YWx1ZTtcbiAgaWYgKGlzKHZhbHVlUHJvcGVydGllcy5SZWZlcmVuY2UsIFN1aU1vdmVOb3JtYWxpemVkVHlwZSkpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChpcyh2YWx1ZVByb3BlcnRpZXMuTXV0YWJsZVJlZmVyZW5jZSwgU3VpTW92ZU5vcm1hbGl6ZWRUeXBlKSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKGlzKHZhbHVlUHJvcGVydGllcy5WZWN0b3IsIFN1aU1vdmVOb3JtYWxpemVkVHlwZSkpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IFN1aU1vdmVOb3JtYWxpemVkVHlwZSA9IGRlZmluZShcbiAgXCJTdWlNb3ZlTm9ybWFsaXplZFR5cGVcIixcbiAgaXNTdWlNb3ZlTm9ybWFsaXplZFR5cGVcbik7XG5mdW5jdGlvbiBpc1N1aU1vdmVOb3JtYWxpemVkU3RydWN0VHlwZSh2YWx1ZSkge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHZhbHVlUHJvcGVydGllcyA9IHZhbHVlO1xuICBpZiAoIXZhbHVlUHJvcGVydGllcy5TdHJ1Y3QgfHwgdHlwZW9mIHZhbHVlUHJvcGVydGllcy5TdHJ1Y3QgIT09IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBzdHJ1Y3RQcm9wZXJ0aWVzID0gdmFsdWVQcm9wZXJ0aWVzLlN0cnVjdDtcbiAgaWYgKHR5cGVvZiBzdHJ1Y3RQcm9wZXJ0aWVzLmFkZHJlc3MgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHN0cnVjdFByb3BlcnRpZXMubW9kdWxlICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBzdHJ1Y3RQcm9wZXJ0aWVzLm5hbWUgIT09IFwic3RyaW5nXCIgfHwgIUFycmF5LmlzQXJyYXkoc3RydWN0UHJvcGVydGllcy50eXBlQXJndW1lbnRzKSB8fCAhc3RydWN0UHJvcGVydGllcy50eXBlQXJndW1lbnRzLmV2ZXJ5KCh2YWx1ZTIpID0+IGlzU3VpTW92ZU5vcm1hbGl6ZWRUeXBlKHZhbHVlMikpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuY29uc3QgU3VpTW92ZU5vcm1hbGl6ZWRTdHJ1Y3RUeXBlID0gZGVmaW5lKFxuICBcIlN1aU1vdmVOb3JtYWxpemVkU3RydWN0VHlwZVwiLFxuICBpc1N1aU1vdmVOb3JtYWxpemVkU3RydWN0VHlwZVxuKTtcbmNvbnN0IFN1aU1vdmVOb3JtYWxpemVkRnVuY3Rpb24gPSBvYmplY3Qoe1xuICB2aXNpYmlsaXR5OiBTdWlNb3ZlVmlzaWJpbGl0eSxcbiAgaXNFbnRyeTogYm9vbGVhbigpLFxuICB0eXBlUGFyYW1ldGVyczogYXJyYXkoU3VpTW92ZUFiaWxpdHlTZXQpLFxuICBwYXJhbWV0ZXJzOiBhcnJheShTdWlNb3ZlTm9ybWFsaXplZFR5cGUpLFxuICByZXR1cm46IGFycmF5KFN1aU1vdmVOb3JtYWxpemVkVHlwZSlcbn0pO1xuY29uc3QgU3VpTW92ZU5vcm1hbGl6ZWRGaWVsZCA9IG9iamVjdCh7XG4gIG5hbWU6IHN0cmluZygpLFxuICB0eXBlOiBTdWlNb3ZlTm9ybWFsaXplZFR5cGVcbn0pO1xuY29uc3QgU3VpTW92ZU5vcm1hbGl6ZWRTdHJ1Y3QgPSBvYmplY3Qoe1xuICBhYmlsaXRpZXM6IFN1aU1vdmVBYmlsaXR5U2V0LFxuICB0eXBlUGFyYW1ldGVyczogYXJyYXkoU3VpTW92ZVN0cnVjdFR5cGVQYXJhbWV0ZXIpLFxuICBmaWVsZHM6IGFycmF5KFN1aU1vdmVOb3JtYWxpemVkRmllbGQpXG59KTtcbmNvbnN0IFN1aU1vdmVOb3JtYWxpemVkTW9kdWxlID0gb2JqZWN0KHtcbiAgZmlsZUZvcm1hdFZlcnNpb246IG51bWJlcigpLFxuICBhZGRyZXNzOiBzdHJpbmcoKSxcbiAgbmFtZTogc3RyaW5nKCksXG4gIGZyaWVuZHM6IGFycmF5KFN1aU1vdmVNb2R1bGVJZCksXG4gIHN0cnVjdHM6IHJlY29yZChzdHJpbmcoKSwgU3VpTW92ZU5vcm1hbGl6ZWRTdHJ1Y3QpLFxuICBleHBvc2VkRnVuY3Rpb25zOiByZWNvcmQoc3RyaW5nKCksIFN1aU1vdmVOb3JtYWxpemVkRnVuY3Rpb24pXG59KTtcbmNvbnN0IFN1aU1vdmVOb3JtYWxpemVkTW9kdWxlcyA9IHJlY29yZChzdHJpbmcoKSwgU3VpTW92ZU5vcm1hbGl6ZWRNb2R1bGUpO1xuZnVuY3Rpb24gZXh0cmFjdE11dGFibGVSZWZlcmVuY2Uobm9ybWFsaXplZFR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiBub3JtYWxpemVkVHlwZSA9PT0gXCJvYmplY3RcIiAmJiBcIk11dGFibGVSZWZlcmVuY2VcIiBpbiBub3JtYWxpemVkVHlwZSA/IG5vcm1hbGl6ZWRUeXBlLk11dGFibGVSZWZlcmVuY2UgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBleHRyYWN0UmVmZXJlbmNlKG5vcm1hbGl6ZWRUeXBlKSB7XG4gIHJldHVybiB0eXBlb2Ygbm9ybWFsaXplZFR5cGUgPT09IFwib2JqZWN0XCIgJiYgXCJSZWZlcmVuY2VcIiBpbiBub3JtYWxpemVkVHlwZSA/IG5vcm1hbGl6ZWRUeXBlLlJlZmVyZW5jZSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTdHJ1Y3RUYWcobm9ybWFsaXplZFR5cGUpIHtcbiAgaWYgKHR5cGVvZiBub3JtYWxpemVkVHlwZSA9PT0gXCJvYmplY3RcIiAmJiBcIlN0cnVjdFwiIGluIG5vcm1hbGl6ZWRUeXBlKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRUeXBlO1xuICB9XG4gIGNvbnN0IHJlZiA9IGV4dHJhY3RSZWZlcmVuY2Uobm9ybWFsaXplZFR5cGUpO1xuICBjb25zdCBtdXRSZWYgPSBleHRyYWN0TXV0YWJsZVJlZmVyZW5jZShub3JtYWxpemVkVHlwZSk7XG4gIGlmICh0eXBlb2YgcmVmID09PSBcIm9iamVjdFwiICYmIFwiU3RydWN0XCIgaW4gcmVmKSB7XG4gICAgcmV0dXJuIHJlZjtcbiAgfVxuICBpZiAodHlwZW9mIG11dFJlZiA9PT0gXCJvYmplY3RcIiAmJiBcIlN0cnVjdFwiIGluIG11dFJlZikge1xuICAgIHJldHVybiBtdXRSZWY7XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmV4cG9ydCB7XG4gIE1vdmVDYWxsTWV0cmljLFxuICBNb3ZlQ2FsbE1ldHJpY3MsXG4gIFN1aU1vdmVBYmlsaXR5U2V0LFxuICBTdWlNb3ZlRnVuY3Rpb25BcmdUeXBlLFxuICBTdWlNb3ZlRnVuY3Rpb25BcmdUeXBlcyxcbiAgU3VpTW92ZU1vZHVsZUlkLFxuICBTdWlNb3ZlTm9ybWFsaXplZEZpZWxkLFxuICBTdWlNb3ZlTm9ybWFsaXplZEZ1bmN0aW9uLFxuICBTdWlNb3ZlTm9ybWFsaXplZE1vZHVsZSxcbiAgU3VpTW92ZU5vcm1hbGl6ZWRNb2R1bGVzLFxuICBTdWlNb3ZlTm9ybWFsaXplZFN0cnVjdCxcbiAgU3VpTW92ZU5vcm1hbGl6ZWRTdHJ1Y3RUeXBlLFxuICBTdWlNb3ZlTm9ybWFsaXplZFR5cGUsXG4gIFN1aU1vdmVOb3JtYWxpemVkVHlwZVBhcmFtZXRlclR5cGUsXG4gIFN1aU1vdmVTdHJ1Y3RUeXBlUGFyYW1ldGVyLFxuICBTdWlNb3ZlVmlzaWJpbGl0eSxcbiAgZXh0cmFjdE11dGFibGVSZWZlcmVuY2UsXG4gIGV4dHJhY3RSZWZlcmVuY2UsXG4gIGV4dHJhY3RTdHJ1Y3RUYWdcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3JtYWxpemVkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/normalized.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/objects.js":
/*!*******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/types/objects.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckpointedObjectId: () => (/* binding */ CheckpointedObjectId),\n/* harmony export */   DisplayFieldsBackwardCompatibleResponse: () => (/* binding */ DisplayFieldsBackwardCompatibleResponse),\n/* harmony export */   DisplayFieldsResponse: () => (/* binding */ DisplayFieldsResponse),\n/* harmony export */   GetOwnedObjectsResponse: () => (/* binding */ GetOwnedObjectsResponse),\n/* harmony export */   MIST_PER_SUI: () => (/* binding */ MIST_PER_SUI),\n/* harmony export */   MovePackageContent: () => (/* binding */ MovePackageContent),\n/* harmony export */   ObjectContentFields: () => (/* binding */ ObjectContentFields),\n/* harmony export */   ObjectRead: () => (/* binding */ ObjectRead),\n/* harmony export */   ObjectStatus: () => (/* binding */ ObjectStatus),\n/* harmony export */   ObjectType: () => (/* binding */ ObjectType),\n/* harmony export */   OwnedObjectRef: () => (/* binding */ OwnedObjectRef),\n/* harmony export */   PaginatedObjectsResponse: () => (/* binding */ PaginatedObjectsResponse),\n/* harmony export */   SUI_DECIMALS: () => (/* binding */ SUI_DECIMALS),\n/* harmony export */   SuiGasData: () => (/* binding */ SuiGasData),\n/* harmony export */   SuiMoveObject: () => (/* binding */ SuiMoveObject),\n/* harmony export */   SuiMovePackage: () => (/* binding */ SuiMovePackage),\n/* harmony export */   SuiObjectData: () => (/* binding */ SuiObjectData),\n/* harmony export */   SuiObjectDataOptions: () => (/* binding */ SuiObjectDataOptions),\n/* harmony export */   SuiObjectInfo: () => (/* binding */ SuiObjectInfo),\n/* harmony export */   SuiObjectRef: () => (/* binding */ SuiObjectRef),\n/* harmony export */   SuiObjectResponse: () => (/* binding */ SuiObjectResponse),\n/* harmony export */   SuiObjectResponseError: () => (/* binding */ SuiObjectResponseError),\n/* harmony export */   SuiParsedData: () => (/* binding */ SuiParsedData),\n/* harmony export */   SuiRawData: () => (/* binding */ SuiRawData),\n/* harmony export */   SuiRawMoveObject: () => (/* binding */ SuiRawMoveObject),\n/* harmony export */   SuiRawMovePackage: () => (/* binding */ SuiRawMovePackage),\n/* harmony export */   TransactionEffectsModifiedAtVersions: () => (/* binding */ TransactionEffectsModifiedAtVersions),\n/* harmony export */   getMoveObject: () => (/* binding */ getMoveObject),\n/* harmony export */   getMoveObjectType: () => (/* binding */ getMoveObjectType),\n/* harmony export */   getMovePackageContent: () => (/* binding */ getMovePackageContent),\n/* harmony export */   getObjectDeletedResponse: () => (/* binding */ getObjectDeletedResponse),\n/* harmony export */   getObjectDisplay: () => (/* binding */ getObjectDisplay),\n/* harmony export */   getObjectFields: () => (/* binding */ getObjectFields),\n/* harmony export */   getObjectId: () => (/* binding */ getObjectId),\n/* harmony export */   getObjectNotExistsResponse: () => (/* binding */ getObjectNotExistsResponse),\n/* harmony export */   getObjectOwner: () => (/* binding */ getObjectOwner),\n/* harmony export */   getObjectPreviousTransactionDigest: () => (/* binding */ getObjectPreviousTransactionDigest),\n/* harmony export */   getObjectReference: () => (/* binding */ getObjectReference),\n/* harmony export */   getObjectType: () => (/* binding */ getObjectType),\n/* harmony export */   getObjectVersion: () => (/* binding */ getObjectVersion),\n/* harmony export */   getSharedObjectInitialVersion: () => (/* binding */ getSharedObjectInitialVersion),\n/* harmony export */   getSuiObjectData: () => (/* binding */ getSuiObjectData),\n/* harmony export */   hasPublicTransfer: () => (/* binding */ hasPublicTransfer),\n/* harmony export */   isImmutableObject: () => (/* binding */ isImmutableObject),\n/* harmony export */   isSharedObject: () => (/* binding */ isSharedObject),\n/* harmony export */   isSuiObjectResponse: () => (/* binding */ isSuiObjectResponse)\n/* harmony export */ });\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/common.js\");\n\n\nconst ObjectType = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"package\")]);\nconst SuiObjectRef = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  /** Base64 string representing the object digest */\n  digest: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  /** Hex code as string representing the object id */\n  objectId: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  /** Object version */\n  version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.bigint)()])\n});\nconst OwnedObjectRef = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  owner: _common_js__WEBPACK_IMPORTED_MODULE_1__.ObjectOwner,\n  reference: SuiObjectRef\n});\nconst TransactionEffectsModifiedAtVersions = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  objectId: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  sequenceNumber: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n});\nconst SuiGasData = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  payment: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiObjectRef),\n  /** Gas Object's owner */\n  owner: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  price: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  budget: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n});\nconst SuiObjectInfo = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assign)(\n  SuiObjectRef,\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    owner: _common_js__WEBPACK_IMPORTED_MODULE_1__.ObjectOwner,\n    previousTransaction: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n  })\n);\nconst ObjectContentFields = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.any)());\nconst MovePackageContent = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.unknown)());\nconst SuiMoveObject = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  /** Move type (e.g., \"0x2::coin::Coin<0x2::sui::SUI>\") */\n  type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  /** Fields and values stored inside the Move object */\n  fields: ObjectContentFields,\n  hasPublicTransfer: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)()\n});\nconst SuiMovePackage = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  /** A mapping from module name to disassembled Move bytecode */\n  disassembled: MovePackageContent\n});\nconst SuiParsedData = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assign)(SuiMoveObject, (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ dataType: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"moveObject\") })),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assign)(SuiMovePackage, (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ dataType: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"package\") }))\n]);\nconst SuiRawMoveObject = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  /** Move type (e.g., \"0x2::coin::Coin<0x2::sui::SUI>\") */\n  type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  hasPublicTransfer: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)(),\n  version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  bcsBytes: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n});\nconst SuiRawMovePackage = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  id: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  /** A mapping from module name to Move bytecode enocded in base64*/\n  moduleMap: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())\n});\nconst SuiRawData = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assign)(SuiRawMoveObject, (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ dataType: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"moveObject\") })),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.assign)(SuiRawMovePackage, (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({ dataType: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"package\") }))\n]);\nconst SUI_DECIMALS = 9;\nconst MIST_PER_SUI = BigInt(1e9);\nconst SuiObjectResponseError = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  code: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  error: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  object_id: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  parent_object_id: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()),\n  digest: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())\n});\nconst DisplayFieldsResponse = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  data: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()))),\n  error: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(SuiObjectResponseError))\n});\nconst DisplayFieldsBackwardCompatibleResponse = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  DisplayFieldsResponse,\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.record)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()))\n]);\nconst SuiObjectData = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  objectId: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  digest: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  /**\n   * Type of the object, default to be undefined unless SuiObjectDataOptions.showType is set to true\n   */\n  type: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())),\n  /**\n   * Move object content or package content, default to be undefined unless SuiObjectDataOptions.showContent is set to true\n   */\n  content: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(SuiParsedData)),\n  /**\n   * Move object content or package content in BCS bytes, default to be undefined unless SuiObjectDataOptions.showBcs is set to true\n   */\n  bcs: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(SuiRawData)),\n  /**\n   * The owner of this object. Default to be undefined unless SuiObjectDataOptions.showOwner is set to true\n   */\n  owner: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(_common_js__WEBPACK_IMPORTED_MODULE_1__.ObjectOwner)),\n  /**\n   * The digest of the transaction that created or last mutated this object.\n   * Default to be undefined unless SuiObjectDataOptions.showPreviousTransaction is set to true\n   */\n  previousTransaction: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())),\n  /**\n   * The amount of SUI we would rebate if this object gets deleted.\n   * This number is re-calculated each time the object is mutated based on\n   * the present storage gas price.\n   * Default to be undefined unless SuiObjectDataOptions.showStorageRebate is set to true\n   */\n  storageRebate: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())),\n  /**\n   * Display metadata for this object, default to be undefined unless SuiObjectDataOptions.showDisplay is set to true\n   * This can also be None if the struct type does not have Display defined\n   * See more details in https://forums.sui.io/t/nft-object-display-proposal/4872\n   */\n  display: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(DisplayFieldsBackwardCompatibleResponse))\n});\nconst SuiObjectDataOptions = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  /* Whether to fetch the object type, default to be true */\n  showType: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)())),\n  /* Whether to fetch the object content, default to be false */\n  showContent: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)())),\n  /* Whether to fetch the object content in BCS bytes, default to be false */\n  showBcs: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)())),\n  /* Whether to fetch the object owner, default to be false */\n  showOwner: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)())),\n  /* Whether to fetch the previous transaction digest, default to be false */\n  showPreviousTransaction: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)())),\n  /* Whether to fetch the storage rebate, default to be false */\n  showStorageRebate: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)())),\n  /* Whether to fetch the display metadata, default to be false */\n  showDisplay: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)()))\n});\nconst ObjectStatus = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Exists\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"notExists\"), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"Deleted\")]);\nconst GetOwnedObjectsResponse = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiObjectInfo);\nconst SuiObjectResponse = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  data: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(SuiObjectData)),\n  error: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)(SuiObjectResponseError))\n});\nfunction getSuiObjectData(resp) {\n  return resp.data;\n}\nfunction getObjectDeletedResponse(resp) {\n  if (resp.error && \"object_id\" in resp.error && \"version\" in resp.error && \"digest\" in resp.error) {\n    const error = resp.error;\n    return {\n      objectId: error.object_id,\n      version: error.version,\n      digest: error.digest\n    };\n  }\n  return void 0;\n}\nfunction getObjectNotExistsResponse(resp) {\n  if (resp.error && \"object_id\" in resp.error && !(\"version\" in resp.error) && !(\"digest\" in resp.error)) {\n    return resp.error.object_id;\n  }\n  return void 0;\n}\nfunction getObjectReference(resp) {\n  if (\"reference\" in resp) {\n    return resp.reference;\n  }\n  const exists = getSuiObjectData(resp);\n  if (exists) {\n    return {\n      objectId: exists.objectId,\n      version: exists.version,\n      digest: exists.digest\n    };\n  }\n  return getObjectDeletedResponse(resp);\n}\nfunction getObjectId(data) {\n  if (\"objectId\" in data) {\n    return data.objectId;\n  }\n  return getObjectReference(data)?.objectId ?? getObjectNotExistsResponse(data);\n}\nfunction getObjectVersion(data) {\n  if (\"version\" in data) {\n    return data.version;\n  }\n  return getObjectReference(data)?.version;\n}\nfunction isSuiObjectResponse(resp) {\n  return resp.data !== void 0;\n}\nfunction getObjectType(resp) {\n  const data = isSuiObjectResponse(resp) ? resp.data : resp;\n  if (!data?.type && \"data\" in resp) {\n    if (data?.content?.dataType === \"package\") {\n      return \"package\";\n    }\n    return getMoveObjectType(resp);\n  }\n  return data?.type;\n}\nfunction getObjectPreviousTransactionDigest(resp) {\n  return getSuiObjectData(resp)?.previousTransaction;\n}\nfunction getObjectOwner(resp) {\n  if ((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(resp, _common_js__WEBPACK_IMPORTED_MODULE_1__.ObjectOwner)) {\n    return resp;\n  }\n  return getSuiObjectData(resp)?.owner;\n}\nfunction getObjectDisplay(resp) {\n  const display = getSuiObjectData(resp)?.display;\n  if (!display) {\n    return { data: null, error: null };\n  }\n  if ((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.is)(display, DisplayFieldsResponse)) {\n    return display;\n  }\n  return {\n    data: display,\n    error: null\n  };\n}\nfunction getSharedObjectInitialVersion(resp) {\n  const owner = getObjectOwner(resp);\n  if (owner && typeof owner === \"object\" && \"Shared\" in owner) {\n    return owner.Shared.initial_shared_version;\n  } else {\n    return void 0;\n  }\n}\nfunction isSharedObject(resp) {\n  const owner = getObjectOwner(resp);\n  return !!owner && typeof owner === \"object\" && \"Shared\" in owner;\n}\nfunction isImmutableObject(resp) {\n  const owner = getObjectOwner(resp);\n  return owner === \"Immutable\";\n}\nfunction getMoveObjectType(resp) {\n  return getMoveObject(resp)?.type;\n}\nfunction getObjectFields(resp) {\n  if (\"fields\" in resp) {\n    return resp.fields;\n  }\n  return getMoveObject(resp)?.fields;\n}\nfunction isSuiObjectDataWithContent(data) {\n  return data.content !== void 0;\n}\nfunction getMoveObject(data) {\n  const suiObject = \"data\" in data ? getSuiObjectData(data) : data;\n  if (!suiObject || !isSuiObjectDataWithContent(suiObject) || suiObject.content.dataType !== \"moveObject\") {\n    return void 0;\n  }\n  return suiObject.content;\n}\nfunction hasPublicTransfer(data) {\n  return getMoveObject(data)?.hasPublicTransfer ?? false;\n}\nfunction getMovePackageContent(data) {\n  if (\"disassembled\" in data) {\n    return data.disassembled;\n  }\n  const suiObject = getSuiObjectData(data);\n  if (suiObject?.content?.dataType !== \"package\") {\n    return void 0;\n  }\n  return suiObject.content.disassembled;\n}\nconst CheckpointedObjectId = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  objectId: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n  atCheckpoint: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)())\n});\nconst PaginatedObjectsResponse = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n  data: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.array)(SuiObjectResponse),\n  nextCursor: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.optional)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.nullable)((0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)())),\n  hasNextPage: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.boolean)()\n});\nconst ObjectRead = (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.union)([\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    details: SuiObjectData,\n    status: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"VersionFound\")\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    details: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(),\n    status: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"ObjectNotExists\")\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    details: SuiObjectRef,\n    status: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"ObjectDeleted\")\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    details: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.tuple)([(0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)(), (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)()]),\n    status: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"VersionNotFound\")\n  }),\n  (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n    details: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.object)({\n      asked_version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)(),\n      latest_version: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.number)(),\n      object_id: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.string)()\n    }),\n    status: (0,superstruct__WEBPACK_IMPORTED_MODULE_0__.literal)(\"VersionTooHigh\")\n  })\n]);\n\n//# sourceMappingURL=objects.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3R5cGVzL29iamVjdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJxQjtBQUNxQjtBQUMxQyxtQkFBbUIsa0RBQUssRUFBRSxtREFBTSxJQUFJLG9EQUFPO0FBQzNDLHFCQUFxQixtREFBTTtBQUMzQjtBQUNBLFVBQVUsbURBQU07QUFDaEI7QUFDQSxZQUFZLG1EQUFNO0FBQ2xCO0FBQ0EsV0FBVyxrREFBSyxFQUFFLG1EQUFNLElBQUksbURBQU0sSUFBSSxtREFBTTtBQUM1QyxDQUFDO0FBQ0QsdUJBQXVCLG1EQUFNO0FBQzdCLFNBQVMsbURBQVc7QUFDcEI7QUFDQSxDQUFDO0FBQ0QsNkNBQTZDLG1EQUFNO0FBQ25ELFlBQVksbURBQU07QUFDbEIsa0JBQWtCLG1EQUFNO0FBQ3hCLENBQUM7QUFDRCxtQkFBbUIsbURBQU07QUFDekIsV0FBVyxrREFBSztBQUNoQjtBQUNBLFNBQVMsbURBQU07QUFDZixTQUFTLG1EQUFNO0FBQ2YsVUFBVSxtREFBTTtBQUNoQixDQUFDO0FBQ0Qsc0JBQXNCLG1EQUFNO0FBQzVCO0FBQ0EsRUFBRSxtREFBTTtBQUNSLFVBQVUsbURBQU07QUFDaEIsV0FBVyxtREFBVztBQUN0Qix5QkFBeUIsbURBQU07QUFDL0IsR0FBRztBQUNIO0FBQ0EsNEJBQTRCLG1EQUFNLENBQUMsbURBQU0sSUFBSSxnREFBRztBQUNoRCwyQkFBMkIsbURBQU0sQ0FBQyxtREFBTSxJQUFJLG9EQUFPO0FBQ25ELHNCQUFzQixtREFBTTtBQUM1QjtBQUNBLFFBQVEsbURBQU07QUFDZDtBQUNBO0FBQ0EscUJBQXFCLG9EQUFPO0FBQzVCLENBQUM7QUFDRCx1QkFBdUIsbURBQU07QUFDN0I7QUFDQTtBQUNBLENBQUM7QUFDRCxzQkFBc0Isa0RBQUs7QUFDM0IsRUFBRSxtREFBTSxnQkFBZ0Is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REFBTTtBQUNSLGFBQWEsbURBQU07QUFDbkIsWUFBWSxvREFBTztBQUNuQixHQUFHO0FBQ0gsRUFBRSxtREFBTTtBQUNSO0FBQ0EsWUFBWSxvREFBTztBQUNuQixHQUFHO0FBQ0gsRUFBRSxtREFBTTtBQUNSLGFBQWEsa0RBQUssRUFBRSxtREFBTSxJQUFJLG1EQUFNO0FBQ3BDLFlBQVksb0RBQU87QUFDbkIsR0FBRztBQUNILEVBQUUsbURBQU07QUFDUixhQUFhLG1EQUFNO0FBQ25CLHFCQUFxQixtREFBTTtBQUMzQixzQkFBc0IsbURBQU07QUFDNUIsaUJBQWlCLG1EQUFNO0FBQ3ZCLEtBQUs7QUFDTCxZQUFZLG9EQUFPO0FBQ25CLEdBQUc7QUFDSDtBQWdERTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3R5cGVzL29iamVjdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgYW55LFxuICBhcnJheSxcbiAgYXNzaWduLFxuICBiaWdpbnQsXG4gIGJvb2xlYW4sXG4gIGlzLFxuICBsaXRlcmFsLFxuICBudWxsYWJsZSxcbiAgbnVtYmVyLFxuICBvYmplY3QsXG4gIG9wdGlvbmFsLFxuICByZWNvcmQsXG4gIHN0cmluZyxcbiAgdHVwbGUsXG4gIHVuaW9uLFxuICB1bmtub3duXG59IGZyb20gXCJzdXBlcnN0cnVjdFwiO1xuaW1wb3J0IHsgT2JqZWN0T3duZXIgfSBmcm9tIFwiLi9jb21tb24uanNcIjtcbmNvbnN0IE9iamVjdFR5cGUgPSB1bmlvbihbc3RyaW5nKCksIGxpdGVyYWwoXCJwYWNrYWdlXCIpXSk7XG5jb25zdCBTdWlPYmplY3RSZWYgPSBvYmplY3Qoe1xuICAvKiogQmFzZTY0IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9iamVjdCBkaWdlc3QgKi9cbiAgZGlnZXN0OiBzdHJpbmcoKSxcbiAgLyoqIEhleCBjb2RlIGFzIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG9iamVjdCBpZCAqL1xuICBvYmplY3RJZDogc3RyaW5nKCksXG4gIC8qKiBPYmplY3QgdmVyc2lvbiAqL1xuICB2ZXJzaW9uOiB1bmlvbihbbnVtYmVyKCksIHN0cmluZygpLCBiaWdpbnQoKV0pXG59KTtcbmNvbnN0IE93bmVkT2JqZWN0UmVmID0gb2JqZWN0KHtcbiAgb3duZXI6IE9iamVjdE93bmVyLFxuICByZWZlcmVuY2U6IFN1aU9iamVjdFJlZlxufSk7XG5jb25zdCBUcmFuc2FjdGlvbkVmZmVjdHNNb2RpZmllZEF0VmVyc2lvbnMgPSBvYmplY3Qoe1xuICBvYmplY3RJZDogc3RyaW5nKCksXG4gIHNlcXVlbmNlTnVtYmVyOiBzdHJpbmcoKVxufSk7XG5jb25zdCBTdWlHYXNEYXRhID0gb2JqZWN0KHtcbiAgcGF5bWVudDogYXJyYXkoU3VpT2JqZWN0UmVmKSxcbiAgLyoqIEdhcyBPYmplY3QncyBvd25lciAqL1xuICBvd25lcjogc3RyaW5nKCksXG4gIHByaWNlOiBzdHJpbmcoKSxcbiAgYnVkZ2V0OiBzdHJpbmcoKVxufSk7XG5jb25zdCBTdWlPYmplY3RJbmZvID0gYXNzaWduKFxuICBTdWlPYmplY3RSZWYsXG4gIG9iamVjdCh7XG4gICAgdHlwZTogc3RyaW5nKCksXG4gICAgb3duZXI6IE9iamVjdE93bmVyLFxuICAgIHByZXZpb3VzVHJhbnNhY3Rpb246IHN0cmluZygpXG4gIH0pXG4pO1xuY29uc3QgT2JqZWN0Q29udGVudEZpZWxkcyA9IHJlY29yZChzdHJpbmcoKSwgYW55KCkpO1xuY29uc3QgTW92ZVBhY2thZ2VDb250ZW50ID0gcmVjb3JkKHN0cmluZygpLCB1bmtub3duKCkpO1xuY29uc3QgU3VpTW92ZU9iamVjdCA9IG9iamVjdCh7XG4gIC8qKiBNb3ZlIHR5cGUgKGUuZy4sIFwiMHgyOjpjb2luOjpDb2luPDB4Mjo6c3VpOjpTVUk+XCIpICovXG4gIHR5cGU6IHN0cmluZygpLFxuICAvKiogRmllbGRzIGFuZCB2YWx1ZXMgc3RvcmVkIGluc2lkZSB0aGUgTW92ZSBvYmplY3QgKi9cbiAgZmllbGRzOiBPYmplY3RDb250ZW50RmllbGRzLFxuICBoYXNQdWJsaWNUcmFuc2ZlcjogYm9vbGVhbigpXG59KTtcbmNvbnN0IFN1aU1vdmVQYWNrYWdlID0gb2JqZWN0KHtcbiAgLyoqIEEgbWFwcGluZyBmcm9tIG1vZHVsZSBuYW1lIHRvIGRpc2Fzc2VtYmxlZCBNb3ZlIGJ5dGVjb2RlICovXG4gIGRpc2Fzc2VtYmxlZDogTW92ZVBhY2thZ2VDb250ZW50XG59KTtcbmNvbnN0IFN1aVBhcnNlZERhdGEgPSB1bmlvbihbXG4gIGFzc2lnbihTdWlNb3ZlT2JqZWN0LCBvYmplY3QoeyBkYXRhVHlwZTogbGl0ZXJhbChcIm1vdmVPYmplY3RcIikgfSkpLFxuICBhc3NpZ24oU3VpTW92ZVBhY2thZ2UsIG9iamVjdCh7IGRhdGFUeXBlOiBsaXRlcmFsKFwicGFja2FnZVwiKSB9KSlcbl0pO1xuY29uc3QgU3VpUmF3TW92ZU9iamVjdCA9IG9iamVjdCh7XG4gIC8qKiBNb3ZlIHR5cGUgKGUuZy4sIFwiMHgyOjpjb2luOjpDb2luPDB4Mjo6c3VpOjpTVUk+XCIpICovXG4gIHR5cGU6IHN0cmluZygpLFxuICBoYXNQdWJsaWNUcmFuc2ZlcjogYm9vbGVhbigpLFxuICB2ZXJzaW9uOiBzdHJpbmcoKSxcbiAgYmNzQnl0ZXM6IHN0cmluZygpXG59KTtcbmNvbnN0IFN1aVJhd01vdmVQYWNrYWdlID0gb2JqZWN0KHtcbiAgaWQ6IHN0cmluZygpLFxuICAvKiogQSBtYXBwaW5nIGZyb20gbW9kdWxlIG5hbWUgdG8gTW92ZSBieXRlY29kZSBlbm9jZGVkIGluIGJhc2U2NCovXG4gIG1vZHVsZU1hcDogcmVjb3JkKHN0cmluZygpLCBzdHJpbmcoKSlcbn0pO1xuY29uc3QgU3VpUmF3RGF0YSA9IHVuaW9uKFtcbiAgYXNzaWduKFN1aVJhd01vdmVPYmplY3QsIG9iamVjdCh7IGRhdGFUeXBlOiBsaXRlcmFsKFwibW92ZU9iamVjdFwiKSB9KSksXG4gIGFzc2lnbihTdWlSYXdNb3ZlUGFja2FnZSwgb2JqZWN0KHsgZGF0YVR5cGU6IGxpdGVyYWwoXCJwYWNrYWdlXCIpIH0pKVxuXSk7XG5jb25zdCBTVUlfREVDSU1BTFMgPSA5O1xuY29uc3QgTUlTVF9QRVJfU1VJID0gQmlnSW50KDFlOSk7XG5jb25zdCBTdWlPYmplY3RSZXNwb25zZUVycm9yID0gb2JqZWN0KHtcbiAgY29kZTogc3RyaW5nKCksXG4gIGVycm9yOiBvcHRpb25hbChzdHJpbmcoKSksXG4gIG9iamVjdF9pZDogb3B0aW9uYWwoc3RyaW5nKCkpLFxuICBwYXJlbnRfb2JqZWN0X2lkOiBvcHRpb25hbChzdHJpbmcoKSksXG4gIHZlcnNpb246IG9wdGlvbmFsKHN0cmluZygpKSxcbiAgZGlnZXN0OiBvcHRpb25hbChzdHJpbmcoKSlcbn0pO1xuY29uc3QgRGlzcGxheUZpZWxkc1Jlc3BvbnNlID0gb2JqZWN0KHtcbiAgZGF0YTogbnVsbGFibGUob3B0aW9uYWwocmVjb3JkKHN0cmluZygpLCBzdHJpbmcoKSkpKSxcbiAgZXJyb3I6IG51bGxhYmxlKG9wdGlvbmFsKFN1aU9iamVjdFJlc3BvbnNlRXJyb3IpKVxufSk7XG5jb25zdCBEaXNwbGF5RmllbGRzQmFja3dhcmRDb21wYXRpYmxlUmVzcG9uc2UgPSB1bmlvbihbXG4gIERpc3BsYXlGaWVsZHNSZXNwb25zZSxcbiAgb3B0aW9uYWwocmVjb3JkKHN0cmluZygpLCBzdHJpbmcoKSkpXG5dKTtcbmNvbnN0IFN1aU9iamVjdERhdGEgPSBvYmplY3Qoe1xuICBvYmplY3RJZDogc3RyaW5nKCksXG4gIHZlcnNpb246IHN0cmluZygpLFxuICBkaWdlc3Q6IHN0cmluZygpLFxuICAvKipcbiAgICogVHlwZSBvZiB0aGUgb2JqZWN0LCBkZWZhdWx0IHRvIGJlIHVuZGVmaW5lZCB1bmxlc3MgU3VpT2JqZWN0RGF0YU9wdGlvbnMuc2hvd1R5cGUgaXMgc2V0IHRvIHRydWVcbiAgICovXG4gIHR5cGU6IG51bGxhYmxlKG9wdGlvbmFsKHN0cmluZygpKSksXG4gIC8qKlxuICAgKiBNb3ZlIG9iamVjdCBjb250ZW50IG9yIHBhY2thZ2UgY29udGVudCwgZGVmYXVsdCB0byBiZSB1bmRlZmluZWQgdW5sZXNzIFN1aU9iamVjdERhdGFPcHRpb25zLnNob3dDb250ZW50IGlzIHNldCB0byB0cnVlXG4gICAqL1xuICBjb250ZW50OiBudWxsYWJsZShvcHRpb25hbChTdWlQYXJzZWREYXRhKSksXG4gIC8qKlxuICAgKiBNb3ZlIG9iamVjdCBjb250ZW50IG9yIHBhY2thZ2UgY29udGVudCBpbiBCQ1MgYnl0ZXMsIGRlZmF1bHQgdG8gYmUgdW5kZWZpbmVkIHVubGVzcyBTdWlPYmplY3REYXRhT3B0aW9ucy5zaG93QmNzIGlzIHNldCB0byB0cnVlXG4gICAqL1xuICBiY3M6IG51bGxhYmxlKG9wdGlvbmFsKFN1aVJhd0RhdGEpKSxcbiAgLyoqXG4gICAqIFRoZSBvd25lciBvZiB0aGlzIG9iamVjdC4gRGVmYXVsdCB0byBiZSB1bmRlZmluZWQgdW5sZXNzIFN1aU9iamVjdERhdGFPcHRpb25zLnNob3dPd25lciBpcyBzZXQgdG8gdHJ1ZVxuICAgKi9cbiAgb3duZXI6IG51bGxhYmxlKG9wdGlvbmFsKE9iamVjdE93bmVyKSksXG4gIC8qKlxuICAgKiBUaGUgZGlnZXN0IG9mIHRoZSB0cmFuc2FjdGlvbiB0aGF0IGNyZWF0ZWQgb3IgbGFzdCBtdXRhdGVkIHRoaXMgb2JqZWN0LlxuICAgKiBEZWZhdWx0IHRvIGJlIHVuZGVmaW5lZCB1bmxlc3MgU3VpT2JqZWN0RGF0YU9wdGlvbnMuc2hvd1ByZXZpb3VzVHJhbnNhY3Rpb24gaXMgc2V0IHRvIHRydWVcbiAgICovXG4gIHByZXZpb3VzVHJhbnNhY3Rpb246IG51bGxhYmxlKG9wdGlvbmFsKHN0cmluZygpKSksXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IG9mIFNVSSB3ZSB3b3VsZCByZWJhdGUgaWYgdGhpcyBvYmplY3QgZ2V0cyBkZWxldGVkLlxuICAgKiBUaGlzIG51bWJlciBpcyByZS1jYWxjdWxhdGVkIGVhY2ggdGltZSB0aGUgb2JqZWN0IGlzIG11dGF0ZWQgYmFzZWQgb25cbiAgICogdGhlIHByZXNlbnQgc3RvcmFnZSBnYXMgcHJpY2UuXG4gICAqIERlZmF1bHQgdG8gYmUgdW5kZWZpbmVkIHVubGVzcyBTdWlPYmplY3REYXRhT3B0aW9ucy5zaG93U3RvcmFnZVJlYmF0ZSBpcyBzZXQgdG8gdHJ1ZVxuICAgKi9cbiAgc3RvcmFnZVJlYmF0ZTogbnVsbGFibGUob3B0aW9uYWwoc3RyaW5nKCkpKSxcbiAgLyoqXG4gICAqIERpc3BsYXkgbWV0YWRhdGEgZm9yIHRoaXMgb2JqZWN0LCBkZWZhdWx0IHRvIGJlIHVuZGVmaW5lZCB1bmxlc3MgU3VpT2JqZWN0RGF0YU9wdGlvbnMuc2hvd0Rpc3BsYXkgaXMgc2V0IHRvIHRydWVcbiAgICogVGhpcyBjYW4gYWxzbyBiZSBOb25lIGlmIHRoZSBzdHJ1Y3QgdHlwZSBkb2VzIG5vdCBoYXZlIERpc3BsYXkgZGVmaW5lZFxuICAgKiBTZWUgbW9yZSBkZXRhaWxzIGluIGh0dHBzOi8vZm9ydW1zLnN1aS5pby90L25mdC1vYmplY3QtZGlzcGxheS1wcm9wb3NhbC80ODcyXG4gICAqL1xuICBkaXNwbGF5OiBudWxsYWJsZShvcHRpb25hbChEaXNwbGF5RmllbGRzQmFja3dhcmRDb21wYXRpYmxlUmVzcG9uc2UpKVxufSk7XG5jb25zdCBTdWlPYmplY3REYXRhT3B0aW9ucyA9IG9iamVjdCh7XG4gIC8qIFdoZXRoZXIgdG8gZmV0Y2ggdGhlIG9iamVjdCB0eXBlLCBkZWZhdWx0IHRvIGJlIHRydWUgKi9cbiAgc2hvd1R5cGU6IG51bGxhYmxlKG9wdGlvbmFsKGJvb2xlYW4oKSkpLFxuICAvKiBXaGV0aGVyIHRvIGZldGNoIHRoZSBvYmplY3QgY29udGVudCwgZGVmYXVsdCB0byBiZSBmYWxzZSAqL1xuICBzaG93Q29udGVudDogbnVsbGFibGUob3B0aW9uYWwoYm9vbGVhbigpKSksXG4gIC8qIFdoZXRoZXIgdG8gZmV0Y2ggdGhlIG9iamVjdCBjb250ZW50IGluIEJDUyBieXRlcywgZGVmYXVsdCB0byBiZSBmYWxzZSAqL1xuICBzaG93QmNzOiBudWxsYWJsZShvcHRpb25hbChib29sZWFuKCkpKSxcbiAgLyogV2hldGhlciB0byBmZXRjaCB0aGUgb2JqZWN0IG93bmVyLCBkZWZhdWx0IHRvIGJlIGZhbHNlICovXG4gIHNob3dPd25lcjogbnVsbGFibGUob3B0aW9uYWwoYm9vbGVhbigpKSksXG4gIC8qIFdoZXRoZXIgdG8gZmV0Y2ggdGhlIHByZXZpb3VzIHRyYW5zYWN0aW9uIGRpZ2VzdCwgZGVmYXVsdCB0byBiZSBmYWxzZSAqL1xuICBzaG93UHJldmlvdXNUcmFuc2FjdGlvbjogbnVsbGFibGUob3B0aW9uYWwoYm9vbGVhbigpKSksXG4gIC8qIFdoZXRoZXIgdG8gZmV0Y2ggdGhlIHN0b3JhZ2UgcmViYXRlLCBkZWZhdWx0IHRvIGJlIGZhbHNlICovXG4gIHNob3dTdG9yYWdlUmViYXRlOiBudWxsYWJsZShvcHRpb25hbChib29sZWFuKCkpKSxcbiAgLyogV2hldGhlciB0byBmZXRjaCB0aGUgZGlzcGxheSBtZXRhZGF0YSwgZGVmYXVsdCB0byBiZSBmYWxzZSAqL1xuICBzaG93RGlzcGxheTogbnVsbGFibGUob3B0aW9uYWwoYm9vbGVhbigpKSlcbn0pO1xuY29uc3QgT2JqZWN0U3RhdHVzID0gdW5pb24oW2xpdGVyYWwoXCJFeGlzdHNcIiksIGxpdGVyYWwoXCJub3RFeGlzdHNcIiksIGxpdGVyYWwoXCJEZWxldGVkXCIpXSk7XG5jb25zdCBHZXRPd25lZE9iamVjdHNSZXNwb25zZSA9IGFycmF5KFN1aU9iamVjdEluZm8pO1xuY29uc3QgU3VpT2JqZWN0UmVzcG9uc2UgPSBvYmplY3Qoe1xuICBkYXRhOiBudWxsYWJsZShvcHRpb25hbChTdWlPYmplY3REYXRhKSksXG4gIGVycm9yOiBudWxsYWJsZShvcHRpb25hbChTdWlPYmplY3RSZXNwb25zZUVycm9yKSlcbn0pO1xuZnVuY3Rpb24gZ2V0U3VpT2JqZWN0RGF0YShyZXNwKSB7XG4gIHJldHVybiByZXNwLmRhdGE7XG59XG5mdW5jdGlvbiBnZXRPYmplY3REZWxldGVkUmVzcG9uc2UocmVzcCkge1xuICBpZiAocmVzcC5lcnJvciAmJiBcIm9iamVjdF9pZFwiIGluIHJlc3AuZXJyb3IgJiYgXCJ2ZXJzaW9uXCIgaW4gcmVzcC5lcnJvciAmJiBcImRpZ2VzdFwiIGluIHJlc3AuZXJyb3IpIHtcbiAgICBjb25zdCBlcnJvciA9IHJlc3AuZXJyb3I7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9iamVjdElkOiBlcnJvci5vYmplY3RfaWQsXG4gICAgICB2ZXJzaW9uOiBlcnJvci52ZXJzaW9uLFxuICAgICAgZGlnZXN0OiBlcnJvci5kaWdlc3RcbiAgICB9O1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiBnZXRPYmplY3ROb3RFeGlzdHNSZXNwb25zZShyZXNwKSB7XG4gIGlmIChyZXNwLmVycm9yICYmIFwib2JqZWN0X2lkXCIgaW4gcmVzcC5lcnJvciAmJiAhKFwidmVyc2lvblwiIGluIHJlc3AuZXJyb3IpICYmICEoXCJkaWdlc3RcIiBpbiByZXNwLmVycm9yKSkge1xuICAgIHJldHVybiByZXNwLmVycm9yLm9iamVjdF9pZDtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gZ2V0T2JqZWN0UmVmZXJlbmNlKHJlc3ApIHtcbiAgaWYgKFwicmVmZXJlbmNlXCIgaW4gcmVzcCkge1xuICAgIHJldHVybiByZXNwLnJlZmVyZW5jZTtcbiAgfVxuICBjb25zdCBleGlzdHMgPSBnZXRTdWlPYmplY3REYXRhKHJlc3ApO1xuICBpZiAoZXhpc3RzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9iamVjdElkOiBleGlzdHMub2JqZWN0SWQsXG4gICAgICB2ZXJzaW9uOiBleGlzdHMudmVyc2lvbixcbiAgICAgIGRpZ2VzdDogZXhpc3RzLmRpZ2VzdFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGdldE9iamVjdERlbGV0ZWRSZXNwb25zZShyZXNwKTtcbn1cbmZ1bmN0aW9uIGdldE9iamVjdElkKGRhdGEpIHtcbiAgaWYgKFwib2JqZWN0SWRcIiBpbiBkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGEub2JqZWN0SWQ7XG4gIH1cbiAgcmV0dXJuIGdldE9iamVjdFJlZmVyZW5jZShkYXRhKT8ub2JqZWN0SWQgPz8gZ2V0T2JqZWN0Tm90RXhpc3RzUmVzcG9uc2UoZGF0YSk7XG59XG5mdW5jdGlvbiBnZXRPYmplY3RWZXJzaW9uKGRhdGEpIHtcbiAgaWYgKFwidmVyc2lvblwiIGluIGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YS52ZXJzaW9uO1xuICB9XG4gIHJldHVybiBnZXRPYmplY3RSZWZlcmVuY2UoZGF0YSk/LnZlcnNpb247XG59XG5mdW5jdGlvbiBpc1N1aU9iamVjdFJlc3BvbnNlKHJlc3ApIHtcbiAgcmV0dXJuIHJlc3AuZGF0YSAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZShyZXNwKSB7XG4gIGNvbnN0IGRhdGEgPSBpc1N1aU9iamVjdFJlc3BvbnNlKHJlc3ApID8gcmVzcC5kYXRhIDogcmVzcDtcbiAgaWYgKCFkYXRhPy50eXBlICYmIFwiZGF0YVwiIGluIHJlc3ApIHtcbiAgICBpZiAoZGF0YT8uY29udGVudD8uZGF0YVR5cGUgPT09IFwicGFja2FnZVwiKSB7XG4gICAgICByZXR1cm4gXCJwYWNrYWdlXCI7XG4gICAgfVxuICAgIHJldHVybiBnZXRNb3ZlT2JqZWN0VHlwZShyZXNwKTtcbiAgfVxuICByZXR1cm4gZGF0YT8udHlwZTtcbn1cbmZ1bmN0aW9uIGdldE9iamVjdFByZXZpb3VzVHJhbnNhY3Rpb25EaWdlc3QocmVzcCkge1xuICByZXR1cm4gZ2V0U3VpT2JqZWN0RGF0YShyZXNwKT8ucHJldmlvdXNUcmFuc2FjdGlvbjtcbn1cbmZ1bmN0aW9uIGdldE9iamVjdE93bmVyKHJlc3ApIHtcbiAgaWYgKGlzKHJlc3AsIE9iamVjdE93bmVyKSkge1xuICAgIHJldHVybiByZXNwO1xuICB9XG4gIHJldHVybiBnZXRTdWlPYmplY3REYXRhKHJlc3ApPy5vd25lcjtcbn1cbmZ1bmN0aW9uIGdldE9iamVjdERpc3BsYXkocmVzcCkge1xuICBjb25zdCBkaXNwbGF5ID0gZ2V0U3VpT2JqZWN0RGF0YShyZXNwKT8uZGlzcGxheTtcbiAgaWYgKCFkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfTtcbiAgfVxuICBpZiAoaXMoZGlzcGxheSwgRGlzcGxheUZpZWxkc1Jlc3BvbnNlKSkge1xuICAgIHJldHVybiBkaXNwbGF5O1xuICB9XG4gIHJldHVybiB7XG4gICAgZGF0YTogZGlzcGxheSxcbiAgICBlcnJvcjogbnVsbFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U2hhcmVkT2JqZWN0SW5pdGlhbFZlcnNpb24ocmVzcCkge1xuICBjb25zdCBvd25lciA9IGdldE9iamVjdE93bmVyKHJlc3ApO1xuICBpZiAob3duZXIgJiYgdHlwZW9mIG93bmVyID09PSBcIm9iamVjdFwiICYmIFwiU2hhcmVkXCIgaW4gb3duZXIpIHtcbiAgICByZXR1cm4gb3duZXIuU2hhcmVkLmluaXRpYWxfc2hhcmVkX3ZlcnNpb247XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxufVxuZnVuY3Rpb24gaXNTaGFyZWRPYmplY3QocmVzcCkge1xuICBjb25zdCBvd25lciA9IGdldE9iamVjdE93bmVyKHJlc3ApO1xuICByZXR1cm4gISFvd25lciAmJiB0eXBlb2Ygb3duZXIgPT09IFwib2JqZWN0XCIgJiYgXCJTaGFyZWRcIiBpbiBvd25lcjtcbn1cbmZ1bmN0aW9uIGlzSW1tdXRhYmxlT2JqZWN0KHJlc3ApIHtcbiAgY29uc3Qgb3duZXIgPSBnZXRPYmplY3RPd25lcihyZXNwKTtcbiAgcmV0dXJuIG93bmVyID09PSBcIkltbXV0YWJsZVwiO1xufVxuZnVuY3Rpb24gZ2V0TW92ZU9iamVjdFR5cGUocmVzcCkge1xuICByZXR1cm4gZ2V0TW92ZU9iamVjdChyZXNwKT8udHlwZTtcbn1cbmZ1bmN0aW9uIGdldE9iamVjdEZpZWxkcyhyZXNwKSB7XG4gIGlmIChcImZpZWxkc1wiIGluIHJlc3ApIHtcbiAgICByZXR1cm4gcmVzcC5maWVsZHM7XG4gIH1cbiAgcmV0dXJuIGdldE1vdmVPYmplY3QocmVzcCk/LmZpZWxkcztcbn1cbmZ1bmN0aW9uIGlzU3VpT2JqZWN0RGF0YVdpdGhDb250ZW50KGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuY29udGVudCAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gZ2V0TW92ZU9iamVjdChkYXRhKSB7XG4gIGNvbnN0IHN1aU9iamVjdCA9IFwiZGF0YVwiIGluIGRhdGEgPyBnZXRTdWlPYmplY3REYXRhKGRhdGEpIDogZGF0YTtcbiAgaWYgKCFzdWlPYmplY3QgfHwgIWlzU3VpT2JqZWN0RGF0YVdpdGhDb250ZW50KHN1aU9iamVjdCkgfHwgc3VpT2JqZWN0LmNvbnRlbnQuZGF0YVR5cGUgIT09IFwibW92ZU9iamVjdFwiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gc3VpT2JqZWN0LmNvbnRlbnQ7XG59XG5mdW5jdGlvbiBoYXNQdWJsaWNUcmFuc2ZlcihkYXRhKSB7XG4gIHJldHVybiBnZXRNb3ZlT2JqZWN0KGRhdGEpPy5oYXNQdWJsaWNUcmFuc2ZlciA/PyBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldE1vdmVQYWNrYWdlQ29udGVudChkYXRhKSB7XG4gIGlmIChcImRpc2Fzc2VtYmxlZFwiIGluIGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YS5kaXNhc3NlbWJsZWQ7XG4gIH1cbiAgY29uc3Qgc3VpT2JqZWN0ID0gZ2V0U3VpT2JqZWN0RGF0YShkYXRhKTtcbiAgaWYgKHN1aU9iamVjdD8uY29udGVudD8uZGF0YVR5cGUgIT09IFwicGFja2FnZVwiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gc3VpT2JqZWN0LmNvbnRlbnQuZGlzYXNzZW1ibGVkO1xufVxuY29uc3QgQ2hlY2twb2ludGVkT2JqZWN0SWQgPSBvYmplY3Qoe1xuICBvYmplY3RJZDogc3RyaW5nKCksXG4gIGF0Q2hlY2twb2ludDogb3B0aW9uYWwobnVtYmVyKCkpXG59KTtcbmNvbnN0IFBhZ2luYXRlZE9iamVjdHNSZXNwb25zZSA9IG9iamVjdCh7XG4gIGRhdGE6IGFycmF5KFN1aU9iamVjdFJlc3BvbnNlKSxcbiAgbmV4dEN1cnNvcjogb3B0aW9uYWwobnVsbGFibGUoc3RyaW5nKCkpKSxcbiAgaGFzTmV4dFBhZ2U6IGJvb2xlYW4oKVxufSk7XG5jb25zdCBPYmplY3RSZWFkID0gdW5pb24oW1xuICBvYmplY3Qoe1xuICAgIGRldGFpbHM6IFN1aU9iamVjdERhdGEsXG4gICAgc3RhdHVzOiBsaXRlcmFsKFwiVmVyc2lvbkZvdW5kXCIpXG4gIH0pLFxuICBvYmplY3Qoe1xuICAgIGRldGFpbHM6IHN0cmluZygpLFxuICAgIHN0YXR1czogbGl0ZXJhbChcIk9iamVjdE5vdEV4aXN0c1wiKVxuICB9KSxcbiAgb2JqZWN0KHtcbiAgICBkZXRhaWxzOiBTdWlPYmplY3RSZWYsXG4gICAgc3RhdHVzOiBsaXRlcmFsKFwiT2JqZWN0RGVsZXRlZFwiKVxuICB9KSxcbiAgb2JqZWN0KHtcbiAgICBkZXRhaWxzOiB0dXBsZShbc3RyaW5nKCksIG51bWJlcigpXSksXG4gICAgc3RhdHVzOiBsaXRlcmFsKFwiVmVyc2lvbk5vdEZvdW5kXCIpXG4gIH0pLFxuICBvYmplY3Qoe1xuICAgIGRldGFpbHM6IG9iamVjdCh7XG4gICAgICBhc2tlZF92ZXJzaW9uOiBudW1iZXIoKSxcbiAgICAgIGxhdGVzdF92ZXJzaW9uOiBudW1iZXIoKSxcbiAgICAgIG9iamVjdF9pZDogc3RyaW5nKClcbiAgICB9KSxcbiAgICBzdGF0dXM6IGxpdGVyYWwoXCJWZXJzaW9uVG9vSGlnaFwiKVxuICB9KVxuXSk7XG5leHBvcnQge1xuICBDaGVja3BvaW50ZWRPYmplY3RJZCxcbiAgRGlzcGxheUZpZWxkc0JhY2t3YXJkQ29tcGF0aWJsZVJlc3BvbnNlLFxuICBEaXNwbGF5RmllbGRzUmVzcG9uc2UsXG4gIEdldE93bmVkT2JqZWN0c1Jlc3BvbnNlLFxuICBNSVNUX1BFUl9TVUksXG4gIE1vdmVQYWNrYWdlQ29udGVudCxcbiAgT2JqZWN0Q29udGVudEZpZWxkcyxcbiAgT2JqZWN0UmVhZCxcbiAgT2JqZWN0U3RhdHVzLFxuICBPYmplY3RUeXBlLFxuICBPd25lZE9iamVjdFJlZixcbiAgUGFnaW5hdGVkT2JqZWN0c1Jlc3BvbnNlLFxuICBTVUlfREVDSU1BTFMsXG4gIFN1aUdhc0RhdGEsXG4gIFN1aU1vdmVPYmplY3QsXG4gIFN1aU1vdmVQYWNrYWdlLFxuICBTdWlPYmplY3REYXRhLFxuICBTdWlPYmplY3REYXRhT3B0aW9ucyxcbiAgU3VpT2JqZWN0SW5mbyxcbiAgU3VpT2JqZWN0UmVmLFxuICBTdWlPYmplY3RSZXNwb25zZSxcbiAgU3VpT2JqZWN0UmVzcG9uc2VFcnJvcixcbiAgU3VpUGFyc2VkRGF0YSxcbiAgU3VpUmF3RGF0YSxcbiAgU3VpUmF3TW92ZU9iamVjdCxcbiAgU3VpUmF3TW92ZVBhY2thZ2UsXG4gIFRyYW5zYWN0aW9uRWZmZWN0c01vZGlmaWVkQXRWZXJzaW9ucyxcbiAgZ2V0TW92ZU9iamVjdCxcbiAgZ2V0TW92ZU9iamVjdFR5cGUsXG4gIGdldE1vdmVQYWNrYWdlQ29udGVudCxcbiAgZ2V0T2JqZWN0RGVsZXRlZFJlc3BvbnNlLFxuICBnZXRPYmplY3REaXNwbGF5LFxuICBnZXRPYmplY3RGaWVsZHMsXG4gIGdldE9iamVjdElkLFxuICBnZXRPYmplY3ROb3RFeGlzdHNSZXNwb25zZSxcbiAgZ2V0T2JqZWN0T3duZXIsXG4gIGdldE9iamVjdFByZXZpb3VzVHJhbnNhY3Rpb25EaWdlc3QsXG4gIGdldE9iamVjdFJlZmVyZW5jZSxcbiAgZ2V0T2JqZWN0VHlwZSxcbiAgZ2V0T2JqZWN0VmVyc2lvbixcbiAgZ2V0U2hhcmVkT2JqZWN0SW5pdGlhbFZlcnNpb24sXG4gIGdldFN1aU9iamVjdERhdGEsXG4gIGhhc1B1YmxpY1RyYW5zZmVyLFxuICBpc0ltbXV0YWJsZU9iamVjdCxcbiAgaXNTaGFyZWRPYmplY3QsXG4gIGlzU3VpT2JqZWN0UmVzcG9uc2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYmplY3RzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/types/objects.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/format.js":
/*!******************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/utils/format.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatAddress: () => (/* binding */ formatAddress),\n/* harmony export */   formatDigest: () => (/* binding */ formatDigest)\n/* harmony export */ });\nconst ELLIPSIS = \"\\u2026\";\nfunction formatAddress(address) {\n  if (address.length <= 6) {\n    return address;\n  }\n  const offset = address.startsWith(\"0x\") ? 2 : 0;\n  return `0x${address.slice(offset, offset + 4)}${ELLIPSIS}${address.slice(-4)}`;\n}\nfunction formatDigest(digest) {\n  return `${digest.slice(0, 10)}${ELLIPSIS}`;\n}\n\n//# sourceMappingURL=format.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3V0aWxzL2Zvcm1hdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0NBQWtDLEVBQUUsU0FBUyxFQUFFLGtCQUFrQjtBQUMvRTtBQUNBO0FBQ0EsWUFBWSxvQkFBb0IsRUFBRSxTQUFTO0FBQzNDO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS91dGlscy9mb3JtYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRUxMSVBTSVMgPSBcIlxcdTIwMjZcIjtcbmZ1bmN0aW9uIGZvcm1hdEFkZHJlc3MoYWRkcmVzcykge1xuICBpZiAoYWRkcmVzcy5sZW5ndGggPD0gNikge1xuICAgIHJldHVybiBhZGRyZXNzO1xuICB9XG4gIGNvbnN0IG9mZnNldCA9IGFkZHJlc3Muc3RhcnRzV2l0aChcIjB4XCIpID8gMiA6IDA7XG4gIHJldHVybiBgMHgke2FkZHJlc3Muc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyA0KX0ke0VMTElQU0lTfSR7YWRkcmVzcy5zbGljZSgtNCl9YDtcbn1cbmZ1bmN0aW9uIGZvcm1hdERpZ2VzdChkaWdlc3QpIHtcbiAgcmV0dXJuIGAke2RpZ2VzdC5zbGljZSgwLCAxMCl9JHtFTExJUFNJU31gO1xufVxuZXhwb3J0IHtcbiAgZm9ybWF0QWRkcmVzcyxcbiAgZm9ybWF0RGlnZXN0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/format.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/index.js":
/*!*****************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/utils/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MIST_PER_SUI: () => (/* binding */ MIST_PER_SUI),\n/* harmony export */   MOVE_STDLIB_ADDRESS: () => (/* binding */ MOVE_STDLIB_ADDRESS),\n/* harmony export */   SUI_ADDRESS_LENGTH: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.SUI_ADDRESS_LENGTH),\n/* harmony export */   SUI_CLOCK_OBJECT_ID: () => (/* binding */ SUI_CLOCK_OBJECT_ID),\n/* harmony export */   SUI_DECIMALS: () => (/* binding */ SUI_DECIMALS),\n/* harmony export */   SUI_FRAMEWORK_ADDRESS: () => (/* binding */ SUI_FRAMEWORK_ADDRESS),\n/* harmony export */   SUI_SYSTEM_ADDRESS: () => (/* binding */ SUI_SYSTEM_ADDRESS),\n/* harmony export */   SUI_SYSTEM_MODULE_NAME: () => (/* binding */ SUI_SYSTEM_MODULE_NAME),\n/* harmony export */   SUI_SYSTEM_STATE_OBJECT_ID: () => (/* binding */ SUI_SYSTEM_STATE_OBJECT_ID),\n/* harmony export */   SUI_TYPE_ARG: () => (/* binding */ SUI_TYPE_ARG),\n/* harmony export */   assert: () => (/* reexport safe */ superstruct__WEBPACK_IMPORTED_MODULE_1__.assert),\n/* harmony export */   formatAddress: () => (/* reexport safe */ _format_js__WEBPACK_IMPORTED_MODULE_2__.formatAddress),\n/* harmony export */   formatDigest: () => (/* reexport safe */ _format_js__WEBPACK_IMPORTED_MODULE_2__.formatDigest),\n/* harmony export */   fromB64: () => (/* reexport safe */ _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.fromB64),\n/* harmony export */   fromHEX: () => (/* reexport safe */ _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.fromHEX),\n/* harmony export */   is: () => (/* reexport safe */ superstruct__WEBPACK_IMPORTED_MODULE_1__.is),\n/* harmony export */   isValidSuiAddress: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.isValidSuiAddress),\n/* harmony export */   isValidSuiObjectId: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.isValidSuiObjectId),\n/* harmony export */   isValidTransactionDigest: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.isValidTransactionDigest),\n/* harmony export */   normalizeStructTag: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.normalizeStructTag),\n/* harmony export */   normalizeSuiAddress: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.normalizeSuiAddress),\n/* harmony export */   normalizeSuiObjectId: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.normalizeSuiObjectId),\n/* harmony export */   parseStructTag: () => (/* reexport safe */ _sui_types_js__WEBPACK_IMPORTED_MODULE_0__.parseStructTag),\n/* harmony export */   toB64: () => (/* reexport safe */ _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.toB64),\n/* harmony export */   toHEX: () => (/* reexport safe */ _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.toHEX)\n/* harmony export */ });\n/* harmony import */ var _format_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./format.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/format.js\");\n/* harmony import */ var _sui_types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sui-types.js */ \"(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n/* harmony import */ var superstruct__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! superstruct */ \"(ssr)/../../node_modules/superstruct/dist/index.mjs\");\n\n\n\n\nconst SUI_DECIMALS = 9;\nconst MIST_PER_SUI = BigInt(1e9);\nconst MOVE_STDLIB_ADDRESS = \"0x1\";\nconst SUI_FRAMEWORK_ADDRESS = \"0x2\";\nconst SUI_SYSTEM_ADDRESS = \"0x3\";\nconst SUI_CLOCK_OBJECT_ID = (0,_sui_types_js__WEBPACK_IMPORTED_MODULE_0__.normalizeSuiObjectId)(\"0x6\");\nconst SUI_SYSTEM_MODULE_NAME = \"sui_system\";\nconst SUI_TYPE_ARG = `${SUI_FRAMEWORK_ADDRESS}::sui::SUI`;\nconst SUI_SYSTEM_STATE_OBJECT_ID = (0,_sui_types_js__WEBPACK_IMPORTED_MODULE_0__.normalizeSuiObjectId)(\"0x5\");\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3V0aWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBEO0FBVWxDO0FBQ3FDO0FBQ3BCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUVBQW9CO0FBQ2hEO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5QyxtQ0FBbUMsbUVBQW9CO0FBMkJyRDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvdXNlci9Eb3dubG9hZHMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3V0aWxzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdEFkZHJlc3MsIGZvcm1hdERpZ2VzdCB9IGZyb20gXCIuL2Zvcm1hdC5qc1wiO1xuaW1wb3J0IHtcbiAgaXNWYWxpZFN1aUFkZHJlc3MsXG4gIGlzVmFsaWRTdWlPYmplY3RJZCxcbiAgaXNWYWxpZFRyYW5zYWN0aW9uRGlnZXN0LFxuICBub3JtYWxpemVTdHJ1Y3RUYWcsXG4gIG5vcm1hbGl6ZVN1aUFkZHJlc3MsXG4gIG5vcm1hbGl6ZVN1aU9iamVjdElkLFxuICBwYXJzZVN0cnVjdFRhZyxcbiAgU1VJX0FERFJFU1NfTEVOR1RIXG59IGZyb20gXCIuL3N1aS10eXBlcy5qc1wiO1xuaW1wb3J0IHsgZnJvbUI2NCwgdG9CNjQsIGZyb21IRVgsIHRvSEVYIH0gZnJvbSBcIkBteXN0ZW4vYmNzXCI7XG5pbXBvcnQgeyBpcywgYXNzZXJ0IH0gZnJvbSBcInN1cGVyc3RydWN0XCI7XG5jb25zdCBTVUlfREVDSU1BTFMgPSA5O1xuY29uc3QgTUlTVF9QRVJfU1VJID0gQmlnSW50KDFlOSk7XG5jb25zdCBNT1ZFX1NURExJQl9BRERSRVNTID0gXCIweDFcIjtcbmNvbnN0IFNVSV9GUkFNRVdPUktfQUREUkVTUyA9IFwiMHgyXCI7XG5jb25zdCBTVUlfU1lTVEVNX0FERFJFU1MgPSBcIjB4M1wiO1xuY29uc3QgU1VJX0NMT0NLX09CSkVDVF9JRCA9IG5vcm1hbGl6ZVN1aU9iamVjdElkKFwiMHg2XCIpO1xuY29uc3QgU1VJX1NZU1RFTV9NT0RVTEVfTkFNRSA9IFwic3VpX3N5c3RlbVwiO1xuY29uc3QgU1VJX1RZUEVfQVJHID0gYCR7U1VJX0ZSQU1FV09SS19BRERSRVNTfTo6c3VpOjpTVUlgO1xuY29uc3QgU1VJX1NZU1RFTV9TVEFURV9PQkpFQ1RfSUQgPSBub3JtYWxpemVTdWlPYmplY3RJZChcIjB4NVwiKTtcbmV4cG9ydCB7XG4gIE1JU1RfUEVSX1NVSSxcbiAgTU9WRV9TVERMSUJfQUREUkVTUyxcbiAgU1VJX0FERFJFU1NfTEVOR1RILFxuICBTVUlfQ0xPQ0tfT0JKRUNUX0lELFxuICBTVUlfREVDSU1BTFMsXG4gIFNVSV9GUkFNRVdPUktfQUREUkVTUyxcbiAgU1VJX1NZU1RFTV9BRERSRVNTLFxuICBTVUlfU1lTVEVNX01PRFVMRV9OQU1FLFxuICBTVUlfU1lTVEVNX1NUQVRFX09CSkVDVF9JRCxcbiAgU1VJX1RZUEVfQVJHLFxuICBhc3NlcnQsXG4gIGZvcm1hdEFkZHJlc3MsXG4gIGZvcm1hdERpZ2VzdCxcbiAgZnJvbUI2NCxcbiAgZnJvbUhFWCxcbiAgaXMsXG4gIGlzVmFsaWRTdWlBZGRyZXNzLFxuICBpc1ZhbGlkU3VpT2JqZWN0SWQsXG4gIGlzVmFsaWRUcmFuc2FjdGlvbkRpZ2VzdCxcbiAgbm9ybWFsaXplU3RydWN0VGFnLFxuICBub3JtYWxpemVTdWlBZGRyZXNzLFxuICBub3JtYWxpemVTdWlPYmplY3RJZCxcbiAgcGFyc2VTdHJ1Y3RUYWcsXG4gIHRvQjY0LFxuICB0b0hFWFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/index.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js":
/*!*********************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUI_ADDRESS_LENGTH: () => (/* binding */ SUI_ADDRESS_LENGTH),\n/* harmony export */   isValidSuiAddress: () => (/* binding */ isValidSuiAddress),\n/* harmony export */   isValidSuiObjectId: () => (/* binding */ isValidSuiObjectId),\n/* harmony export */   isValidTransactionDigest: () => (/* binding */ isValidTransactionDigest),\n/* harmony export */   normalizeStructTag: () => (/* binding */ normalizeStructTag),\n/* harmony export */   normalizeSuiAddress: () => (/* binding */ normalizeSuiAddress),\n/* harmony export */   normalizeSuiObjectId: () => (/* binding */ normalizeSuiObjectId),\n/* harmony export */   parseStructTag: () => (/* binding */ parseStructTag)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/../../node_modules/@mysten/bcs/dist/index.mjs\");\n\nconst TX_DIGEST_LENGTH = 32;\nfunction isValidTransactionDigest(value) {\n  try {\n    const buffer = (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.fromB58)(value);\n    return buffer.length === TX_DIGEST_LENGTH;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUI_ADDRESS_LENGTH = 32;\nfunction isValidSuiAddress(value) {\n  return isHex(value) && getHexByteLength(value) === SUI_ADDRESS_LENGTH;\n}\nfunction isValidSuiObjectId(value) {\n  return isValidSuiAddress(value);\n}\nfunction parseTypeTag(type) {\n  if (!type.includes(\"::\"))\n    return type;\n  return parseStructTag(type);\n}\nfunction parseStructTag(type) {\n  const [address, module] = type.split(\"::\");\n  const rest = type.slice(address.length + module.length + 4);\n  const name = rest.includes(\"<\") ? rest.slice(0, rest.indexOf(\"<\")) : rest;\n  const typeParams = rest.includes(\"<\") ? (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_0__.splitGenericParameters)(rest.slice(rest.indexOf(\"<\") + 1, rest.lastIndexOf(\">\"))).map(\n    (typeParam) => parseTypeTag(typeParam.trim())\n  ) : [];\n  return {\n    address: normalizeSuiAddress(address),\n    module,\n    name,\n    typeParams\n  };\n}\nfunction normalizeStructTag(type) {\n  const { address, module, name, typeParams } = typeof type === \"string\" ? parseStructTag(type) : type;\n  const formattedTypeParams = typeParams.length > 0 ? `<${typeParams.map(\n    (typeParam) => typeof typeParam === \"string\" ? typeParam : normalizeStructTag(typeParam)\n  ).join(\",\")}>` : \"\";\n  return `${address}::${module}::${name}${formattedTypeParams}`;\n}\nfunction normalizeSuiAddress(value, forceAdd0x = false) {\n  let address = value.toLowerCase();\n  if (!forceAdd0x && address.startsWith(\"0x\")) {\n    address = address.slice(2);\n  }\n  return `0x${address.padStart(SUI_ADDRESS_LENGTH * 2, \"0\")}`;\n}\nfunction normalizeSuiObjectId(value, forceAdd0x = false) {\n  return normalizeSuiAddress(value, forceAdd0x);\n}\nfunction isHex(value) {\n  return /^(0x|0X)?[a-fA-F0-9]+$/.test(value) && value.length % 2 === 0;\n}\nfunction getHexByteLength(value) {\n  return /^(0x|0X)/.test(value) ? (value.length - 2) / 2 : value.length / 2;\n}\n\n//# sourceMappingURL=sui-types.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3V0aWxzL3N1aS10eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9EQUFPO0FBQzFCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLG1FQUFzQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0NBQW9DO0FBQzlDLDBEQUEwRDtBQUMxRDtBQUNBLGNBQWM7QUFDZCxZQUFZLFFBQVEsSUFBSSxPQUFPLElBQUksS0FBSyxFQUFFLG9CQUFvQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDhDQUE4QztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyL0Rvd25sb2Fkcy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zdWkuanMvZGlzdC9lc20vdXRpbHMvc3VpLXR5cGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21CNTgsIHNwbGl0R2VuZXJpY1BhcmFtZXRlcnMgfSBmcm9tIFwiQG15c3Rlbi9iY3NcIjtcbmNvbnN0IFRYX0RJR0VTVF9MRU5HVEggPSAzMjtcbmZ1bmN0aW9uIGlzVmFsaWRUcmFuc2FjdGlvbkRpZ2VzdCh2YWx1ZSkge1xuICB0cnkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGZyb21CNTgodmFsdWUpO1xuICAgIHJldHVybiBidWZmZXIubGVuZ3RoID09PSBUWF9ESUdFU1RfTEVOR1RIO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5jb25zdCBTVUlfQUREUkVTU19MRU5HVEggPSAzMjtcbmZ1bmN0aW9uIGlzVmFsaWRTdWlBZGRyZXNzKHZhbHVlKSB7XG4gIHJldHVybiBpc0hleCh2YWx1ZSkgJiYgZ2V0SGV4Qnl0ZUxlbmd0aCh2YWx1ZSkgPT09IFNVSV9BRERSRVNTX0xFTkdUSDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRTdWlPYmplY3RJZCh2YWx1ZSkge1xuICByZXR1cm4gaXNWYWxpZFN1aUFkZHJlc3ModmFsdWUpO1xufVxuZnVuY3Rpb24gcGFyc2VUeXBlVGFnKHR5cGUpIHtcbiAgaWYgKCF0eXBlLmluY2x1ZGVzKFwiOjpcIikpXG4gICAgcmV0dXJuIHR5cGU7XG4gIHJldHVybiBwYXJzZVN0cnVjdFRhZyh0eXBlKTtcbn1cbmZ1bmN0aW9uIHBhcnNlU3RydWN0VGFnKHR5cGUpIHtcbiAgY29uc3QgW2FkZHJlc3MsIG1vZHVsZV0gPSB0eXBlLnNwbGl0KFwiOjpcIik7XG4gIGNvbnN0IHJlc3QgPSB0eXBlLnNsaWNlKGFkZHJlc3MubGVuZ3RoICsgbW9kdWxlLmxlbmd0aCArIDQpO1xuICBjb25zdCBuYW1lID0gcmVzdC5pbmNsdWRlcyhcIjxcIikgPyByZXN0LnNsaWNlKDAsIHJlc3QuaW5kZXhPZihcIjxcIikpIDogcmVzdDtcbiAgY29uc3QgdHlwZVBhcmFtcyA9IHJlc3QuaW5jbHVkZXMoXCI8XCIpID8gc3BsaXRHZW5lcmljUGFyYW1ldGVycyhyZXN0LnNsaWNlKHJlc3QuaW5kZXhPZihcIjxcIikgKyAxLCByZXN0Lmxhc3RJbmRleE9mKFwiPlwiKSkpLm1hcChcbiAgICAodHlwZVBhcmFtKSA9PiBwYXJzZVR5cGVUYWcodHlwZVBhcmFtLnRyaW0oKSlcbiAgKSA6IFtdO1xuICByZXR1cm4ge1xuICAgIGFkZHJlc3M6IG5vcm1hbGl6ZVN1aUFkZHJlc3MoYWRkcmVzcyksXG4gICAgbW9kdWxlLFxuICAgIG5hbWUsXG4gICAgdHlwZVBhcmFtc1xuICB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3RydWN0VGFnKHR5cGUpIHtcbiAgY29uc3QgeyBhZGRyZXNzLCBtb2R1bGUsIG5hbWUsIHR5cGVQYXJhbXMgfSA9IHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiID8gcGFyc2VTdHJ1Y3RUYWcodHlwZSkgOiB0eXBlO1xuICBjb25zdCBmb3JtYXR0ZWRUeXBlUGFyYW1zID0gdHlwZVBhcmFtcy5sZW5ndGggPiAwID8gYDwke3R5cGVQYXJhbXMubWFwKFxuICAgICh0eXBlUGFyYW0pID0+IHR5cGVvZiB0eXBlUGFyYW0gPT09IFwic3RyaW5nXCIgPyB0eXBlUGFyYW0gOiBub3JtYWxpemVTdHJ1Y3RUYWcodHlwZVBhcmFtKVxuICApLmpvaW4oXCIsXCIpfT5gIDogXCJcIjtcbiAgcmV0dXJuIGAke2FkZHJlc3N9Ojoke21vZHVsZX06OiR7bmFtZX0ke2Zvcm1hdHRlZFR5cGVQYXJhbXN9YDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN1aUFkZHJlc3ModmFsdWUsIGZvcmNlQWRkMHggPSBmYWxzZSkge1xuICBsZXQgYWRkcmVzcyA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghZm9yY2VBZGQweCAmJiBhZGRyZXNzLnN0YXJ0c1dpdGgoXCIweFwiKSkge1xuICAgIGFkZHJlc3MgPSBhZGRyZXNzLnNsaWNlKDIpO1xuICB9XG4gIHJldHVybiBgMHgke2FkZHJlc3MucGFkU3RhcnQoU1VJX0FERFJFU1NfTEVOR1RIICogMiwgXCIwXCIpfWA7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdWlPYmplY3RJZCh2YWx1ZSwgZm9yY2VBZGQweCA9IGZhbHNlKSB7XG4gIHJldHVybiBub3JtYWxpemVTdWlBZGRyZXNzKHZhbHVlLCBmb3JjZUFkZDB4KTtcbn1cbmZ1bmN0aW9uIGlzSGV4KHZhbHVlKSB7XG4gIHJldHVybiAvXigweHwwWCk/W2EtZkEtRjAtOV0rJC8udGVzdCh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoICUgMiA9PT0gMDtcbn1cbmZ1bmN0aW9uIGdldEhleEJ5dGVMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIC9eKDB4fDBYKS8udGVzdCh2YWx1ZSkgPyAodmFsdWUubGVuZ3RoIC0gMikgLyAyIDogdmFsdWUubGVuZ3RoIC8gMjtcbn1cbmV4cG9ydCB7XG4gIFNVSV9BRERSRVNTX0xFTkdUSCxcbiAgaXNWYWxpZFN1aUFkZHJlc3MsXG4gIGlzVmFsaWRTdWlPYmplY3RJZCxcbiAgaXNWYWxpZFRyYW5zYWN0aW9uRGlnZXN0LFxuICBub3JtYWxpemVTdHJ1Y3RUYWcsXG4gIG5vcm1hbGl6ZVN1aUFkZHJlc3MsXG4gIG5vcm1hbGl6ZVN1aU9iamVjdElkLFxuICBwYXJzZVN0cnVjdFRhZ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1aS10eXBlcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/utils/sui-types.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/@mysten/sui.js/dist/esm/version.js":
/*!*************************************************************!*\
  !*** ../../node_modules/@mysten/sui.js/dist/esm/version.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PACKAGE_VERSION: () => (/* binding */ PACKAGE_VERSION),\n/* harmony export */   TARGETED_RPC_VERSION: () => (/* binding */ TARGETED_RPC_VERSION)\n/* harmony export */ });\nconst PACKAGE_VERSION = \"0.48.0\";\nconst TARGETED_RPC_VERSION = \"1.16.0\";\n\n//# sourceMappingURL=version.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BteXN0ZW4vc3VpLmpzL2Rpc3QvZXNtL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3VzZXIvRG93bmxvYWRzL25vZGVfbW9kdWxlcy9AbXlzdGVuL3N1aS5qcy9kaXN0L2VzbS92ZXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBBQ0tBR0VfVkVSU0lPTiA9IFwiMC40OC4wXCI7XG5jb25zdCBUQVJHRVRFRF9SUENfVkVSU0lPTiA9IFwiMS4xNi4wXCI7XG5leHBvcnQge1xuICBQQUNLQUdFX1ZFUlNJT04sXG4gIFRBUkdFVEVEX1JQQ19WRVJTSU9OXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@mysten/sui.js/dist/esm/version.js\n");

/***/ })

};
;